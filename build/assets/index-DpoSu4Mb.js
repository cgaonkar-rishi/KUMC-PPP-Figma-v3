import{r as t,j as e,F as Is,U as Os,D as Ee,d as Ps,C as Ze,e as We,f as qs,h as ct,L as Pt,i as zt,B as Zs,S as Fs,k as He,l as as,m as Dt,n as Rt,o as Es,p as Lt,E as Oe,q as is,s as Ms,t as Tt,T as Ut,u as Qe,v as It,w as As,X as ce,x as cs,y as Ve,P as Xe,z as Kt,W as Ft,G as Ls,H as Et,I as Pe,J as bs,K as ns,M as $t,N as ve,O as Ce,Q as we,V as ys,Y as mt,Z as Bt,_ as Vt,$ as fs,a0 as Ot,a1 as $s,R as qt,a2 as et,a3 as Rs,a4 as ls,a5 as Ts,a6 as ks,a7 as ds,a8 as Bs,a9 as st,aa as tt,ab as Ht,ac as Wt,ad as Gt,ae as Jt,af as _t,ag as Yt,ah as Qt,ai as Xt,aj as Zt,ak as ea,al as sa,am as ta,an as aa,ao as ra,ap as ia,aq as na,ar as la,as as da,at,au as oa,av as rs,aw as ca,ax as ma,ay as xa,az as ua,aA as pa,aB as ha}from"./react-vendor-CJeBrYql.js";import{at as v,au as ga,z as ya,av as ba,aw as rt}from"./vendor-BNJncJ3o.js";import{R as it,B as ja,C as Na,X as fa,Y as va,T as nt,a as Ca,P as wa,b as Sa,c as ka}from"./charts-D9fnOZ_a.js";import"./ui-vendor-e1yigncZ.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))b(u);new MutationObserver(u=>{for(const U of u)if(U.type==="childList")for(const S of U.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&b(S)}).observe(document,{childList:!0,subtree:!0});function o(u){const U={};return u.integrity&&(U.integrity=u.integrity),u.referrerPolicy&&(U.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?U.credentials="include":u.crossOrigin==="anonymous"?U.credentials="omit":U.credentials="same-origin",U}function b(u){if(u.ep)return;u.ep=!0;const U=o(u);fetch(u.href,U)}})();function Aa({currentPage:r,onNavigate:d,isCollapsed:o,onToggleCollapse:b}){const[u,U]=t.useState(!1),[S,j]=t.useState(!1),w=[{id:"studies",label:"Studies",icon:Is},{id:"participants",label:"Participants",icon:Os},{id:"payments",label:"Payments",icon:Ee,hasSubmenu:!0},{id:"reports",label:"Reports",icon:Ps,hasSubmenu:!0}];return e.jsxs("div",{className:`bg-ku-blue text-white transition-all duration-300 ${o?"w-20":"w-64"} flex flex-col`,children:[e.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:e.jsx("ul",{className:"space-y-2",children:w.map(k=>{const h=k.icon,z=r===k.id||r.startsWith(k.id+"-");return k.hasSubmenu&&k.id==="payments"?e.jsxs("li",{children:[e.jsxs("button",{onClick:()=>{o?d(k.id):j(!S)},className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg transition-colors ${z?"bg-white text-ku-blue shadow-lg":"hover:bg-ku-blue-dark/70"}`,title:o?k.label:"",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{size:20}),!o&&e.jsx("span",{children:k.label})]}),!o&&(S?e.jsx(Ze,{size:16}):e.jsx(We,{size:16}))]}),!o&&S&&e.jsxs("ul",{className:"mt-2 ml-4 space-y-1",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>d("payments-wizard"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="payments-wizard"?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"}`,children:"Create Payment Request"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>d("payments"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="payments"?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"}`,children:"Payment Requests"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>d("payment-batches"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="payment-batches"?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"}`,children:"Payment Batches"})})]})]},k.id):k.hasSubmenu&&k.id==="reports"?e.jsxs("li",{children:[e.jsxs("button",{onClick:()=>{o?d(k.id):U(!u)},className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg transition-colors ${z?"bg-white text-ku-blue shadow-lg":"hover:bg-ku-blue-dark/70"}`,title:o?k.label:"",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{size:20}),!o&&e.jsx("span",{children:k.label})]}),!o&&(u?e.jsx(Ze,{size:16}):e.jsx(We,{size:16}))]}),!o&&u&&e.jsxs("ul",{className:"mt-2 ml-4 space-y-1",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>d("reports-financial"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r.startsWith("reports-financial")?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"}`,children:"Financial Reporting"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>d("reports-1099"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="reports-1099"?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"}`,children:"1099 Tax Report"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>d("reports-reconciliation"),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${r==="reports-reconciliation"?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"}`,children:"Reconciliation"})})]})]},k.id):e.jsx("li",{children:e.jsxs("button",{onClick:()=>d(k.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${z?"bg-white text-ku-blue shadow-lg":"hover:bg-ku-blue-dark/70"}`,title:o?k.label:"",children:[e.jsx(h,{size:20}),!o&&e.jsx("span",{children:k.label})]})},k.id)})})}),e.jsx("div",{className:"p-4 border-t border-ku-blue",children:e.jsxs("div",{className:`flex items-center gap-3 ${o?"justify-center":""}`,children:[e.jsx("div",{className:"w-10 h-10 bg-ku-blue rounded-full flex items-center justify-center",children:e.jsx("span",{children:"A"})}),!o&&e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Admin User"}),e.jsx("p",{className:"text-xs text-ku-blue-light",children:"admin@hospital.com"})]})]})})]})}const Ma=r=>r.role==="Admin"||r.role==="Study Coordinator",Pa=(r,d)=>r.role==="Admin"?!0:r.role==="Study Coordinator"?r.assignedStudies?.includes(d.studyNumber)??!1:!1,za=(r,d)=>r.role==="Admin",Da=(r,d)=>r.role==="Admin"?!0:r.role==="Study Coordinator"?d==="participants"||d==="milestones":!1,Ra=r=>r.role==="Admin"||r.role==="Study Coordinator",La=r=>({Admin:"bg-blue-100 text-blue-800 ring-blue-600/20","Study Coordinator":"bg-green-100 text-green-800 ring-green-600/20","Read Only":"bg-gray-100 text-gray-800 ring-gray-600/20"})[r];function Ta({currentPage:r,onNavigate:d,isSidebarCollapsed:o,onToggleSidebar:b,currentUserRole:u="Admin",onRoleChange:U}){const[S,j]=t.useState(!1),[w,k]=t.useState(!1),[h,z]=t.useState(!1),[p,L]=t.useState(!1),A=t.useRef(null),f=t.useRef(null),$=t.useRef(null),H=t.useRef(null);t.useEffect(()=>{const y=K=>{A.current&&!A.current.contains(K.target)&&j(!1),f.current&&!f.current.contains(K.target)&&k(!1),$.current&&!$.current.contains(K.target)&&z(!1),H.current&&!H.current.contains(K.target)&&L(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),t.useEffect(()=>{const y=K=>{K.key==="Escape"&&(j(!1),k(!1),z(!1),L(!1))};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[]);const D=[{id:1,title:"New participant enrolled",message:"John Smith has been enrolled in CHS-2026-001",time:"5 min ago",type:"success",read:!1},{id:2,title:"Visit reminder",message:"Sarah Johnson has a scheduled visit at 10:30 AM",time:"15 min ago",type:"info",read:!1},{id:3,title:"Study milestone reached",message:"DPT-2025-019 has reached 200 participants",time:"1 hour ago",type:"success",read:!1},{id:4,title:"Document pending review",message:"Protocol amendment requires your approval",time:"2 hours ago",type:"warning",read:!0},{id:5,title:"Visit completed",message:"Michael Brown completed follow-up visit",time:"3 hours ago",type:"info",read:!0}],R=D.filter(y=>!y.read).length;return e.jsxs("header",{className:"bg-white border-b border-gray-200 flex items-center h-16",children:[e.jsxs("div",{className:`h-16 bg-white flex items-center justify-between px-6 border-r border-gray-200 transition-all duration-300 ${o?"w-20":"w-64"}`,children:[!o&&e.jsx("div",{className:"flex-1 mr-2",children:e.jsxs("svg",{viewBox:"0 0 200 40",className:"w-full h-10",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"KUMC Medical Center Logo",children:[e.jsx("title",{children:"KUMC Medical Center"}),e.jsx("text",{x:"10",y:"28",fontFamily:"Arial, sans-serif",fontSize:"24",fontWeight:"bold",fill:"#0051BA",children:"KUMC"}),e.jsx("text",{x:"10",y:"38",fontFamily:"Arial, sans-serif",fontSize:"8",fill:"#0051BA",children:"Medical Center"})]})}),o&&e.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:e.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"KUMC Logo",children:[e.jsx("title",{children:"KUMC"}),e.jsx("text",{x:"5",y:"28",fontFamily:"Arial, sans-serif",fontSize:"20",fontWeight:"bold",fill:"#0051BA",children:"K"})]})}),e.jsx("button",{onClick:b,"aria-label":o?"Expand sidebar":"Collapse sidebar",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:o?e.jsx(qs,{size:20,className:"text-gray-700","aria-hidden":"true"}):e.jsx(ct,{size:20,className:"text-gray-700","aria-hidden":"true"})})]}),e.jsxs("div",{className:"flex-1 flex items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative w-12 h-12 rounded-lg bg-gradient-to-br from-red-600 via-red-700 to-red-800 flex items-center justify-center shadow-md ring-2 ring-white",children:[e.jsxs("div",{className:"text-white font-bold text-xl tracking-tight",children:["P",e.jsx("span",{className:"text-sm align-super",children:"3"})]}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 rounded-full border-2 border-white flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold leading-none",children:"âœ“"})})]}),e.jsx("div",{children:e.jsx("h1",{className:"text-2xl text-ku-blue font-semibold tracking-tight",children:"Participant Payment Portal"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>d?.("dashboard"),"aria-label":"Go to dashboard",className:"px-4 py-2.5 bg-gradient-to-r from-[#0051BA] to-[#003A70] hover:from-[#003A70] hover:to-[#0051BA] text-white rounded-full transition-all duration-200 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-[#0051BA] focus:ring-offset-2 flex items-center gap-2 font-medium text-sm shadow-md",children:[e.jsx(Pt,{size:16,"aria-hidden":"true"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs("button",{onClick:()=>d?.("help"),"aria-label":"Help and support",className:"px-4 py-2.5 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-full transition-all duration-200 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2 flex items-center gap-2 font-medium text-sm shadow-md",children:[e.jsx(zt,{size:16,"aria-hidden":"true"}),e.jsx("span",{children:"Help"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[e.jsxs("div",{className:"relative",ref:A,children:[e.jsxs("button",{onClick:()=>j(!S),"aria-label":`Notifications${R>0?`, ${R} unread`:""}`,"aria-expanded":S,"aria-haspopup":"true",className:"relative p-2.5 hover:bg-amber-100 text-gray-600 hover:text-amber-700 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-amber-500 bg-gray-100",children:[e.jsx(Zs,{size:18,"aria-hidden":"true"}),R>0&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"sr-only",children:[R," unread notifications"]}),e.jsx("span",{className:"absolute top-1 right-1 w-5 h-5 bg-gradient-to-br from-red-500 to-red-600 text-white text-xs rounded-full flex items-center justify-center shadow-md","aria-hidden":"true",children:R})]})]}),S&&e.jsxs("div",{role:"region","aria-label":"Notifications panel",className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-gray-100 z-50 overflow-hidden",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-500 via-gray-600 to-slate-700 p-5",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white opacity-5 rounded-full -ml-12 -mb-12"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center ring-2 ring-white/30 shadow-lg",children:e.jsx(Zs,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold text-lg",children:"Notifications"}),e.jsxs("p",{className:"text-xs text-gray-200",children:[R," unread messages"]})]})]}),e.jsx("button",{className:"text-xs text-white hover:text-gray-100 font-medium bg-white/20 px-3 py-1.5 rounded-lg hover:bg-white/30 transition-colors",children:"Mark all read"})]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:D.map(y=>e.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${y.read?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${y.type==="success"?"bg-green-500":y.type==="warning"?"bg-orange-500":"bg-ku-blue"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm ${y.read?"":"font-medium"}`,children:y.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:y.time})]})]})},y.id))}),e.jsx("div",{className:"p-3 text-center border-t border-gray-100 bg-gray-50",children:e.jsx("button",{className:"text-sm text-ku-blue hover:text-ku-blue-dark font-medium",children:"View all notifications"})})]})]}),e.jsxs("div",{className:"relative",ref:$,children:[e.jsx("button",{onClick:()=>z(!h),"aria-label":"Settings menu","aria-expanded":h,"aria-haspopup":"true",className:"p-2.5 hover:bg-slate-200 text-gray-600 hover:text-slate-800 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-slate-600 bg-gray-100",children:e.jsx(Fs,{size:18,"aria-hidden":"true"})}),h&&e.jsxs("div",{role:"menu","aria-label":"Settings menu",className:"absolute right-0 mt-2 w-72 bg-white rounded-xl shadow-2xl border border-gray-100 z-50 overflow-hidden",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-slate-600 via-slate-700 to-gray-800 p-5",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white opacity-5 rounded-full -ml-12 -mb-12"}),e.jsxs("div",{className:"relative flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center ring-2 ring-white/30 shadow-lg",children:e.jsx(Fs,{size:24,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-semibold text-lg",children:"Settings"}),e.jsx("p",{className:"text-xs text-slate-300",children:"System configuration"})]})]})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>{d?.("organizations"),z(!1)},role:"menuitem",className:"w-full px-4 py-2.5 text-left rounded-lg hover:bg-gradient-to-r hover:from-blue-50 hover:to-cyan-50 flex items-center gap-3 text-gray-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:e.jsx(He,{size:16,className:"text-blue-600 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:"Organizations & Locations"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage org structure"})]})]}),e.jsxs("button",{onClick:()=>{d?.("funding"),z(!1)},role:"menuitem",className:"w-full px-4 py-2.5 text-left rounded-lg hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 flex items-center gap-3 text-gray-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-600 transition-colors",children:e.jsx(Ee,{size:16,className:"text-green-600 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:"Funding and Grants"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage funding sources"})]})]}),e.jsxs("button",{onClick:()=>{d?.("security"),z(!1)},role:"menuitem",className:"w-full px-4 py-2.5 text-left rounded-lg hover:bg-gradient-to-r hover:from-amber-50 hover:to-orange-50 flex items-center gap-3 text-gray-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center group-hover:bg-amber-600 transition-colors",children:e.jsx(as,{size:16,className:"text-amber-600 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:"Roles and Permissions"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Security & access control"})]})]})]})]})]}),e.jsxs("div",{className:"relative",ref:f,children:[e.jsxs("button",{onClick:()=>k(!w),"aria-label":"User profile menu","aria-expanded":w,"aria-haspopup":"true",className:"relative focus:outline-none focus:ring-2 focus:ring-[#0051BA] focus:ring-offset-2 rounded-full",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#0051BA] via-[#003A70] to-[#003A70] flex items-center justify-center text-white font-semibold text-sm shadow-md hover:shadow-lg transition-all duration-200 ring-2 ring-white hover:ring-blue-200 cursor-pointer",children:"AU"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:`absolute -bottom-2 left-1/2 -translate-x-1/2 px-2 py-0.5 rounded-full text-[10px] font-medium whitespace-nowrap shadow-sm border ${La(u)}`,children:[u==="Admin"&&"ðŸ‘‘ Admin",u==="Study Coordinator"&&"ðŸ“‹ Coordinator",u==="Read Only"&&"ðŸ‘ï¸ Read Only"]}),w&&e.jsxs("div",{role:"menu","aria-label":"User profile menu",className:"absolute right-0 mt-2 w-72 bg-white rounded-xl shadow-2xl border border-gray-100 z-50 overflow-hidden",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-blue-600 via-blue-700 to-purple-700 p-5",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white opacity-5 rounded-full -ml-12 -mb-12"}),e.jsxs("div",{className:"relative flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center ring-2 ring-white/30 shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-base",children:"AU"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-blue-100 mb-0.5",children:"Welcome back,"}),e.jsx("p",{className:"text-white font-semibold",children:"Admin User"}),e.jsx("p",{className:"text-xs text-blue-100",children:"admin@ppp.com"})]})]})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{role:"menuitem",className:"w-full px-4 py-2.5 text-left rounded-lg hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 flex items-center gap-3 text-gray-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:e.jsx(Dt,{size:16,className:"text-blue-600 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:"My Profile"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View and edit profile"})]})]}),e.jsxs("button",{role:"menuitem",className:"w-full px-4 py-2.5 text-left rounded-lg hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 flex items-center gap-3 text-gray-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-600 transition-colors",children:e.jsx(Fs,{size:16,className:"text-purple-600 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:"Settings"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Preferences & account"})]})]}),e.jsxs("button",{onClick:()=>d?.("sso"),role:"menuitem",className:"w-full px-4 py-2.5 text-left rounded-lg hover:bg-gradient-to-r hover:from-amber-50 hover:to-orange-50 flex items-center gap-3 text-gray-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center group-hover:bg-amber-600 transition-colors",children:e.jsx(as,{size:16,className:"text-amber-600 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:"View SSO Login"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Authentication details"})]})]})]}),e.jsx("div",{className:"border-t border-gray-100 p-2 bg-gray-50",children:e.jsxs("button",{onClick:()=>d?.("sso"),role:"menuitem",className:"w-full px-4 py-2.5 text-left rounded-lg hover:bg-red-50 flex items-center gap-3 text-red-600 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors",children:e.jsx(Rt,{size:16,className:"text-red-600 group-hover:text-white transition-colors"})}),e.jsx("span",{className:"font-medium text-sm",children:"Log out"})]})})]})]}),e.jsxs("div",{className:"relative",ref:H,children:[e.jsx("button",{onClick:()=>L(!p),"aria-label":"Switch user role","aria-expanded":p,"aria-haspopup":"true",className:"p-2.5 hover:bg-gray-100 text-gray-600 hover:text-gray-800 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-600 bg-gray-100",children:e.jsx(Es,{size:18,"aria-hidden":"true"})}),p&&e.jsxs("div",{role:"menu","aria-label":"Role switcher menu",className:"absolute right-0 mt-2 w-72 bg-white rounded-xl shadow-2xl border border-gray-100 z-50 overflow-hidden",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-600 via-gray-700 to-gray-800 p-5",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white opacity-5 rounded-full -ml-12 -mb-12"}),e.jsxs("div",{className:"relative flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center ring-2 ring-white/30 shadow-lg",children:e.jsx(Es,{size:24,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-semibold text-lg",children:"Switch Role"}),e.jsx("p",{className:"text-xs text-gray-300",children:"Change your current role"})]})]})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>{U?.("Admin"),L(!1)},role:"menuitem",className:`w-full px-4 py-2.5 text-left rounded-lg hover:bg-gradient-to-r hover:from-blue-50 hover:to-cyan-50 flex items-center gap-3 text-gray-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${u==="Admin"?"bg-blue-50":""}`,children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:e.jsx(Es,{size:16,className:"text-blue-600 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:"Admin"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Full access and control"})]})]}),e.jsxs("button",{onClick:()=>{U?.("Study Coordinator"),L(!1)},role:"menuitem",className:`w-full px-4 py-2.5 text-left rounded-lg hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 flex items-center gap-3 text-gray-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 ${u==="Study Coordinator"?"bg-green-50":""}`,children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-600 transition-colors",children:e.jsx(Lt,{size:16,className:"text-green-600 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:"Study Coordinator"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Manage assigned studies"})]})]}),e.jsxs("button",{onClick:()=>{U?.("Read Only"),L(!1)},role:"menuitem",className:`w-full px-4 py-2.5 text-left rounded-lg hover:bg-gradient-to-r hover:from-gray-50 hover:to-slate-50 flex items-center gap-3 text-gray-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 ${u==="Read Only"?"bg-gray-50":""}`,children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-gray-600 transition-colors",children:e.jsx(Oe,{size:16,className:"text-gray-600 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:"Read Only"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View data only"})]})]})]})]})]})]})]})]})]})}function lt(){const[r,d]=t.useState("week"),o=[{label:"Active Studies",value:"24",change:"+12%",trend:"up",icon:Is,color:"blue"},{label:"Total Participants",value:"1,845",change:"+8%",trend:"up",icon:is,color:"green"},{label:"Visits Today",value:"89",change:"-5%",trend:"down",icon:Ms,color:"orange"},{label:"Active Enrollments",value:"156",change:"+15%",trend:"up",icon:Tt,color:"purple"}],b=[{date:"Jan 1",amount:1250},{date:"Jan 2",amount:2100},{date:"Jan 3",amount:1875},{date:"Jan 4",amount:2450},{date:"Jan 5",amount:1950}],u=[{name:"Travel",value:3200,color:"#3b82f6"},{name:"Stipend",value:2800,color:"#10b981"},{name:"Parking",value:850,color:"#f59e0b"},{name:"Meal",value:650,color:"#8b5cf6"},{name:"Other",value:450,color:"#6b7280"}],U=[{name:"Travel",value:12500,color:"#3b82f6"},{name:"Stipend",value:15200,color:"#10b981"},{name:"Parking",value:3400,color:"#f59e0b"},{name:"Meal",value:2100,color:"#8b5cf6"},{name:"Other",value:1800,color:"#6b7280"}],S=[{name:"Travel",value:38e3,color:"#3b82f6"},{name:"Stipend",value:45e3,color:"#10b981"},{name:"Parking",value:9800,color:"#f59e0b"},{name:"Meal",value:6200,color:"#8b5cf6"},{name:"Other",value:5e3,color:"#6b7280"}],j=()=>{switch(r){case"week":return u;case"month":return U;case"quarter":return S;default:return u}},w=[{id:1,name:"John Smith",participantId:"P-2026-001",study:"CHS-2026-001",enrollDate:"2026-01-02",status:"Active"},{id:2,name:"Sarah Johnson",participantId:"P-2025-156",study:"NDR-2025-042",enrollDate:"2025-12-28",status:"Active"},{id:3,name:"Michael Brown",participantId:"P-2026-045",study:"DPT-2025-019",enrollDate:"2026-01-03",status:"Active"},{id:4,name:"Emily Davis",participantId:"P-2026-089",study:"PNS-2026-008",enrollDate:"2026-01-05",status:"Screening"},{id:5,name:"Robert Wilson",participantId:"P-2025-234",study:"CIS-2025-055",enrollDate:"2025-12-15",status:"Active"}],k={blue:"bg-blue-500",green:"bg-green-500",orange:"bg-orange-500",purple:"bg-purple-500"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg shadow p-6 border border-blue-200",children:[e.jsx("h3",{className:"text-lg mb-3",children:"Toast Notifications Demo"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click the buttons below to see different notification types:"}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsx("button",{onClick:()=>v.success("Operation completed successfully!",{description:"Your changes have been saved."}),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Success Message"}),e.jsx("button",{onClick:()=>v.error("Operation failed",{description:"Please check all required fields and try again."}),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Error Message"}),e.jsx("button",{onClick:()=>v.info("Important information",{description:"You have 3 pending payment requests to review."}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Info Message"}),e.jsx("button",{onClick:()=>v.warning("Action required",{description:"Please review the conflicting schedules."}),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Warning Message"})]})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{children:"Last 7 days"}),e.jsx("option",{children:"Last 30 days"}),e.jsx("option",{children:"Last 3 months"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"mb-4",children:"Recent Payments"}),e.jsx(it,{width:"100%",height:300,children:e.jsxs(ja,{data:b,children:[e.jsx(Na,{strokeDasharray:"3 3"}),e.jsx(fa,{dataKey:"date"}),e.jsx(va,{}),e.jsx(nt,{formatter:h=>`$${h}`}),e.jsx(Ca,{dataKey:"amount",fill:"#10b981"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{children:"Payments by Type"}),e.jsxs("select",{value:r,onChange:h=>d(h.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"quarter",children:"This Quarter"})]})]}),e.jsx(it,{width:"100%",height:300,children:e.jsxs(wa,{children:[e.jsx(Sa,{data:j(),cx:"50%",cy:"50%",labelLine:!1,label:({name:h,percent:z})=>`${h} ${(z*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:j().map((h,z)=>e.jsx(ka,{fill:h.color},`cell-${z}`))}),e.jsx(nt,{formatter:h=>`$${h}`})]})})]})]}),e.jsx("div",{className:"space-y-6",children:o.map(h=>{const z=h.icon,p=h.trend==="up"?Ut:Qe;return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${k[h.color]} rounded-lg flex items-center justify-center`,children:e.jsx(z,{className:"text-white",size:24})}),e.jsxs("div",{className:`flex items-center gap-1 ${h.trend==="up"?"text-green-600":"text-red-600"}`,children:[e.jsx(p,{size:16}),e.jsx("span",{className:"text-sm",children:h.change})]})]}),e.jsx("h3",{className:"text-gray-600 text-sm mb-1",children:h.label}),e.jsx("p",{className:"text-3xl",children:h.value})]},h.label)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{children:"Recent Participants"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Participant ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Study"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Enrollment Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:w.map(h=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:h.participantId}),e.jsx("td",{className:"px-6 py-4",children:h.name}),e.jsx("td",{className:"px-6 py-4",children:h.study}),e.jsx("td",{className:"px-6 py-4",children:h.enrollDate}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${h.status==="Active"?"bg-green-100 text-green-800":h.status==="Screening"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:h.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:"View Details"})})]},h.id))})]})})]})]})}function xt({size:r=24,className:d="",text:o}){return e.jsxs("div",{className:`flex flex-col items-center justify-center gap-3 ${d}`,children:[e.jsx(It,{size:r,className:"animate-spin text-blue-600"}),o&&e.jsx("p",{className:"text-gray-600 text-sm",children:o})]})}function Ua(){return e.jsx("div",{className:"bg-white rounded-lg shadow p-12",children:e.jsx(xt,{size:40,text:"Loading data..."})})}function Ia({isOpen:r,onClose:d,onConfirm:o,title:b,message:u,confirmText:U="Confirm",cancelText:S="Cancel",variant:j="danger",isLoading:w=!1}){if(!r)return null;const h=(()=>{switch(j){case"danger":return{icon:"text-red-600 bg-red-100",button:"bg-red-600 hover:bg-red-700"};case"warning":return{icon:"text-yellow-600 bg-yellow-100",button:"bg-yellow-600 hover:bg-yellow-700"};case"info":return{icon:"text-blue-600 bg-blue-100",button:"bg-blue-600 hover:bg-blue-700"}}})();return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${h.icon}`,children:e.jsx(As,{size:20})}),e.jsx("div",{children:e.jsx("h3",{className:"text-lg font-medium",children:b})})]}),e.jsx("button",{onClick:d,disabled:w,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:e.jsx(ce,{size:20})})]}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-600",children:u})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:d,disabled:w,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:S}),e.jsx("button",{onClick:o,disabled:w,className:`px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center gap-2 ${h.button}`,children:w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):U})]})]})})}const Us=[{id:1,grantName:"GR10129 13154 Dubisnky - CHDI Foundation",referenceId:"GR10129",award:"AWD-0000073: Dubisnky - CHDI Foundation 10/01/2012 (version 0)",fundCode:"FD010",fundDescription:"RI Clinical Trials",costCenterCode:"CC1548",costCenterDescription:"SOM KC Neurology - Huntington Disease",functionCode:"45011",functionDescription:"Clinical Trials",hscNumber:"13154",awardGroup:"Dakoda White",status:"Active"},{id:2,grantName:"GR10002 11803 Abhyankar Millennium",referenceId:"GR10002",award:"AWD-0000002: Abhyankar Millennium 04/29/2010 (version 0)",fundCode:"FD010",fundDescription:"RI Clinical Trials",costCenterCode:"CC1055",costCenterDescription:"SOM KC Cancer Center Clinical Trials",functionCode:"45011",functionDescription:"Clinical Trials",hscNumber:"11803",awardGroup:"KUCC",status:"Active"},{id:3,grantName:"GR10030 QA865500 Anant_Physiology_Grant",referenceId:"GR10030",award:"AWD-0000011: Anant_Physiology_Grant 08/01/2014 (version 0)",fundCode:"FD002",fundDescription:"RI Sponsored Program",costCenterCode:"CC1074",costCenterDescription:"SOM KC Cancer Biology",functionCode:"45018",functionDescription:"Organized Research",hscNumber:"",awardGroup:"Linda Hubbart-Williams (Inactive)",status:"Active"}],Ka=[{id:1,awardId:"AWD-0000073",awardName:"Dubisnky - CHDI Foundation",startDate:"10/01/2012",version:"0",awardGroup:"Dakoda White",status:"Active"},{id:2,awardId:"AWD-0000002",awardName:"Abhyankar Millennium",startDate:"04/29/2010",version:"0",awardGroup:"KUCC",status:"Active"},{id:3,awardId:"AWD-0000011",awardName:"Anant_Physiology_Grant",startDate:"08/01/2014",version:"0",awardGroup:"Linda Hubbart-Williams (Inactive)",status:"Active"}],ut=[{id:1,fundCode:"FD001",fundName:"FD001 RI Operating",status:"Active"},{id:2,fundCode:"FD002",fundName:"FD002 RI Sponsored Program",status:"Active"},{id:3,fundCode:"FD003",fundName:"FD003 RI Sponsored Program Cost Share",status:"Active"},{id:4,fundCode:"FD004",fundName:"FD004 RI Facilities & Administration (F&A)",status:"Active"},{id:5,fundCode:"FD006",fundName:"FD006 RI Residual (R&D)",status:"Active"},{id:6,fundCode:"FD010",fundName:"FD010 RI Clinical Trials",status:"Active"},{id:7,fundCode:"FD013",fundName:"FD013 RI KUEA",status:"Active"},{id:8,fundCode:"FD014",fundName:"FD014 Student Accounting Fund Clearing",status:"Active"}],pt=[{id:1,costCenterCode:"CC1001",costCenter:"CC1001 Chancellor",status:"Active"},{id:2,costCenterCode:"CC1016",costCenter:"CC1016 SOM KC Executive Dean",status:"Active"},{id:3,costCenterCode:"CC1046",costCenter:"CC1046 SOM KC Child Health and Development (CCHD)",status:"Active"},{id:4,costCenterCode:"CC1048",costCenter:"CC1048 SOM KC Kidney Institute (KI)",status:"Active"},{id:5,costCenterCode:"CC1050",costCenter:"CC1050 SOM KC The Liver Center",status:"Active"},{id:6,costCenterCode:"CC1055",costCenter:"CC1055 SOM KC Cancer Center Clinical Trials",status:"Active"},{id:7,costCenterCode:"CC1074",costCenter:"CC1074 SOM KC Cancer Biology",status:"Active"},{id:8,costCenterCode:"CC1548",costCenter:"CC1548 SOM KC Neurology - Huntington Disease",status:"Active"},{id:9,costCenterCode:"CC1032",costCenter:"CC1032 DNU SOM Wichita School of Medicine (inactive)",status:"Inactive"}],ht=[{id:1,functionCode:"42004",functionName:"42004 Didactic teaching",functionDescription:"Didactic teaching",status:"Active"},{id:2,functionCode:"42005",functionName:"42005 Clinical teaching",functionDescription:"Clinical teaching",status:"Active"},{id:3,functionCode:"43001",functionName:"43001 Academic Administration",functionDescription:"Academic Administration",status:"Active"},{id:4,functionCode:"45001",functionName:"45001 Research Supplies",functionDescription:"Research Supplies",status:"Active"},{id:5,functionCode:"45002",functionName:"45002 Research Labs and Clinics",functionDescription:"Research Labs and Clinics",status:"Active"},{id:6,functionCode:"45003",functionName:"45003 Community Outreach (Research)",functionDescription:"Community Outreach (Research)",status:"Active"},{id:7,functionCode:"45011",functionName:"45011 Clinical Trials",functionDescription:"Clinical Trials",status:"Active"},{id:8,functionCode:"45012",functionName:"45012 Department Research",functionDescription:"Department Research",status:"Active"},{id:9,functionCode:"45013",functionName:"45013 General Administration",functionDescription:"General Administration",status:"Active"},{id:10,functionCode:"45014",functionName:"45014 Instruction",functionDescription:"Instruction",status:"Active"},{id:11,functionCode:"45016",functionName:"45016 Other Institutional Activity",functionDescription:"Other Institutional Activity",status:"Active"},{id:12,functionCode:"45018",functionName:"45018 Organized Research",functionDescription:"Organized Research",status:"Active"},{id:13,functionCode:"45019",functionName:"45019 Other Sponsored Activity",functionDescription:"Other Sponsored Activity",status:"Active"},{id:14,functionCode:"46001",functionName:"46001 Community Services",functionDescription:"Community Services",status:"Active"},{id:15,functionCode:"46002",functionName:"46002 Patient Care/Clinical",functionDescription:"Patient Care/Clinical",status:"Active"},{id:16,functionCode:"46004",functionName:"46004 CMN Clinical/Research",functionDescription:"CMN Clinical/Research",status:"Active"}];function Fa(){const[r,d]=t.useState("grants"),[o,b]=t.useState(""),[u,U]=t.useState("all"),[S,j]=t.useState(!1),[w,k]=t.useState(!1),[h,z]=t.useState(!1),[p,L]=t.useState(!1),[A,f]=t.useState(null),[$,H]=t.useState(null),[D,R]=t.useState(!1),[y,K]=t.useState(null),[T,je]=t.useState(null),[P,W]=t.useState(!1),[G,V]=t.useState(null),[E,le]=t.useState(null),[Z,Y]=t.useState(!1),[_,ie]=t.useState(null),[B,q]=t.useState(null),[ze,me]=t.useState(!1),[ue,ge]=t.useState(null),[Se,x]=t.useState(null),C=Us,I=Ka,M=ut,c=pt,J=ht,pe=C.filter(l=>{const Ne=l.referenceId.toLowerCase().includes(o.toLowerCase())||l.grantName.toLowerCase().includes(o.toLowerCase())||l.award.toLowerCase().includes(o.toLowerCase())||l.costCenterDescription.toLowerCase().includes(o.toLowerCase()),i=u==="all"||l.status===u;return Ne&&i}),O=I.filter(l=>{const Ne=l.awardId.toLowerCase().includes(o.toLowerCase())||l.awardName.toLowerCase().includes(o.toLowerCase())||l.awardGroup.toLowerCase().includes(o.toLowerCase()),i=u==="all"||l.status===u;return Ne&&i}),ke=M.filter(l=>{const Ne=l.fundCode.toLowerCase().includes(o.toLowerCase())||l.fundName.toLowerCase().includes(o.toLowerCase()),i=u==="all"||l.status===u;return Ne&&i}),ne=c.filter(l=>{const Ne=l.costCenterCode.toLowerCase().includes(o.toLowerCase())||l.costCenter.toLowerCase().includes(o.toLowerCase()),i=u==="all"||l.status===u;return Ne&&i}),ye=J.filter(l=>{const Ne=l.functionCode.toLowerCase().includes(o.toLowerCase())||l.functionName.toLowerCase().includes(o.toLowerCase())||l.functionDescription.toLowerCase().includes(o.toLowerCase()),i=u==="all"||l.status===u;return Ne&&i}),ee=()=>{L(!1),f(null),H(null),R(!1),K(null),je(null),W(!1),V(null),le(null),Y(!1),ie(null),q(null),me(!1),ge(null),x(null)},Ue=p||A||$,fe=D||y||T,Ae=P||G||E,$e=Z||_||B,Be=ze||ue||Se,Ie=A!==null,Q=$!==null&&A===null,Le=y!==null,De=T!==null&&y===null,ae=G!==null,Me=E!==null&&G===null,n=_!==null,re=B!==null&&_===null,X=ue!==null,de=Se!==null&&ue===null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-ku-blue rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(He,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Funding and Grants"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage grants, awards, funds, cost centers, and functions"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(!S),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:S?"Hide Statistics":"Show Statistics",children:S?e.jsx(Ze,{size:20}):e.jsx(We,{size:20})}),e.jsx("button",{onClick:()=>k(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:"Upload Data",children:e.jsx(cs,{size:20})}),e.jsx("button",{onClick:()=>z(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:"Export to Excel",children:e.jsx(Ve,{size:20})}),e.jsxs("button",{onClick:()=>{r==="grants"?L(!0):r==="awards"?R(!0):r==="funds"?W(!0):r==="costcenters"?Y(!0):me(!0)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 font-medium shadow-sm transition-all",title:r==="grants"?"Add New Grant":r==="awards"?"Add New Award":r==="funds"?"Add New Fund":r==="costcenters"?"Add New Cost Center":"Add New Function",children:[e.jsx(Xe,{size:20}),r==="grants"?"Add Grant":r==="awards"?"Add Award":r==="funds"?"Add Fund":r==="costcenters"?"Add Cost Center":"Add Function"]})]})]}),S&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Grants"}),e.jsx(He,{className:"text-blue-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:C.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Awards"}),e.jsx(Ee,{className:"text-green-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:I.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Funds"}),e.jsx(Ve,{className:"text-orange-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:M.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Cost Centers"}),e.jsx(He,{className:"text-purple-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:c.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Functions"}),e.jsx(Ve,{className:"text-indigo-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:J.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Active Items"}),e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),e.jsx("p",{className:"text-3xl",children:C.filter(l=>l.status==="Active").length+I.filter(l=>l.status==="Active").length+M.filter(l=>l.status==="Active").length+c.filter(l=>l.status==="Active").length+J.filter(l=>l.status==="Active").length})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-1 px-6",children:[e.jsxs("button",{onClick:()=>{d("grants"),b("")},className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${r==="grants"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(He,{size:18}),"Grants",C.length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full font-semibold",children:C.length})]}),e.jsxs("button",{onClick:()=>{d("awards"),b("")},className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${r==="awards"?"border-purple-500 text-purple-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(Kt,{size:18}),"Awards",I.length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-purple-100 text-purple-800 text-xs rounded-full font-semibold",children:I.length})]}),e.jsxs("button",{onClick:()=>{d("funds"),b("")},className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${r==="funds"?"border-green-500 text-green-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(Ft,{size:18}),"Funds",M.length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-800 text-xs rounded-full font-semibold",children:M.length})]}),e.jsxs("button",{onClick:()=>{d("costcenters"),b("")},className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${r==="costcenters"?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(Ls,{size:18}),"Cost Centers",c.length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-orange-100 text-orange-800 text-xs rounded-full font-semibold",children:c.length})]}),e.jsxs("button",{onClick:()=>{d("functions"),b("")},className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${r==="functions"?"border-teal-500 text-teal-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(Et,{size:18}),"Functions",J.length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-teal-100 text-teal-800 text-xs rounded-full font-semibold",children:J.length})]})]})}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:r==="grants"?"Search grants by reference ID, name, award, or cost center...":r==="awards"?"Search awards by reference ID, name, award, or cost center...":r==="funds"?"Search funds by code or name...":r==="costcenters"?"Search cost centers by code or description...":"Search functions by code or description...",value:o,onChange:l=>b(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{size:20,className:"text-gray-400"}),e.jsxs("select",{value:u,onChange:l=>U(l.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),r==="grants"&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Reference ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Grant Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Award"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Cost Center"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Function"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"HSC Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:pe.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.referenceId}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("button",{onClick:()=>H(l),className:"text-blue-600 hover:underline text-left max-w-xs truncate block",title:l.grantName,children:l.grantName})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",title:l.award,children:l.award}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[e.jsx("div",{children:l.costCenterCode}),e.jsx("div",{className:"text-xs text-gray-500 max-w-xs truncate",title:l.costCenterDescription,children:l.costCenterDescription})]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[e.jsx("div",{children:l.functionCode}),e.jsx("div",{className:"text-xs text-gray-500",children:l.functionDescription})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.hscNumber||"-"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${l.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>H(l),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>f(l),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:e.jsx(ns,{size:16})})]})})]},l.id))})]}),pe.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(He,{className:"mx-auto text-gray-400 mb-3",size:48}),e.jsx("p",{className:"text-gray-500",children:"No grants found"})]})]}),r==="awards"&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Award ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Award Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Start Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Version"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Award Group"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:O.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.awardId}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("button",{onClick:()=>je(l),className:"text-blue-600 hover:underline text-left",children:l.awardName})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.startDate}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.version}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.awardGroup}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${l.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>je(l),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>K(l),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:e.jsx(ns,{size:16})})]})})]},l.id))})]}),O.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ee,{className:"mx-auto text-gray-400 mb-3",size:48}),e.jsx("p",{className:"text-gray-500",children:"No awards found"})]})]}),r==="funds"&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Fund Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Fund Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:ke.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.fundCode}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("button",{onClick:()=>le(l),className:"text-blue-600 hover:underline text-left",children:l.fundName})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${l.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>le(l),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>V(l),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:e.jsx(ns,{size:16})})]})})]},l.id))})]}),ke.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ve,{className:"mx-auto text-gray-400 mb-3",size:48}),e.jsx("p",{className:"text-gray-500",children:"No funds found"})]})]}),r==="costcenters"&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Cost Center Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Cost Center"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:ne.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.costCenterCode}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("button",{onClick:()=>q(l),className:"text-blue-600 hover:underline text-left",children:l.costCenter})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${l.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>q(l),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>ie(l),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:e.jsx(ns,{size:16})})]})})]},l.id))})]}),ne.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(He,{className:"mx-auto text-gray-400 mb-3",size:48}),e.jsx("p",{className:"text-gray-500",children:"No cost centers found"})]})]}),r==="functions"&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Function Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Function Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:ye.map(l=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:l.functionCode}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("button",{onClick:()=>x(l),className:"text-blue-600 hover:underline text-left",children:l.functionName})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${l.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>x(l),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>ge(l),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:e.jsx(ns,{size:16})})]})})]},l.id))})]}),ye.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(He,{className:"mx-auto text-gray-400 mb-3",size:48}),e.jsx("p",{className:"text-gray-500",children:"No functions found"})]})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl",children:"Upload Reference Data"}),e.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Select Data Type"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"grants",children:"Grants"}),e.jsx("option",{value:"awards",children:"Awards"}),e.jsx("option",{value:"funds",children:"Funds"}),e.jsx("option",{value:"costcenters",children:"Cost Centers"}),e.jsx("option",{value:"functions",children:"Functions"})]})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[e.jsx(cs,{className:"mx-auto text-gray-400 mb-2",size:48}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload data file"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Excel (.xlsx) or CSV format"}),e.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",className:"mt-4"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-h-64 overflow-y-auto",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.jsx("strong",{children:"Expected Columns for Grants:"})}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1 mb-3",children:[e.jsx("li",{children:"â€¢ Grant, Reference ID, Award, Fund, Cost Center"}),e.jsx("li",{children:"â€¢ NACUBO Function, HSC Number, Award Group"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.jsx("strong",{children:"Expected Columns for Awards:"})}),e.jsx("ul",{className:"text-xs text-gray-600 space-y-1 mb-3",children:e.jsx("li",{children:"â€¢ Award ID, Award Name, Start Date, Version, Award Group"})}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.jsx("strong",{children:"Expected Columns for Funds:"})}),e.jsx("ul",{className:"text-xs text-gray-600 space-y-1 mb-3",children:e.jsx("li",{children:"â€¢ Fund Name, Fund Reference ID"})}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.jsx("strong",{children:"Expected Columns for Cost Centers:"})}),e.jsx("ul",{className:"text-xs text-gray-600 space-y-1 mb-3",children:e.jsx("li",{children:"â€¢ Cost Center, Cost Center Code"})}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.jsx("strong",{children:"Expected Columns for Functions:"})}),e.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:e.jsx("li",{children:"â€¢ NACUBO Code Name, NACUBO Code"})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{v.success("Data uploaded successfully"),k(!1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload"})]})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl",children:"Export to Excel"}),e.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Export the current ",r==="grants"?"Grants":r==="awards"?"Awards":r==="funds"?"Funds":r==="costcenters"?"Cost Centers":"Functions"," data to Excel format."]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ve,{className:"text-blue-600 mt-0.5",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Export Details"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("li",{children:["â€¢ Filtered data: ",r==="grants"?pe.length:r==="awards"?O.length:r==="funds"?ke.length:r==="costcenters"?ne.length:ye.length," records"]}),e.jsx("li",{children:"â€¢ Format: Excel (.xlsx)"}),e.jsx("li",{children:"â€¢ Includes all visible columns"})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>z(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:()=>{const l=r==="grants"?"Grants":r==="awards"?"Awards":r==="funds"?"Funds":r==="costcenters"?"Cost Centers":"Functions";v.success(`${l} exported to Excel successfully`),z(!1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(Ve,{size:18}),"Export"]})]})]})]})}),Ae&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:ee}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:Me?"View Fund":ae?`Edit Fund (${G?.fundName})`:"Add New Fund"}),e.jsx("p",{className:"text-sm text-gray-500",children:Me?"View fund information":ae?"Update fund details":"Create a new fund"})]}),e.jsx("button",{onClick:ee,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Fund Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Fund Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Me?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:E?.fundCode}):e.jsx("input",{type:"text",defaultValue:G?.fundCode||"",placeholder:"e.g., FD001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Fund Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Me?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:E?.fundName}):e.jsx("input",{type:"text",defaultValue:G?.fundName||"",placeholder:"e.g., FD001 RI Operating",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Me?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:E?.status}):e.jsxs("select",{defaultValue:G?.status||"Active",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),!Me&&e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:ee,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{v.success(ae?"Fund updated successfully":"Fund created successfully"),ee()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:ae?"Update Fund":"Create Fund"})]})]})})]})]}),$e&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:ee}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:re?"View Cost Center":n?`Edit Cost Center (${_?.costCenter})`:"Add New Cost Center"}),e.jsx("p",{className:"text-sm text-gray-500",children:re?"View cost center information":n?"Update cost center details":"Create a new cost center"})]}),e.jsx("button",{onClick:ee,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Cost Center Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Cost Center Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),re?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:B?.costCenterCode}):e.jsx("input",{type:"text",defaultValue:_?.costCenterCode||"",placeholder:"e.g., CC1001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Cost Center Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),re?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:B?.costCenter}):e.jsx("input",{type:"text",defaultValue:_?.costCenter||"",placeholder:"e.g., CC1001 Chancellor",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),re?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:B?.status}):e.jsxs("select",{defaultValue:_?.status||"Active",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),!re&&e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:ee,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{v.success(n?"Cost center updated successfully":"Cost center created successfully"),ee()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:n?"Update Cost Center":"Create Cost Center"})]})]})})]})]}),Be&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:ee}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:de?"View Function":X?`Edit Function (${ue?.functionName})`:"Add New Function"}),e.jsx("p",{className:"text-sm text-gray-500",children:de?"View function information":X?"Update function details":"Create a new function"})]}),e.jsx("button",{onClick:ee,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Function Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Function Code (NACUBO) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),de?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:Se?.functionCode}):e.jsx("input",{type:"text",defaultValue:ue?.functionCode||"",placeholder:"e.g., 45011",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Function Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),de?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:Se?.functionName}):e.jsx("input",{type:"text",defaultValue:ue?.functionName||"",placeholder:"e.g., 45011 Clinical Trials",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),de?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:Se?.status}):e.jsxs("select",{defaultValue:ue?.status||"Active",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),!de&&e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:ee,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{v.success(X?"Function updated successfully":"Function created successfully"),ee()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:X?"Update Function":"Create Function"})]})]})})]})]}),Ue&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:ee}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:Q?"View Grant":Ie?`Edit Grant (${A?.grantName})`:"Add New Grant"}),e.jsx("p",{className:"text-sm text-gray-500",children:Q?"View grant information":Ie?"Update grant details":"Create a new grant"})]}),e.jsx("button",{onClick:ee,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Grant Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Grant Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.grantName}):e.jsx("input",{type:"text",defaultValue:A?.grantName||"",placeholder:"e.g., GR10129 13154 Dubisnky - CHDI Foundation",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Reference ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.referenceId}):e.jsx("input",{type:"text",defaultValue:A?.referenceId||"",placeholder:"e.g., GR10129",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Award ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.award}):e.jsxs("select",{defaultValue:A?.award||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Award"}),I.filter(l=>l.status==="Active").map(l=>e.jsxs("option",{value:`${l.awardId}: ${l.awardName} ${l.startDate} (version ${l.version})`,children:[l.awardId,": ",l.awardName," ",l.startDate," (version ",l.version,")"]},l.id))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Fund Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.fundCode}):e.jsxs("select",{defaultValue:A?.fundCode||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Fund"}),M.filter(l=>l.status==="Active").map(l=>e.jsx("option",{value:l.fundCode,children:l.fundName},l.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Fund Description"}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.fundDescription}):e.jsx("input",{type:"text",defaultValue:A?.fundDescription||"",placeholder:"e.g., RI Clinical Trials",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Cost Center Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.costCenterCode}):e.jsxs("select",{defaultValue:A?.costCenterCode||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Cost Center"}),c.filter(l=>l.status==="Active").map(l=>e.jsx("option",{value:l.costCenterCode,children:l.costCenter},l.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Cost Center Description"}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.costCenterDescription}):e.jsx("input",{type:"text",defaultValue:A?.costCenterDescription||"",placeholder:"e.g., SOM KC Neurology - Huntington Disease",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Function Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.functionCode}):e.jsxs("select",{defaultValue:A?.functionCode||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Function"}),J.filter(l=>l.status==="Active").map(l=>e.jsx("option",{value:l.functionCode,children:l.functionName},l.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Function Description"}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.functionDescription}):e.jsx("input",{type:"text",defaultValue:A?.functionDescription||"",placeholder:"e.g., Clinical Trials",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"HSC Number"}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.hscNumber||"-"}):e.jsx("input",{type:"text",defaultValue:A?.hscNumber||"",placeholder:"e.g., 13154",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Award Group"}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:$?.awardGroup}):e.jsx("input",{type:"text",defaultValue:A?.awardGroup||"",placeholder:"e.g., Dakoda White",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),Q?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${$?.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:$?.status})}):e.jsxs("select",{defaultValue:A?.status||"Active",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),!Q&&e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:ee,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{v.success(Ie?"Grant updated successfully":"Grant created successfully"),ee()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:Ie?"Update Grant":"Create Grant"})]})]})})]})]}),fe&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:ee}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:De?"View Award":Le?`Edit Award (${y?.awardName})`:"Add New Award"}),e.jsx("p",{className:"text-sm text-gray-500",children:De?"View award information":Le?"Update award details":"Create a new award"})]}),e.jsx("button",{onClick:ee,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Award Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Award ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),De?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:T?.awardId}):e.jsx("input",{type:"text",defaultValue:y?.awardId||"",placeholder:"e.g., AWD-0000073",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Award Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),De?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:T?.awardName}):e.jsx("input",{type:"text",defaultValue:y?.awardName||"",placeholder:"e.g., Dubisnky - CHDI Foundation",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),De?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:T?.startDate}):e.jsx("input",{type:"text",defaultValue:y?.startDate||"",placeholder:"MM/DD/YYYY",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Version"}),De?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:T?.version}):e.jsx("input",{type:"text",defaultValue:y?.version||"0",placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Award Group ",e.jsx("span",{className:"text-red-500",children:"*"})]}),De?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:T?.awardGroup}):e.jsx("input",{type:"text",defaultValue:y?.awardGroup||"",placeholder:"e.g., Dakoda White",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),De?e.jsx("div",{className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900",children:T?.status}):e.jsxs("select",{defaultValue:y?.status||"Active",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),!De&&e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:ee,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{v.success(Le?"Award updated successfully":"Award created successfully"),ee()},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:Le?"Update Award":"Create Award"})]})]})})]})]})]})}const os={ACTIVE:"Active",STUDY_STARTED:"Study Started",STUDY_COMPLETED:"Study Completed",CANCELLED_WITHDRAWN:"Cancelled/Withdrawn"},dt=[os.ACTIVE,os.STUDY_STARTED,os.STUDY_COMPLETED,os.CANCELLED_WITHDRAWN],Ea=r=>{switch(r){case os.ACTIVE:return"bg-green-100 text-green-800";case os.STUDY_STARTED:return"bg-blue-100 text-blue-800";case os.STUDY_COMPLETED:return"bg-gray-100 text-gray-800";case os.CANCELLED_WITHDRAWN:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};function $a({currentUserRole:r}){const d={assignedStudies:["STUDY 001234567B","STUDY 008765432"]},[o,b]=t.useState(""),[u,U]=t.useState("all"),[S,j]=t.useState("all"),[w,k]=t.useState("studyNumber"),[h,z]=t.useState("asc"),[p,L]=t.useState(!1),[A,f]=t.useState(!1),[$,H]=t.useState(!1),[D,R]=t.useState(null),[y,K]=t.useState(null),[T,je]=t.useState(null),[P,W]=t.useState("details"),[G,V]=t.useState("Study"),[E,le]=t.useState(""),[Z,Y]=t.useState(""),[_,ie]=t.useState(""),[B,q]=t.useState(""),[ze,me]=t.useState("Active"),[ue,ge]=t.useState(""),[Se,x]=t.useState(""),[C,I]=t.useState(""),[M,c]=t.useState(!1),[J,pe]=t.useState(""),[O,ke]=t.useState(""),[ne,ye]=t.useState([]),[ee,Ue]=t.useState(""),[fe,Ae]=t.useState([]),[$e,Be]=t.useState(""),[Ie,Q]=t.useState(""),[Le,De]=t.useState("No"),[ae,Me]=t.useState("No"),[n,re]=t.useState(""),[X,de]=t.useState(""),[l,Ne]=t.useState([]),[i,he]=t.useState(!1),[xe,g]=t.useState(""),[be,s]=t.useState(""),[N,F]=t.useState([]),[se,Re]=t.useState(!1),[qe,ms]=t.useState("Grant"),[xs,zs]=t.useState(""),[vs,js]=t.useState(""),[Cs,m]=t.useState(""),[te,Te]=t.useState(""),[es,ws]=t.useState(""),[Hs,Ws]=t.useState(""),[Gs,Js]=t.useState(""),[_s,or]=t.useState([{id:1,type:"Study",studyNumber:"STUDY 001234567B",protocolNumber:"2026-PI-12345",title:"Cardiovascular Health Study 2026",pi:"Rita Schettler",status:"Active",participants:150,phase:"Phase III",startDate:"2026-01-15",estimatedCompletion:"2027-12-31",department:"Cardiology",description:"A comprehensive study examining the long-term effects of various interventions on cardiovascular health in adults aged 50-75.",locations:[{name:"Main Research Center - Building A",address:"Address not available",type:"Study Facility",status:"Active"},{name:"Outpatient Clinic - West Campus",address:"Address not available",type:"Study Facility",status:"Active"}],enrolledParticipants:[{id:"P-2026-001",name:"John Smith",status:"Registered"},{id:"P-2025-156",name:"Sarah Johnson",status:"Registered"},{id:"P-2026-012",name:"Jennifer Taylor",status:"Registered"},{id:"P-2025-178",name:"Linda Martinez",status:"Registered"}],milestones:[{id:"M1",name:"Screening Milestone",type:"One-time",payment:"$150"},{id:"M2",name:"Baseline Assessment",type:"One-time",payment:"$200"},{id:"M3",name:"Week 4 Follow-up",type:"Recurring",payment:"$100"},{id:"M4",name:"Month 3 Assessment",type:"One-time",payment:"$150"},{id:"M5",name:"Month 6 Assessment",type:"One-time",payment:"$150"},{id:"M6",name:"Final Milestone",type:"One-time",payment:"$250"}],fundingSources:[]},{id:2,type:"Study",studyNumber:"STUDY 008765432",protocolNumber:"2025-PI-67890",title:"Neurological Disorders Research",pi:"Dr. James Anderson",status:"Active",participants:89,locations:[],enrolledParticipants:[],milestones:[],fundingSources:[]},{id:3,type:"Study",studyNumber:"STUDY 009876543",protocolNumber:"2026-PI-11111",title:"Pediatric Nutrition Study",pi:"Dr. Robert Taylor",status:"Active",participants:67,locations:[],enrolledParticipants:[],milestones:[],fundingSources:[]},{id:4,type:"Study",studyNumber:"STUDY 004567890",protocolNumber:"2025-PI-22222",title:"Diabetes Prevention Trial",pi:"Dr. Michael Chen",status:"Study Completed",participants:203,locations:[],enrolledParticipants:[],milestones:[],fundingSources:[]},{id:5,type:"Program",studyNumber:"Health Rewards",protocolNumber:"â€”",title:"Cancer Immunotherapy Study",pi:"Dr. Lisa Brown",status:"Study Completed",participants:0,locations:[],enrolledParticipants:[],milestones:[],fundingSources:[]},{id:6,type:"Study",studyNumber:"STUDY 003344556",protocolNumber:"2026-PI-33333",title:"No title",pi:"Dr. Maria Martinez",status:"Study Started",participants:45,locations:[],enrolledParticipants:[],milestones:[],fundingSources:[]},{id:7,type:"Other",studyNumber:"Data Safety Monitoring Board",protocolNumber:"â€”",title:"No title",pi:"Dr. David Kim",status:"Cancelled/Withdrawn",participants:0,locations:[],enrolledParticipants:[],milestones:[],fundingSources:[]}]),Ds={"2025-12-31":{effectiveDate:"December 31, 2025",milestones:[{id:"M1",name:"Screening Milestone",type:"One-time",payment:"$140"},{id:"M2",name:"Baseline Assessment",type:"One-time",payment:"$180"},{id:"M3",name:"Week 4 Follow-up",type:"Recurring",payment:"$90"},{id:"M4",name:"Month 3 Assessment",type:"One-time",payment:"$140"},{id:"M5",name:"Final Milestone",type:"One-time",payment:"$230"}]},"2025-11-15":{effectiveDate:"November 15, 2025",milestones:[{id:"M1",name:"Initial Screening",type:"One-time",payment:"$130"},{id:"M2",name:"Baseline",type:"One-time",payment:"$170"},{id:"M3",name:"Follow-up Visit",type:"Recurring",payment:"$85"},{id:"M4",name:"Final Assessment",type:"One-time",payment:"$220"}]},"2025-10-01":{effectiveDate:"October 1, 2025",milestones:[{id:"M1",name:"Screening",type:"One-time",payment:"$120"},{id:"M2",name:"Baseline Visit",type:"One-time",payment:"$160"},{id:"M3",name:"Follow-up",type:"Recurring",payment:"$80"},{id:"M4",name:"Completion",type:"One-time",payment:"$200"}]}},Ns=a=>{w===a?z(h==="asc"?"desc":"asc"):(k(a),z("asc"))},Ys=_s.filter(a=>{const Ge=o===""||a.title.toLowerCase().includes(o.toLowerCase())||a.studyNumber.toLowerCase().includes(o.toLowerCase())||a.protocolNumber.toLowerCase().includes(o.toLowerCase())||a.type.toLowerCase().includes(o.toLowerCase())||a.pi.toLowerCase().includes(o.toLowerCase()),Fe=u==="all"||a.status===u,ss=S==="all"||a.pi===S,Mt=r!=="Study Coordinator"||d.assignedStudies.includes(a.studyNumber);return Ge&&Fe&&ss&&Mt}).sort((a,Ge)=>{let Fe=a[w],ss=Ge[w];return Fe==null?1:ss==null?-1:(Fe=String(Fe).toLowerCase(),ss=String(ss).toLowerCase(),h==="asc"?Fe<ss?-1:Fe>ss?1:0:Fe>ss?-1:Fe<ss?1:0)}),gt=Array.from(new Set(_s.map(a=>a.pi))).sort(),yt=async()=>{f(!0),await new Promise(a=>setTimeout(a,1e3)),v.success(`Study "${y?.title}" has been deleted`),f(!1),K(null)},bt=()=>{V("Study"),le(""),Y(""),ie(""),q(""),me("Active"),ge(""),x(""),I(""),c(!1),pe(""),ye([]),Ae([]),Ne([]),F([]),W("details"),H(!0)},Ks=a=>{V(a.type),le(a.studyNumber),Y(a.protocolNumber),ie(a.title),q(a.pi),me(a.status),ge(a.startDate),x(a.estimatedCompletion),I(a.description||""),c(a.allowTravelReimbursement||!1),pe(a.billToId||""),ye(a.locations||[]),Ae(a.enrolledParticipants||[]),Ne(a.milestones||[]),F(a.fundingSources||[]),W("details"),R(a)},jt=a=>{V(a.type),le(a.studyNumber),Y(a.protocolNumber),ie(a.title),q(a.pi),me(a.status),ge(a.startDate),x(a.estimatedCompletion),I(a.description||""),c(a.allowTravelReimbursement||!1),pe(a.billToId||""),ye(a.locations||[]),Ae(a.enrolledParticipants||[]),Ne(a.milestones||[]),F(a.fundingSources||[]),W("details"),je(a)},Nt=async()=>{f(!0),await new Promise(a=>setTimeout(a,1e3)),D?v.success("Study updated successfully"):v.success("Study created successfully"),f(!1),H(!1),R(null)},Qs=()=>{H(!1),R(null),je(null)},ft=()=>{v.success("Studies exported successfully")},vt=()=>{v.success("Study data copied to clipboard")},Ct=()=>{O&&!ne.find(a=>a.name===O)&&(ye([...ne,{name:O,address:"Address not available",type:"Study Facility",status:"Active"}]),ke(""))},Xs=a=>{ye(ne.filter(Ge=>Ge.name!==a))},wt=()=>{if(qe==="Grant"){if(!xs){v.error("Please select a grant");return}const a=Us.find(Fe=>Fe.id.toString()===xs);if(!a){v.error("Grant not found");return}const Ge={id:Date.now().toString(),type:qe,grant:`${a.referenceId} - ${a.grantName}`,costCenter:`${a.costCenterCode} ${a.costCenterDescription}`,fund:`${a.fundCode} ${a.fundDescription}`,functionCode:`${a.functionCode} ${a.functionDescription}`,award:a.award,hsc:a.hscNumber,act:""};F([...N,Ge]),v.success("Grant funding added successfully")}else{if(!vs||!Cs||!te){v.error("Please select Cost Center, Fund, and Function for Other funding type");return}const a={id:Date.now().toString(),type:qe,grant:void 0,costCenter:vs,fund:Cs,functionCode:te,award:es,hsc:Hs,act:Gs};F([...N,a]),v.success("Funding source added successfully")}Re(!1),ms("Grant"),zs(""),js(""),m(""),Te(""),ws(""),Ws(""),Js("")},St=a=>Ea(a),kt=a=>{switch(a){case"Study":return"bg-blue-50 text-blue-700";case"Program":return"bg-purple-50 text-purple-700";case"Other":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},Ss=D!==null,oe=T!==null&&D===null,At=$||D!==null||T!==null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx("svg",{className:"w-6 h-6 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Studies"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage research studies and protocols"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[Ra({role:r})&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:ft,className:"flex items-center gap-2 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50 font-medium transition-all",title:"Export to Excel",children:e.jsx(Ve,{size:20})}),e.jsx("button",{onClick:vt,className:"flex items-center gap-2 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50 font-medium transition-all",title:"Copy to clipboard",children:e.jsx($t,{size:20})})]}),Da({role:r})&&e.jsx("button",{className:"flex items-center gap-2 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50 font-medium transition-all",title:"Upload",children:e.jsx(cs,{size:20})}),Ma({role:r})&&e.jsxs("button",{onClick:bt,className:"flex items-center gap-2 bg-[#0051BA] text-white px-4 py-2.5 rounded-lg hover:bg-[#003d8f] font-medium transition-all",children:[e.jsx(Xe,{size:20}),"Setup Study"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by study number, title, protocol, type, or PI...",value:o,onChange:a=>b(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:u,onChange:a=>U(a.target.value),className:"appearance-none pl-3 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-sm min-w-[140px]",children:[e.jsx("option",{value:"all",children:"All Status"}),dt.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:S,onChange:a=>j(a.target.value),className:"appearance-none pl-3 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-sm min-w-[140px]",children:[e.jsx("option",{value:"all",children:"All PIs"}),gt.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:p?e.jsx(Ua,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Ns("type"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Type",w==="type"?h==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Ns("studyNumber"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Study Number",w==="studyNumber"?h==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Ns("protocolNumber"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Protocol #",w==="protocolNumber"?h==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Ns("title"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Title",w==="title"?h==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Ns("pi"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Principal Investigator",w==="pi"?h==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Ns("status"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Status",w==="status"?h==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Ys.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2.5 py-1 rounded text-xs font-medium ${kt(a.type)}`,children:a.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{className:"text-blue-600 hover:underline text-left",children:a.studyNumber})}),e.jsx("td",{className:"px-6 py-4",children:a.protocolNumber}),e.jsx("td",{className:"px-6 py-4",children:a.title}),e.jsx("td",{className:"px-6 py-4",children:a.pi}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full ${St(a.status)}`,children:a.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>jt(a),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View Study",children:e.jsx(Oe,{size:16})}),a.status==="Active"?e.jsxs(e.Fragment,{children:[Pa({role:r,assignedStudies:d.assignedStudies},a)&&e.jsx("button",{onClick:()=>Ks(a),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit Study",children:e.jsx(ns,{size:16})}),e.jsx("button",{onClick:()=>{Ks(a),W("participants")},className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Manage Enrollment",children:e.jsx(is,{size:16})}),e.jsx("button",{onClick:()=>{Ks(a),W("funding")},className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",title:"Payment Schedule",children:e.jsx(Ee,{size:16})}),za({role:r})&&e.jsx("button",{onClick:()=>K(a),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete Study",children:e.jsx(ys,{size:16})})]}):e.jsx("button",{className:"p-2 text-gray-400 cursor-not-allowed",title:"Study is locked - only Active studies can be edited",disabled:!0,children:e.jsx(mt,{size:16})})]})})]},a.id))})]})}),Ys.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No studies found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Try adjusting your search or filters"})]})]})}),e.jsx(Ia,{isOpen:y!==null,title:"Delete Study",message:`Are you sure you want to delete "${y?.title}"? This action cannot be undone.`,confirmText:"Delete Study",cancelText:"Cancel",onConfirm:yt,onClose:()=>K(null),isLoading:A,variant:"danger"}),At&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-end",children:e.jsxs("div",{className:"bg-white h-full w-full max-w-4xl shadow-xl flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:oe?`View Study${T?` (${T.studyNumber})`:""}`:Ss?`Edit Study${D?` (${D.studyNumber})`:""}`:"Setup New Study"}),!oe&&!Ss&&e.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded",children:"New"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:oe?"View study details and information":Ss?"Update study details":"Enter study details to create a new research study"})]}),e.jsx("button",{onClick:Qs,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ce,{size:24})})]}),e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{onClick:()=>W("details"),className:`px-1 py-3 border-b-2 font-medium transition-colors text-sm ${P==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Details"}),(Ss||oe)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>W("locations"),className:`px-1 py-3 border-b-2 font-medium transition-colors text-sm ${P==="locations"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Locations"}),e.jsx("button",{onClick:()=>W("participants"),className:`px-1 py-3 border-b-2 font-medium transition-colors text-sm ${P==="participants"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Participants"}),e.jsx("button",{onClick:()=>W("milestones"),className:`px-1 py-3 border-b-2 font-medium transition-colors text-sm ${P==="milestones"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Milestones"}),e.jsx("button",{onClick:()=>W("funding"),className:`px-1 py-3 border-b-2 font-medium transition-colors text-sm ${P==="funding"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Funding"}),e.jsx("button",{onClick:()=>W("auditHistory"),className:`px-1 py-3 border-b-2 font-medium transition-colors text-sm ${P==="auditHistory"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Audit History"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[P==="details"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:G,onChange:a=>V(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",children:[e.jsx("option",{value:"Study",children:"Study"}),e.jsx("option",{value:"Program",children:"Program"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Study Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E,onChange:a=>le(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",placeholder:"e.g., STUDY 001234567B"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Protocol Number"}),e.jsx("input",{type:"text",value:Z,onChange:a=>Y(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",placeholder:"e.g., 2026-PI-12345"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Title (Optional)"}),e.jsx("input",{type:"text",value:_,onChange:a=>ie(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",placeholder:"Enter study title"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:ze,onChange:a=>me(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",children:[e.jsx("option",{value:"",children:"Select status"}),dt.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Study Team"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Principal Investigator ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:B,onChange:a=>q(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",placeholder:"Dr. Name"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Study Timeline"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:ue,onChange:a=>ge(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["End Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:Se,onChange:a=>x(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Study Description"}),e.jsx("div",{children:e.jsx("textarea",{value:C,onChange:a=>I(a.target.value),disabled:oe,rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm resize-none",placeholder:"Enter study description..."})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Billing Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"allowTravelReimbursement",checked:M,onChange:a=>c(a.target.checked),disabled:oe,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:bg-gray-50"}),e.jsx("label",{htmlFor:"allowTravelReimbursement",className:"ml-2 text-sm font-medium text-gray-700",children:"Allow travel reimbursements to be invoiced back to sponsor"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Bill to ID / Study ID"}),e.jsx("input",{type:"text",value:J,onChange:a=>pe(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",placeholder:"Enter Bill to ID or Study ID"})]})]})]})]}),P==="locations"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Study Locations"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Manage locations where this study is being conducted"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex gap-3",children:[e.jsx(Bt,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Note:"})," You have access to 5 location(s) from your organization (University of Kansas Medical Center). Contact your administrator to request access to additional locations."]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Assigned Locations"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[ne.map(a=>e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-green-50 text-green-700 rounded-md border border-green-200",children:[e.jsx("span",{className:"text-sm",children:a.name}),!oe&&e.jsx("button",{onClick:()=>Xs(a.name),className:"text-green-700 hover:text-green-900",children:e.jsx(ce,{size:14})})]},a.name)),ne.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"No locations assigned yet"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",value:O,onChange:a=>ke(a.target.value),onKeyPress:a=>a.key==="Enter"&&Ct(),placeholder:"Search and add locations...",disabled:oe,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm disabled:bg-gray-50"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Location Details"}),ne.length>0?e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Location Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Address"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ne.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.address}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.type}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:a.status})}),e.jsx("td",{className:"px-4 py-3 text-center",children:!oe&&e.jsx("button",{onClick:()=>Xs(a.name),className:"text-red-600 hover:text-red-800",children:e.jsx(ys,{size:16})})})]},a.name))})]}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",ne.length," location(s)"]})})]}):e.jsx("div",{className:"border border-gray-200 rounded-lg p-8 text-center",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"No locations assigned yet"})})]})]}),P==="participants"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Study Participants"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Manage participants enrolled in this study and configure participant-specific rules."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Enrolled Participants (",fe.length,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",value:ee,onChange:a=>Ue(a.target.value),placeholder:"Filter participants...",className:"pl-9 pr-4 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm w-64"})]})]}),fe.length>0?e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden mb-6",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Participant ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Participant Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:fe.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.id}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.name}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:a.status})})]},a.id))})]}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",fe.length," participant(s)"]})})]}):e.jsx("div",{className:"border border-gray-200 rounded-lg p-8 text-center mb-6",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"No participants enrolled yet"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Participant Rules"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Select Participant ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:$e,onChange:a=>Be(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",children:[e.jsx("option",{value:"",children:"Select participant"}),fe.map(a=>e.jsxs("option",{value:a.id,children:[a.id," - ",a.name]},a.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Study Participant ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:Ie,onChange:a=>Q(a.target.value),disabled:oe,placeholder:"Enter study-specific participant ID...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Waive SSN"}),e.jsxs("select",{value:Le,onChange:a=>De(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",children:[e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Withhold Taxes"}),e.jsxs("select",{value:ae,onChange:a=>Me(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",children:[e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Participant Status"}),e.jsxs("select",{value:n,onChange:a=>re(a.target.value),disabled:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 text-sm",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Withdrawn",children:"Withdrawn"})]})]})]})]})]}),P==="milestones"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Milestones"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Configure payment schedules for study milestones. Payments will be automatically calculated based on the schedule below."}),e.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:[e.jsx("span",{className:"font-medium",children:"Current Milestones as of:"})," ",e.jsx("span",{className:"text-blue-600",children:"January 25, 2026"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Study Milestones"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",value:X,onChange:a=>de(a.target.value),placeholder:"Filter milestones...",className:"pl-9 pr-4 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm w-48"})]}),!oe&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"flex items-center gap-1.5 px-3 py-1.5 text-purple-600 border border-purple-300 rounded-lg hover:bg-purple-50 text-sm font-medium",children:[e.jsx(cs,{size:16}),"Upload Milestones"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-3 py-1.5 text-green-600 border border-green-300 rounded-lg hover:bg-green-50 text-sm font-medium",children:[e.jsx(Ve,{size:16}),"Export"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:[e.jsx(Xe,{size:16}),"Add Milestone"]})]})]})]}),l.length>0?e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden mb-6",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 w-12"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Milestone ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Milestone Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Payment"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:!oe&&e.jsx("button",{className:"text-gray-400 hover:text-gray-600 cursor-move",children:e.jsx(Vt,{size:16})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium",children:a.id})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"text",value:a.name,onChange:()=>{},disabled:oe,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm disabled:bg-gray-50 disabled:border-transparent"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("select",{value:a.type,onChange:()=>{},disabled:oe,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm disabled:bg-gray-50 disabled:border-transparent",children:[e.jsx("option",{value:"One-time",children:"One-time"}),e.jsx("option",{value:"Recurring",children:"Recurring"})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"text",value:a.payment,onChange:()=>{},disabled:oe,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm disabled:bg-gray-50 disabled:border-transparent"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:!oe&&e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx(ys,{size:16})})})]},a.id))})]}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",l.length," milestone(s)"]})})]}):e.jsx("div",{className:"border border-gray-200 rounded-lg p-8 text-center mb-6",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"No milestones defined yet"})}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>he(!i),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:[e.jsx("span",{children:"Prior Versions (3 versions)"}),e.jsx(We,{size:16,className:`transform transition-transform ${i?"rotate-180":""}`})]}),i&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Select Version to View:"}),e.jsxs("select",{value:xe,onChange:a=>g(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Select a version..."}),e.jsx("option",{value:"2025-12-31",children:"December 31, 2025"}),e.jsx("option",{value:"2025-11-15",children:"November 15, 2025"}),e.jsx("option",{value:"2025-10-01",children:"October 1, 2025"})]})]}),xe&&Ds[xe]&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h5",{className:"text-sm font-medium text-gray-900",children:["Version from ",Ds[xe].effectiveDate]}),e.jsx("span",{className:"text-xs text-gray-500 italic",children:"Read-only view"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-gray-50/30",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-white border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Milestone ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Milestone Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Ds[xe].milestones.map(a=>e.jsxs("tr",{className:"bg-white/50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.id}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:a.type}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.payment})]},a.id))})]}),e.jsx("div",{className:"px-4 py-3 bg-white/80 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",Ds[xe].milestones.length," milestone(s)"]})})]})]})]})]})]})]}),P==="funding"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Study Funding"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Manage funding sources for this study. A study can have multiple grants or funding sources."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["Funding Sources (",N.length,")"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",value:be,onChange:a=>s(a.target.value),placeholder:"Filter funding...",className:"pl-9 pr-4 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm w-48"})]}),!oe&&e.jsxs("button",{onClick:()=>{const a=N.some(Fe=>Fe.type==="Grant"),Ge=N.some(Fe=>Fe.type==="Other");ms(a&&!Ge?"Other":"Grant"),Re(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:[e.jsx(Xe,{size:16}),"Add Funding"]})]})]}),N.length===0&&!se&&e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center",children:[e.jsx(Ee,{className:"mx-auto text-gray-400 mb-4",size:48}),e.jsx("p",{className:"text-gray-500 font-medium mb-1",children:"No funding sources added yet"}),e.jsx("p",{className:"text-gray-400 text-sm",children:'Click "Add Funding" to add a funding source'})]}),N.length>0&&e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Grant"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Cost Center"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Fund"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Function"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Award"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"HSC"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"ACT"}),!oe&&e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:N.map((a,Ge)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.type}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.grant||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.costCenter||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.fund||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.functionCode||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.award||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.hsc||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:a.act||"-"}),!oe&&e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("button",{onClick:()=>{F(N.filter(Fe=>Fe.id!==a.id)),v.success("Funding source removed")},className:"text-red-600 hover:text-red-800",title:"Remove",children:e.jsx(ys,{size:16})})})]},a.id||Ge))})]})})]}),se&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Add Funding Source"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Funding Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:qe,onChange:a=>ms(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsxs("option",{value:"Grant",disabled:N.some(a=>a.type==="Grant"),children:["Grant ",N.some(a=>a.type==="Grant")?"(Already added)":""]}),e.jsxs("option",{value:"Other",disabled:N.some(a=>a.type==="Other"),children:["Other ",N.some(a=>a.type==="Other")?"(Already added)":""]})]}),(N.some(a=>a.type==="Grant")||N.some(a=>a.type==="Other"))&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Note: Only one Grant and one Other funding source can be added per study"})]}),qe==="Grant"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Grant ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:xs,onChange:a=>zs(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Select grant"}),Us.filter(a=>a.status==="Active").map(a=>e.jsxs("option",{value:a.id.toString(),children:[a.referenceId," - ",a.grantName]},a.id))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecting a grant will automatically populate all funding fields"})]}),xs&&(()=>{const a=Us.find(Ge=>Ge.id.toString()===xs);return a?e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Auto-populated Grant Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Cost Center"}),e.jsx("input",{type:"text",value:`${a.costCenterCode} ${a.costCenterDescription}`,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fund"}),e.jsx("input",{type:"text",value:`${a.fundCode} ${a.fundDescription}`,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Function"}),e.jsx("input",{type:"text",value:`${a.functionCode} ${a.functionDescription}`,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Award"}),e.jsx("input",{type:"text",value:a.award,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"HSC"}),e.jsx("input",{type:"text",value:a.hscNumber||"N/A",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 text-sm"})]})]}):null})()]}),qe==="Other"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Cost Center ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:vs,onChange:a=>js(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Select cost center"}),pt.filter(a=>a.status==="Active").map(a=>e.jsx("option",{value:a.costCenter,children:a.costCenter},a.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Fund ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:Cs,onChange:a=>m(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Select fund"}),ut.filter(a=>a.status==="Active").map(a=>e.jsx("option",{value:a.fundName,children:a.fundName},a.id))]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Function ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:te,onChange:a=>Te(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Select function"}),ht.filter(a=>a.status==="Active").map(a=>e.jsx("option",{value:a.functionName,children:a.functionName},a.id))]})]})]}),qe==="Other"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"HSC"}),e.jsx("input",{type:"text",value:Hs,onChange:a=>Ws(a.target.value),placeholder:"13154",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"ACT"}),e.jsx("input",{type:"text",value:Gs,onChange:a=>Js(a.target.value),placeholder:"N/A",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>Re(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium text-sm",children:"Cancel"}),e.jsx("button",{onClick:wt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm",children:"Add Funding"})]})]})]})]}),P==="auditHistory"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-6",children:"Audit History"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"border-l-4 border-blue-500 bg-white p-4 rounded-r-lg shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Status changed to Active"}),e.jsx("p",{className:"text-xs text-gray-600",children:"By Dr. Sarah Williams on Jan 3, 2026 at 2:45 PM"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"2 days ago"})]})}),e.jsx("div",{className:"border-l-4 border-yellow-500 bg-white p-4 rounded-r-lg shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"End date extended to 2027-06-01"}),e.jsx("p",{className:"text-xs text-gray-600",children:"By Dr. Sarah Williams on Dec 22, 2025 at 4:30 PM"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"2 weeks ago"})]})}),e.jsx("div",{className:"border-l-4 border-gray-400 bg-white p-4 rounded-r-lg shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Study record created"}),e.jsx("p",{className:"text-xs text-gray-600",children:"By Dr. Sarah Williams on 2025-06-01 at 8:00 AM"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"2025-06-01"})]})})]})]})]}),!oe&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:Qs,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium text-sm",children:"Cancel"}),e.jsx("button",{onClick:Nt,disabled:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium disabled:opacity-50 flex items-center gap-2 text-sm",children:A?e.jsxs(e.Fragment,{children:[e.jsx(xt,{size:"sm"}),"Saving..."]}):Ss?"Update Study":"Create Study"})]})]})})]})}function Ba({participant:r,selectedStudies:d,onClose:o,onSave:b}){const[u,U]=t.useState(""),[S,j]=t.useState(d),w=[{code:"CHS-2026-001",name:"Cardiovascular Health Study 2026",pi:"Dr. Sarah Williams",status:"Active"},{code:"NDR-2025-042",name:"Neurological Disorders Research",pi:"Dr. James Anderson",status:"Active"},{code:"DPT-2025-019",name:"Diabetes Prevention Trial",pi:"Dr. Michael Chen",status:"Active"},{code:"PNS-2026-008",name:"Pediatric Nutrition Study",pi:"Dr. Robert Taylor",status:"Recruiting"},{code:"CIS-2025-055",name:"Cancer Immunotherapy Study",pi:"Dr. Lisa Brown",status:"Active"},{code:"ATE-2025-031",name:"Arthritis Treatment Efficacy",pi:"Dr. David Kim",status:"Completed"},{code:"SDA-2026-003",name:"Sleep Disorder Analysis",pi:"Dr. Maria Martinez",status:"Planning"}],k=w.filter(p=>!S.includes(p.code)&&(p.code.toLowerCase().includes(u.toLowerCase())||p.name.toLowerCase().includes(u.toLowerCase()))),h=p=>{j([...S,p]),U("")},z=p=>{j(S.filter(L=>L!==p))};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:o}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-2/3 xl:w-1/2 bg-white shadow-2xl overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl",children:["Manage Study Enrollment (",r.name,")"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.participantId," - ",r.name]})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg border-b pb-2",children:"Add Studies"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by study code or name...",value:u,onChange:p=>U(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u&&e.jsx("div",{className:"border border-gray-300 rounded-lg max-h-60 overflow-y-auto",children:k.length>0?k.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium",children:[p.code," - ",p.name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["PI: ",p.pi," | Status: ",p.status]})]}),e.jsxs("button",{onClick:()=>h(p.code),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:[e.jsx(Xe,{size:16}),"Add"]})]},p.code)):e.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No studies found"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[e.jsx("h3",{className:"text-lg",children:"Currently Enrolled"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[S.length," ",S.length!==1?"studies":"study"]})]}),S.length>0?e.jsx("div",{className:"space-y-2",children:S.map(p=>{const L=w.find(A=>A.code===p);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:p}),L&&e.jsxs("p",{className:"text-xs text-gray-600",children:[L.name," - PI: ",L.pi]})]}),e.jsx("button",{onClick:()=>z(p),className:"px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded",children:"Withdraw"})]},p)})}):e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-gray-500",children:"Not enrolled in any studies"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Use the search above to enroll in studies"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:o,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>b(S),className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Enrollment"})]})]})]})]})}function Va({currentAddress:r,onClose:d,onConfirm:o}){const b={address1:r.address1||"3901 Rainbow Blvd",address2:r.address2||"MS 1039",city:r.city||"Kansas City",state:r.state||"KS",zip:r.zip||"66160",country:r.country||"United States"},u=()=>{o(r,!1)},U=()=>{o(b,!0)};return e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:d}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between bg-blue-50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:"Address Verification"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Review and select the correct address format"})]}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-white rounded-lg transition-colors",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Note:"})," The address verification service uses Google Maps API to standardize and validate addresses. Please review both versions and select the most appropriate format."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border-2 border-gray-300 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-3 border-b border-gray-300",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Current Address"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Address as entered"})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"Address Line 1"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r.address1||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"Address Line 2"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r.address2||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"City"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r.city||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"State"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r.state||e.jsx("span",{className:"text-gray-400 italic",children:"--"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"ZIP Code"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r.zip||e.jsx("span",{className:"text-gray-400 italic",children:"--"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"Country"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:r.country||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]})]})]}),e.jsxs("div",{className:"border-2 border-green-400 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-green-50 px-4 py-3 border-b border-green-300",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:["Verified Address",e.jsx("span",{className:"text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Recommended"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Standardized by Google Maps"})]}),e.jsxs("div",{className:"p-4 space-y-3 bg-green-50/30",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"Address Line 1"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:b.address1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"Address Line 2"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:b.address2||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"City"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:b.city})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"State"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:b.state})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"ZIP Code"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:b.zip})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 font-medium",children:"Country"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:b.country})]})]})]})]}),e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"What's the difference?"}),e.jsxs("ul",{className:"text-xs text-gray-700 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"The verified address has been standardized using USPS formatting guidelines"}),e.jsx("li",{children:"Street names, abbreviations, and capitalization may have been corrected"}),e.jsx("li",{children:"Using the verified address improves mail delivery reliability"}),e.jsx("li",{children:"You can keep your current address if it's already correct"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex gap-3",children:[e.jsx("button",{onClick:d,className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-100 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:u,className:"flex-1 px-6 py-3 border-2 border-blue-600 text-blue-600 bg-white rounded-lg hover:bg-blue-50 font-medium transition-colors",children:"Keep Current Address"}),e.jsx("button",{onClick:U,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium shadow-sm transition-colors",children:"Use Verified Address"})]})]})]})}function Oa({participant:r,onClose:d,onVerified:o}){const[b,u]=t.useState(r.firstName||""),[U,S]=t.useState(r.lastName||""),[j,w]=t.useState(r.ssn||""),[k,h]=t.useState(!1),[z,p]=t.useState(!1),[L,A]=t.useState({firstName:"",lastName:"",ssn:""}),f=y=>{const K=y.replace(/\D/g,"");return K.length<=3?K:K.length<=5?`${K.slice(0,3)}-${K.slice(3)}`:`${K.slice(0,3)}-${K.slice(3,5)}-${K.slice(5,9)}`},$=y=>{const K=f(y.target.value);w(K),L.ssn&&A(T=>({...T,ssn:""}))},H=()=>{const y={firstName:"",lastName:"",ssn:""};let K=!0;b.trim()?b.trim().length<2&&(y.firstName="First name must be at least 2 characters",K=!1):(y.firstName="First name is required",K=!1),U.trim()?U.trim().length<2&&(y.lastName="Last name must be at least 2 characters",K=!1):(y.lastName="Last name is required",K=!1);const T=j.replace(/\D/g,"");return j.trim()?T.length!==9?(y.ssn="SSN must be 9 digits",K=!1):/^\d{3}-\d{2}-\d{4}$/.test(j)||(y.ssn="SSN must be in format XXX-XX-XXXX",K=!1):(y.ssn="SSN is required",K=!1),A(y),K},D=async()=>{if(!H()){v.error("Please correct the errors before verifying");return}h(!0),setTimeout(()=>{h(!1),p(!0),v.success("Participant verified successfully",{description:`${b} ${U} has been verified`,duration:4e3}),o&&o({firstName:b.trim(),lastName:U.trim(),ssn:j.trim()})},1500)},R=()=>{k||d()};return e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:R}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between bg-blue-50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Participant Verification"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Verify participant identity against external verification service"})]}),e.jsx("button",{onClick:R,className:"p-2 hover:bg-white rounded-lg transition-colors",disabled:k,children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qe,{size:20,className:"text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-yellow-900",children:"Limited Verification Attempts"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"The number of verification attempts is limited. Please ensure all information is accurate before proceeding."})]})]})}),e.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qe,{size:20,className:"text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-700",children:"This process will validate the participant's identity information against an external verification service."})})]})}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:b,onChange:y=>{u(y.target.value),L.firstName&&A(K=>({...K,firstName:""}))},className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${L.firstName?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Enter first name",disabled:k||z}),L.firstName&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(Qe,{size:14}),L.firstName]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:U,onChange:y=>{S(y.target.value),L.lastName&&A(K=>({...K,lastName:""}))},className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ${L.lastName?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Enter last name",disabled:k||z}),L.lastName&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(Qe,{size:14}),L.lastName]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Social Security Number (SSN) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:j,onChange:$,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all font-mono ${L.ssn?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"XXX-XX-XXXX",maxLength:11,disabled:k||z}),L.ssn&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(Qe,{size:14}),L.ssn]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: XXX-XX-XXXX (e.g., 123-45-6789)"})]})]}),z&&e.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fs,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Participant verified successfully"}),e.jsxs("p",{className:"text-sm text-green-700 mt-1",children:[b," ",U," has been successfully verified."]})]})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex gap-3",children:[e.jsx("button",{onClick:R,className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-100 font-medium transition-colors",disabled:k,children:z?"Close":"Cancel"}),!z&&e.jsx("button",{onClick:D,disabled:k,className:"flex-1 px-6 py-3 bg-ku-blue text-white rounded-lg hover:bg-ku-blue-dark font-medium shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fs,{size:20}),"Verify Participant"]})})]})]})]})}function qa(){const[r,d]=t.useState(""),[o,b]=t.useState("all"),[u,U]=t.useState("participantId"),[S,j]=t.useState("asc"),[w,k]=t.useState(!1),[h,z]=t.useState(!1),[p,L]=t.useState(!1),[A,f]=t.useState(!1),[$,H]=t.useState(!1),[D,R]=t.useState(null),[y,K]=t.useState(null),[T,je]=t.useState(null),[P,W]=t.useState(null),[G,V]=t.useState("details"),[E,le]=t.useState(null),[Z,Y]=t.useState([]),[_,ie]=t.useState(""),[B,q]=t.useState([]),[ze,me]=t.useState([]),[ue,ge]=t.useState(""),[Se,x]=t.useState(!1),[C,I]=t.useState(!1),[M,c]=t.useState({address1:"",address2:"",city:"",state:"",zip:"",country:"United States"}),[J,pe]=t.useState(!1),[O,ke]=t.useState(""),[ne,ye]=t.useState([]),[ee,Ue]=t.useState({}),[fe,Ae]=t.useState(""),[$e,Be]=t.useState(""),[Ie,Q]=t.useState("No"),[Le,De]=t.useState("No"),[ae,Me]=t.useState("Registered"),[n,re]=t.useState({}),X=[{code:"CHS-2026-001",name:"Cardiovascular Health Study 2026",pi:"Dr. Sarah Williams",status:"Active"},{code:"NDR-2025-042",name:"Neurological Disorders Research",pi:"Dr. James Anderson",status:"Active"},{code:"DPT-2025-019",name:"Diabetes Prevention Trial",pi:"Dr. Michael Chen",status:"Active"},{code:"PNS-2026-008",name:"Pediatric Nutrition Study",pi:"Dr. Robert Taylor",status:"Recruiting"},{code:"CIS-2025-055",name:"Cancer Immunotherapy Study",pi:"Dr. Lisa Brown",status:"Active"},{code:"ATE-2025-031",name:"Arthritis Treatment Efficacy",pi:"Dr. David Kim",status:"Completed"},{code:"SDA-2026-003",name:"Sleep Disorder Analysis",pi:"Dr. Maria Martinez",status:"Planning"}],de=[{id:1,participantId:"P-2026-001",name:"John Smith",firstName:"John",lastName:"Smith",dob:"1985-03-15",gender:"Male",study:"CHS-2026-001",enrollDate:"2025-08-15",status:"Active",participantStatus:"Active",visits:12,studyList:["CHS-2026-001","ATE-2025-031"],email:"john.smith@email.com",phone:"(555) 123-4567",location:"Home Visit - Johnson County Area",address1:"123 Main St",address2:"Apt 4B",city:"Kansas City",state:"KS",zip:"66101",country:"United States",ssn:"***-**-1234",withholdTax:"no",taxExempt:!1},{id:2,participantId:"P-2025-156",name:"Sarah Johnson",firstName:"Sarah",lastName:"Johnson",dob:"1990-07-22",gender:"Female",study:"NDR-2025-042",enrollDate:"2025-04-20",status:"Active",participantStatus:"Active",visits:8,studyList:["NDR-2025-042","CHS-2026-001"],email:"sarah.j@email.com",phone:"(555) 234-5678",location:"Community Health Center - Downtown",address1:"456 Oak Ave",address2:"",city:"Overland Park",state:"KS",zip:"66062",country:"United States",ssn:"***-**-5678",withholdTax:"yes",taxExempt:!1},{id:3,participantId:"P-2026-045",name:"Michael Brown",firstName:"Michael",lastName:"Brown",dob:"1978-11-30",gender:"Male",study:"DPT-2025-019",enrollDate:"2025-06-10",status:"Active",participantStatus:"Active",visits:15,studyList:["DPT-2025-019"],email:"mbrown@email.com",phone:"(555) 345-6789",location:"Virtual/Remote Participation",address1:"789 Elm Street",address2:"Suite 200",city:"Lenexa",state:"KS",zip:"66215",country:"United States",ssn:"***-**-9012",withholdTax:"no",taxExempt:!1},{id:4,participantId:"P-2026-089",name:"Emily Davis",firstName:"Emily",lastName:"Davis",dob:"1995-02-14",gender:"Female",study:"PNS-2026-008",enrollDate:"2026-01-05",status:"Screening",participantStatus:"Active",visits:2,studyList:["PNS-2026-008","NDR-2025-042"],email:"emily.d@email.com",phone:"(555) 456-7890",location:"Home Visit - Wyandotte County Area",address1:"321 Pine Rd",address2:"",city:"Kansas City",state:"MO",zip:"64110",country:"United States",ssn:"***-**-3456",withholdTax:"no",taxExempt:!1},{id:5,participantId:"P-2025-234",name:"Robert Wilson",firstName:"Robert",lastName:"Wilson",dob:"1982-09-08",gender:"Male",study:"CIS-2025-055",enrollDate:"2025-09-01",status:"Active",participantStatus:"Active",visits:10,studyList:["CIS-2025-055","PNS-2026-008"],email:"rwilson@email.com",phone:"(555) 567-8901",location:"Community Health Center - Downtown",address1:"654 Maple Dr",address2:"Unit 12",city:"Shawnee",state:"KS",zip:"66203",country:"United States",ssn:"***-**-7890",withholdTax:"yes",taxExempt:!0},{id:6,participantId:"P-2025-178",name:"Linda Martinez",firstName:"Linda",lastName:"Martinez",dob:"1988-05-19",gender:"Female",study:"DPT-2025-019",enrollDate:"2025-07-22",status:"Completed",participantStatus:"Inactive",visits:24,studyList:["DPT-2025-019","CHS-2026-001"],email:"linda.m@email.com",phone:"(555) 678-9012",location:"Home Visit - Johnson County Area",address1:"987 Cedar Ln",address2:"",city:"Olathe",state:"KS",zip:"66061",country:"United States",ssn:"***-**-2345",withholdTax:"no",taxExempt:!1},{id:7,participantId:"P-2025-298",name:"David Anderson",firstName:"David",lastName:"Anderson",dob:"1975-12-03",gender:"Male",study:"ATE-2025-031",enrollDate:"2024-03-15",status:"Completed",participantStatus:"Inactive",visits:18,studyList:["ATE-2025-031","DPT-2025-019","CIS-2025-055"],email:"danderson@email.com",phone:"(555) 789-0123",location:"Virtual/Remote Participation",address1:"147 Birch Ave",address2:"Bldg C",city:"Prairie Village",state:"KS",zip:"66208",country:"United States",ssn:"***-**-6789",withholdTax:"yes",taxExempt:!1},{id:8,participantId:"P-2026-012",name:"Jennifer Taylor",firstName:"Jennifer",lastName:"Taylor",dob:"1992-08-27",gender:"Female",study:"CHS-2026-001",enrollDate:"2025-08-28",status:"Active",participantStatus:"Active",visits:11,studyList:["CHS-2026-001"],email:"jtaylor@email.com",phone:"(555) 890-1234",location:"Community Health Center - Downtown",address1:"258 Walnut St",address2:"Apt 3A",city:"Kansas City",state:"KS",zip:"66102",country:"United States",ssn:"***-**-0123",withholdTax:"no",taxExempt:!1},{id:9,participantId:"P-2026-150",name:"Thomas Garcia",firstName:"Thomas",lastName:"Garcia",dob:"1987-06-18",gender:"Male",study:"SDA-2026-003",enrollDate:"2026-01-20",status:"Registered",participantStatus:"Active",visits:0,studyList:["SDA-2026-003"],email:"thomas.garcia@email.com",phone:"(555) 901-2345",location:"Outpatient Clinic - West Campus",address1:"741 Spruce St",address2:"",city:"Kansas City",state:"KS",zip:"66112",country:"United States",ssn:"***-**-4567",withholdTax:"no",taxExempt:!1},{id:10,participantId:"P-2026-151",name:"Jessica White",firstName:"Jessica",lastName:"White",dob:"1993-11-09",gender:"Female",study:"SDA-2026-003",enrollDate:"2026-01-22",status:"Registered",participantStatus:"Active",visits:0,studyList:["SDA-2026-003"],email:"jessica.white@email.com",phone:"(555) 012-3456",location:"Outpatient Clinic - West Campus",address1:"852 Ash Blvd",address2:"",city:"Overland Park",state:"KS",zip:"66085",country:"United States",ssn:"***-**-8901",withholdTax:"no",taxExempt:!1}],l=s=>{u===s?j(S==="asc"?"desc":"asc"):(U(s),j("asc"))},Ne=de.filter(s=>{const N=s.name.toLowerCase().includes(r.toLowerCase())||s.participantId.toLowerCase().includes(r.toLowerCase())||s.study.toLowerCase().includes(r.toLowerCase()),F=o==="all"||s.participantStatus===o;return N&&F}).sort((s,N)=>{let F=s[u],se=N[u];return F==null?1:se==null?-1:(F=String(F).toLowerCase(),se=String(se).toLowerCase(),S==="asc"?F<se?-1:F>se?1:0:F>se?-1:F<se?1:0)}),i=()=>{z(!1),K(null),W(null),q([]),ye([]),pe(!1),ke(""),Ue({}),V("details")},he=()=>{if(!y)return;const s=y.withholdTax==="yes"?"Tax withholding enabled - 10% will be deducted from payments":"Tax withholding disabled";v.success(`Participant ${y.participantId} updated successfully. ${s}`,{duration:5e3}),i()},xe=y!==null,g=P!==null&&y===null,be=g?P:xe?y:null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(Os,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Participants"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage study participants and enrollment"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>k(!w),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:w?"Hide Key Performance Indicators":"Show Key Performance Indicators",children:w?e.jsx(Ze,{size:20}):e.jsx(We,{size:20})}),e.jsx("button",{onClick:()=>f(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:"Bulk Upload Participants from Excel",children:e.jsx(cs,{size:20})}),e.jsx("button",{onClick:()=>L(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-green-600 rounded-lg transition-all shadow-sm",title:"Export Participants to Excel",children:e.jsx(Ve,{size:20})}),e.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 font-medium shadow-sm transition-all",title:"Register New Participant",children:[e.jsx(Xe,{size:20}),"Register Participant"]})]})]}),w&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Total Participants"}),e.jsx(Os,{className:"text-blue-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:de.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Active"}),e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),e.jsx("p",{className:"text-3xl",children:de.filter(s=>s.participantStatus==="Active").length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Inactive"}),e.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"})]}),e.jsx("p",{className:"text-3xl",children:de.filter(s=>s.participantStatus==="Inactive").length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Total Visits"}),e.jsx(Ms,{className:"text-blue-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:de.reduce((s,N)=>s+N.visits,0)})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by name, ID, or study...",value:r,onChange:s=>d(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{size:20,className:"text-gray-400"}),e.jsxs("select",{value:o,onChange:s=>b(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>l("participantId"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Participant Code",u==="participantId"?S==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>l("name"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Name",u==="name"?S==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>l("dob"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["DOB",u==="dob"?S==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Address"}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>l("study"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Linked Studies",u==="study"?S==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>l("participantStatus"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Status",u==="participantStatus"?S==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Ne.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:s.participantId}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>{W(s),q(s.studyList||[]),ye(s.studyList||[]),z(!0)},className:"text-blue-600 hover:underline text-left",children:s.name})}),e.jsx("td",{className:"px-6 py-4",children:s.dob}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm",children:[s.address1,s.address2?`, ${s.address2}`:"",e.jsx("br",{}),s.city,", ",s.state," ",s.zip]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.studyList&&s.studyList.length>0?s.studyList.map(N=>e.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs rounded-full font-medium",children:N},N)):e.jsx("span",{className:"text-gray-400 text-sm italic",children:"No studies"})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s.participantStatus==="Active"?"bg-green-100 text-green-800":s.participantStatus==="Inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:s.participantStatus})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{W(s),q(s.studyList||[]),z(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>{K(s),q(s.studyList||[]),ye(s.studyList||[]),z(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:e.jsx(ns,{size:16})}),e.jsx("button",{onClick:()=>{K(s),q(s.studyList||[]),ye(s.studyList||[]),V("studies"),z(!0)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Manage Study Enrollment",children:e.jsx(Is,{size:16})}),e.jsx("button",{onClick:()=>je(s),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Archive",children:e.jsx(Ot,{size:16})})]})})]},s.id))})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing ",Ne.length," of ",de.length," participants"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Previous"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"1"}),e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"2"}),e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Next"})]})]})]}),E&&e.jsx(Ba,{participant:E,selectedStudies:Z,onClose:()=>le(null),onSave:s=>{le(null)}}),h&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:i}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:[e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:g?`View Participant (${be?.name})`:xe?`Edit Participant (${be?.name})`:"Register Participant"}),e.jsx("p",{className:"text-sm text-gray-500",children:g?"View participant details":xe?"Update participant information":"Enter participant details to register in study"})]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]}),e.jsx("div",{className:"px-6",children:e.jsxs("div",{className:"flex gap-1 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>V("details"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${G==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Details"}),(g||xe)&&e.jsx("button",{onClick:()=>V("studies"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${G==="studies"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Studies"}),(g||xe)&&e.jsx("button",{onClick:()=>V("history"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${G==="history"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Audit History"})]})})]}),e.jsxs("form",{className:"p-6 space-y-6",children:[G==="details"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg border-b pb-2",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1 text-gray-700",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:be?.firstName||"",onChange:()=>{},readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"Enter first name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1 text-gray-700",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:be?.lastName||"",onChange:()=>{},readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"Enter last name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1 text-gray-700",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:be?.dob||"",onChange:()=>{},readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1 text-gray-700",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:be?.gender||"",onChange:()=>{},disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:"-- Select --"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"}),e.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1 text-gray-700",children:["Participant Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:be?.participantStatus||"Active",onChange:s=>{!g&&y&&K({...y,participantStatus:s.target.value})},disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg border-b pb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1 text-gray-700",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:be?.email||"",onChange:()=>{},readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"participant@email.com"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1 text-gray-700",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:be?.phone||"",onChange:()=>{},readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"(555) 123-4567"})]}),e.jsxs("div",{className:"border-t border-gray-300 pt-4 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Mailing Address"}),!g&&e.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline font-medium",onClick:()=>x(!0),children:"Verify Address"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm mb-2",children:["Address Line 1 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:be?.address1||M.address1,onChange:s=>!g&&c({...M,address1:s.target.value}),readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"Street number and name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Address Line 2"}),e.jsx("input",{type:"text",value:be?.address2||M.address2,onChange:s=>!g&&c({...M,address2:s.target.value}),readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"Apartment, suite, unit, etc. (optional)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm mb-2",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:be?.city||M.city,onChange:s=>!g&&c({...M,city:s.target.value}),readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"City"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm mb-2",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:be?.state||M.state,onChange:s=>!g&&c({...M,state:s.target.value}),disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"KS",children:"Kansas"}),e.jsx("option",{value:"MO",children:"Missouri"}),e.jsx("option",{value:"AL",children:"Alabama"}),e.jsx("option",{value:"AK",children:"Alaska"}),e.jsx("option",{value:"AZ",children:"Arizona"}),e.jsx("option",{value:"AR",children:"Arkansas"}),e.jsx("option",{value:"CA",children:"California"}),e.jsx("option",{value:"CO",children:"Colorado"}),e.jsx("option",{value:"CT",children:"Connecticut"}),e.jsx("option",{value:"DE",children:"Delaware"}),e.jsx("option",{value:"FL",children:"Florida"}),e.jsx("option",{value:"GA",children:"Georgia"}),e.jsx("option",{value:"HI",children:"Hawaii"}),e.jsx("option",{value:"ID",children:"Idaho"}),e.jsx("option",{value:"IL",children:"Illinois"}),e.jsx("option",{value:"IN",children:"Indiana"}),e.jsx("option",{value:"IA",children:"Iowa"}),e.jsx("option",{value:"KY",children:"Kentucky"}),e.jsx("option",{value:"LA",children:"Louisiana"}),e.jsx("option",{value:"ME",children:"Maine"}),e.jsx("option",{value:"MD",children:"Maryland"}),e.jsx("option",{value:"MA",children:"Massachusetts"}),e.jsx("option",{value:"MI",children:"Michigan"}),e.jsx("option",{value:"MN",children:"Minnesota"}),e.jsx("option",{value:"MS",children:"Mississippi"}),e.jsx("option",{value:"MT",children:"Montana"}),e.jsx("option",{value:"NE",children:"Nebraska"}),e.jsx("option",{value:"NV",children:"Nevada"}),e.jsx("option",{value:"NH",children:"New Hampshire"}),e.jsx("option",{value:"NJ",children:"New Jersey"}),e.jsx("option",{value:"NM",children:"New Mexico"}),e.jsx("option",{value:"NY",children:"New York"}),e.jsx("option",{value:"NC",children:"North Carolina"}),e.jsx("option",{value:"ND",children:"North Dakota"}),e.jsx("option",{value:"OH",children:"Ohio"}),e.jsx("option",{value:"OK",children:"Oklahoma"}),e.jsx("option",{value:"OR",children:"Oregon"}),e.jsx("option",{value:"PA",children:"Pennsylvania"}),e.jsx("option",{value:"RI",children:"Rhode Island"}),e.jsx("option",{value:"SC",children:"South Carolina"}),e.jsx("option",{value:"SD",children:"South Dakota"}),e.jsx("option",{value:"TN",children:"Tennessee"}),e.jsx("option",{value:"TX",children:"Texas"}),e.jsx("option",{value:"UT",children:"Utah"}),e.jsx("option",{value:"VT",children:"Vermont"}),e.jsx("option",{value:"VA",children:"Virginia"}),e.jsx("option",{value:"WA",children:"Washington"}),e.jsx("option",{value:"WV",children:"West Virginia"}),e.jsx("option",{value:"WI",children:"Wisconsin"}),e.jsx("option",{value:"WY",children:"Wyoming"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm mb-2",children:["ZIP Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:be?.zip||M.zip,onChange:s=>!g&&c({...M,zip:s.target.value}),readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"12345",maxLength:10})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 text-sm mb-2",children:["Country ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:be?.country||M.country,onChange:s=>!g&&c({...M,country:s.target.value}),disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"United States",children:"United States"}),e.jsx("option",{value:"Canada",children:"Canada"}),e.jsx("option",{value:"Mexico",children:"Mexico"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg mb-4",children:"Tax Withholding"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-gray-700",children:["Social Security Number (SSN) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),!g&&e.jsx("button",{type:"button",className:"text-sm text-ku-blue hover:text-ku-blue-dark hover:underline",onClick:()=>I(!0),children:"Verify Participant"})]}),e.jsx("input",{type:"text",value:be?.ssn||"",onChange:()=>{},readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,placeholder:"XXX-XX-XXXX",maxLength:11})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1 text-gray-700",children:["Withhold Taxes? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:`flex items-center gap-2 px-4 py-3 border-2 border-gray-300 rounded-lg ${g?"bg-gray-100 cursor-not-allowed":"hover:bg-white cursor-pointer"}`,children:[e.jsx("input",{type:"radio",name:"withhold-tax",value:"yes",checked:be?.withholdTax==="yes",onChange:s=>{!g&&y&&K({...y,withholdTax:"yes"})},disabled:g,className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Yes - Withhold taxes from payments"})]}),e.jsxs("label",{className:`flex items-center gap-2 px-4 py-3 border-2 border-gray-300 rounded-lg ${g?"bg-gray-100 cursor-not-allowed":"hover:bg-white cursor-pointer"}`,children:[e.jsx("input",{type:"radio",name:"withhold-tax",value:"no",checked:be?.withholdTax==="no"||!be?.withholdTax,onChange:s=>{!g&&y&&K({...y,withholdTax:"no"})},disabled:g,className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"No - Do not withhold taxes"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Select whether to withhold federal taxes from participant payments"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 text-gray-700",children:"Tax Withholding Notes"}),e.jsx("textarea",{onChange:()=>{},readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,rows:2,placeholder:"Additional tax information or special circumstances"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1 text-gray-700",children:"Additional Notes"}),e.jsx("textarea",{onChange:()=>{},readOnly:g,disabled:g,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`,rows:4,placeholder:"Any additional information about this participant..."})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:g?"Close":"Cancel"}),!g&&e.jsx("button",{type:"button",onClick:he,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:xe?"Update Participant":"Register Participant"})]})]}),G==="studies"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:"Study Enrollment"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage studies this participant is enrolled in and assign study-specific participant IDs."})]}),!g&&e.jsxs("button",{type:"button",onClick:()=>pe(!J),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[e.jsx(Xe,{size:16}),"Add Study"]})]}),!g&&J&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Add Participant to Studies"}),e.jsx("button",{type:"button",onClick:()=>{pe(!1),ke("")},className:"text-gray-500 hover:text-gray-700",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"relative mb-2",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by study code or name...",value:O,onChange:s=>ke(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),O&&e.jsxs("div",{className:"border border-gray-300 rounded-lg max-h-48 overflow-y-auto bg-white",children:[X.filter(s=>!ne.includes(s.code)&&(s.code.toLowerCase().includes(O.toLowerCase())||s.name.toLowerCase().includes(O.toLowerCase()))).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium",children:[s.code," - ",s.name]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["PI: ",s.pi," | Status: ",s.status]})]}),e.jsxs("button",{type:"button",onClick:()=>{ye([...ne,s.code]),ke(""),v.success(`Enrolled in ${s.name}`)},className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:[e.jsx(Xe,{size:16}),"Add"]})]},s.code)),X.filter(s=>!ne.includes(s.code)&&(s.code.toLowerCase().includes(O.toLowerCase())||s.name.toLowerCase().includes(O.toLowerCase()))).length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No studies found"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"text-sm font-medium",children:["Enrolled Studies (",be?.studyList?.length||ne.length||0,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Filter studies...",value:_,onChange:s=>ie(s.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),((g?P?.studyList:xe?y?.studyList:ne)||[]).length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(Is,{className:"mx-auto text-gray-400 mb-2",size:48}),e.jsx("p",{className:"text-gray-500",children:"No studies enrolled yet"}),!g&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Use the search above to enroll this participant in studies"})]}):e.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Study Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Study Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Study Participant ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Primary Location"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:((g?P?.studyList:xe?y?.studyList:ne)||[]).filter(s=>{if(!_)return!0;const N=X.find(se=>se.code===s),F=_.toLowerCase();return s.toLowerCase().includes(F)||N?.name.toLowerCase().includes(F)||!1}).map(s=>{const N=X.find(F=>F.code===s);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:s}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:N?.name||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ee[s]||e.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:n[s]||e.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})})]},s)})})]})})})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Participant - Study Setup"}),g?e.jsx("p",{className:"text-sm text-gray-500 italic",children:"View mode - participant-study setup cannot be edited"}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Study ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:fe,onChange:s=>{Ae(s.target.value),Be(ee[s.target.value]||""),Q("No"),De("No"),Me("Registered")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Choose a study..."}),((xe?y?.studyList:ne)||[]).map(s=>{const N=X.find(F=>F.code===s);return e.jsxs("option",{value:s,children:[s," - ",N?.name||"Unknown"]},s)})]})]}),fe&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Study Participant ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:$e,onChange:s=>Be(s.target.value),placeholder:"Enter study-specific participant ID...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Primary Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:n[fe]||"",onChange:s=>{re({...n,[fe]:s.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select location..."}),e.jsx("option",{children:"Main Research Center - Building A"}),e.jsx("option",{children:"Outpatient Clinic - West Campus"}),e.jsx("option",{children:"Home Visit - Johnson County Area"}),e.jsx("option",{children:"Virtual/Remote Participation"}),e.jsx("option",{children:"Westwood"}),e.jsx("option",{children:"Corp"}),e.jsx("option",{children:"Remote"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waive SSN"}),e.jsxs("select",{value:Ie,onChange:s=>Q(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Withhold Taxes"}),e.jsxs("select",{value:Le,onChange:s=>De(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Study Enrollment Status"}),e.jsxs("select",{value:ae,onChange:s=>Me(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Registered",children:"Registered"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{onClick:()=>{if(!$e.trim()){v.error("Study Participant ID is required");return}if(!n[fe]){v.error("Primary Location is required");return}Ue({...ee,[fe]:$e}),v.success("Participant-study setup saved successfully"),Ae(""),Be(""),Q("No"),De("No"),Me("Registered")},className:"w-full px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Save Changes"})})]})]})]})]}),(g||xe)&&G==="history"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg border-b pb-2",children:"Audit History"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-green-500",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:["Payment method updated to ",e.jsx("span",{className:"font-medium",children:"Direct Deposit"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 day ago"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"By Admin User on Jan 4, 2026 at 11:30 AM"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:["Visit #",(g?P:y)?.visits," completed"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"3 days ago"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"By Study Coordinator on Jan 2, 2026 at 3:15 PM"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-yellow-500",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"Contact information updated"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 week ago"})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["By ",(g?P:y)?.name," on Dec 29, 2025 at 9:45 AM"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"W-9 form submitted and approved"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2 weeks ago"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"By Finance Team on Dec 22, 2025 at 2:00 PM"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-orange-500",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:["Status changed to ",e.jsx("span",{className:"font-medium",children:(g?P:y)?.status})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"3 weeks ago"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"By Study Coordinator on Dec 15, 2025 at 10:00 AM"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-gray-400",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"Participant enrolled in study"}),e.jsx("p",{className:"text-xs text-gray-500",children:(g?P:y)?.enrollDate})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["By Study Coordinator on ",(g?P:y)?.enrollDate," at 9:00 AM"]})]})]})]})]})]})]}),p&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>L(!1)}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[e.jsxs("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:"Export Participants"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Download participant data in your preferred format"})]}),e.jsx("button",{onClick:()=>L(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-3",children:"Select Export Format"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportFormat",value:"excel",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),e.jsx(Ve,{className:"text-green-600",size:20}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Excel (.xlsx)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Best for data analysis and reporting"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportFormat",value:"csv",className:"w-4 h-4 text-blue-600"}),e.jsx(Ve,{className:"text-blue-600",size:20}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"CSV (.csv)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with most applications"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-3",children:"Export Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600 rounded"}),e.jsxs("span",{className:"text-sm",children:["Include all participants (",de.length," total)"]})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-sm",children:"Include audit history"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-sm",children:"Active participants only"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>L(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsxs("button",{onClick:()=>{L(!1)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[e.jsx(Ve,{size:20}),"Export Data"]})]})]})]})]}),A&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>f(!1)}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[e.jsxs("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:"Upload Multiple Participants"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Upload a CSV or Excel file with participant data"})]}),e.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{onDragEnter:()=>H(!0),onDragLeave:()=>H(!1),onDragOver:s=>s.preventDefault(),onDrop:s=>{s.preventDefault(),H(!1),s.dataTransfer.files&&s.dataTransfer.files[0]&&R(s.dataTransfer.files[0])},className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${$?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"}`,children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(cs,{className:"text-blue-600",size:32})}),D?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-900",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(D.size/1024).toFixed(2)," KB"]}),e.jsx("button",{onClick:()=>R(null),className:"text-sm text-red-600 hover:underline",children:"Remove file"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 mb-1",children:"Drag and drop your file here, or"}),e.jsxs("label",{className:"text-blue-600 hover:underline cursor-pointer",children:["browse files",e.jsx("input",{type:"file",onChange:s=>{s.target.files&&s.target.files[0]&&R(s.target.files[0])},accept:".csv,.xlsx,.xls",className:"hidden"})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Supported formats: CSV, Excel (.xlsx, .xls)"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ve,{className:"text-blue-600 mt-0.5",size:20}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900 mb-1",children:"Need a template?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Download our CSV template with the required columns and sample data"}),e.jsx("button",{className:"text-sm text-blue-600 hover:underline",children:"Download Template"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm",children:"Required fields in your file:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Participant ID"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"First Name"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Last Name"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Status"]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:()=>{f(!1),R(null)},className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{disabled:!D,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Upload and Import"})]})]})]})]}),T&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>je(null)}),e.jsx("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl mb-4",children:"Archive Participant"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Are you sure you want to archive this participant? The participant will be moved to the archive and can be restored later."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Name:"})," ",T.name]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"ID:"})," ",T.participantId]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Study:"})," ",T.study]})]}),e.jsx("p",{className:"text-sm text-red-600 mb-6",children:"This action cannot be undone. All visit records and payment history for this participant will also be removed."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>je(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{je(null),v.success("Participant archived successfully!")},className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Confirm Archive"})]})]})})]}),Se&&e.jsx(Va,{currentAddress:M,onClose:()=>x(!1),onConfirm:(s,N)=>{c(s),x(!1),N?v.success("Address verified and updated successfully!"):v.info("Keeping current address")}}),C&&be&&e.jsx(Oa,{participant:{firstName:be.firstName||"",lastName:be.lastName||"",ssn:be.ssn||""},onClose:()=>I(!1),onVerified:s=>{y&&K({...y,firstName:s.firstName,lastName:s.lastName,ssn:s.ssn,name:`${s.firstName} ${s.lastName}`})}})]})}function Ha(){const[r,d]=t.useState("locations"),[o,b]=t.useState(""),[u,U]=t.useState(!1),[S,j]=t.useState(!1),[w,k]=t.useState(null),[h,z]=t.useState("details"),[p,L]=t.useState("all"),[A,f]=t.useState("all"),[$,H]=t.useState(!1),[D,R]=t.useState(null),[y,K]=t.useState("details"),[T,je]=t.useState(""),[P,W]=t.useState(""),[G,V]=t.useState(new Set([1])),E=[{id:1,name:"University of Kansas",code:"KU",type:"University",status:"Active",parentOrgId:0,locationsCount:0,unitsCount:0},{id:2,name:"University of Kansas Medical Center",code:"KUMC",type:"Medical Center",status:"Active",parentOrgId:1,locationsCount:7,unitsCount:2},{id:3,name:"University of Kansas Lawrence",code:"KUL",type:"University",status:"Active",parentOrgId:1,locationsCount:0,unitsCount:0},{id:4,name:"University of Kansas Salinas",code:"KUS",type:"University",status:"Active",parentOrgId:1,locationsCount:0,unitsCount:0},{id:5,name:"University of Kansas Cancer Center",code:"KUCC",type:"Medical Center",status:"Active",parentOrgId:1,locationsCount:3,unitsCount:1}],le=[{id:1,organizationId:1,name:"Main Research Center - Building A",code:"MRC-A",status:"Active"},{id:2,organizationId:1,name:"Outpatient Clinic - West Campus",code:"OPC-W",status:"Active"},{id:3,organizationId:1,name:"Home Visit - Johnson County Area",code:"HV-JC",status:"Active"},{id:7,organizationId:1,name:"Virtual/Remote Participation",code:"VRT-RM",status:"Active"},{id:4,organizationId:1,name:"Westwood",code:"WW",status:"Active"},{id:5,organizationId:1,name:"Corp",code:"CP",status:"Active"},{id:6,organizationId:1,name:"Remote",code:"RM",status:"Active"}],Z=[{id:1,organizationId:1,name:"Cancer Center",code:"CC",status:"Active",description:"Cancer research and treatment"},{id:2,organizationId:1,name:"Radiology",code:"RAD",status:"Active",description:"Diagnostic imaging services"}],Y=[{id:1,locationId:1,name:"Cancer Center",code:"CC",address:"3901 Rainbow Blvd, Kansas City, KS 66160",status:"Active",description:"Cancer research and treatment"},{id:2,locationId:1,name:"Radiology",code:"RAD",address:"3901 Rainbow Blvd, Kansas City, KS 66160",status:"Active",description:"Diagnostic imaging services"},{id:3,locationId:2,name:"Cancer Center",code:"CC",address:"4000 Cambridge St, Kansas City, KS 66160",status:"Active",description:"Cancer research and treatment"},{id:4,locationId:4,name:"Radiology",code:"RAD",address:"5520 College Blvd, Overland Park, KS 66211",status:"Active",description:"Diagnostic imaging services"},{id:5,locationId:5,name:"Cancer Center",code:"CC",address:"4330 Shawnee Mission Pkwy, Fairway, KS 66205",status:"Active",description:"Cancer research and treatment"}],_=[{id:1,name:"University of Kansas Cancer Center",organizationId:2,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"2330 Shawnee Mission Pkwy, Westwood, KS 66205",address1:"2330 Shawnee Mission Pkwy",address2:"",city:"Westwood",state:"KS",zipCode:"66205",locationCode:"KUCC-WW",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:2,name:"Clinical Research Center",organizationId:2,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"4350 Shawnee Mission Pkwy, Fairway, KS 66205",address1:"4350 Shawnee Mission Pkwy",address2:"",city:"Fairway",state:"KS",zipCode:"66205",locationCode:"KUMC-CRC",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:3,name:"University of Kansas Cancer Center - Overland Park",organizationId:2,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"12200 W 110th St., Overland Park, KS 66210",address1:"12200 W 110th St.",address2:"",city:"Overland Park",state:"KS",zipCode:"66210",locationCode:"KUCC-OP",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:4,name:"KUCC-East/Lee's Summit",organizationId:5,organizationName:"University of Kansas Cancer Center",organizationCode:"KUCC",type:"Study Facility",address:"4881 NE Goodview Cir, Lees Summit, MO 64064",address1:"4881 NE Goodview Cir",address2:"",city:"Lees Summit",state:"MO",zipCode:"64064",locationCode:"KUCC-E",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:5,name:"KUCC-North",organizationId:5,organizationName:"University of Kansas Cancer Center",organizationCode:"KUCC",type:"Study Facility",address:"8700 N Green Hills Road, Kansas City, MO 64154",address1:"8700 N Green Hills Road",address2:"",city:"Kansas City",state:"MO",zipCode:"64154",locationCode:"KUCC-N",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:6,name:"KUCC-Briarcliff",organizationId:5,organizationName:"University of Kansas Cancer Center",organizationCode:"KUCC",type:"Study Facility",address:"4150 N Mulberry Dr #150, Kansas City, MO 64116",address1:"4150 N Mulberry Dr #150",address2:"",city:"Kansas City",state:"MO",zipCode:"64116",locationCode:"KUCC-B",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:7,name:"Other",organizationId:2,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"",address1:"",address2:"",city:"",state:"",zipCode:"",locationCode:"OTH",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:8,name:"University of Kansas Medical Center",organizationId:2,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"3901 Rainbow Blvd, Kansas City, KS 66160",address1:"3901 Rainbow Blvd",address2:"",city:"Kansas City",state:"KS",zipCode:"66160",locationCode:"KUMC",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:9,name:"University of Kansas Health-Main",organizationId:2,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"4000 Cambridge, Kansas City, KS 66160",address1:"4000 Cambridge",address2:"",city:"Kansas City",state:"KS",zipCode:"66160",locationCode:"UKHS-Main",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:10,name:"University of Kansas-Midwest",organizationId:2,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"405 Renner Road Shawnee, KS 66217",address1:"405 Renner Road",address2:"",city:"Shawnee",state:"KS",zipCode:"66217",locationCode:"KUMW",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""}],ie=E.filter(c=>c.name.toLowerCase().includes(o.toLowerCase())||c.code.toLowerCase().includes(o.toLowerCase())||c.type.toLowerCase().includes(o.toLowerCase())),B=_.filter(c=>{const J=c.name.toLowerCase().includes(o.toLowerCase())||c.address.toLowerCase().includes(o.toLowerCase())||c.locationCode.toLowerCase().includes(o.toLowerCase())||c.organizationName.toLowerCase().includes(o.toLowerCase()),pe=p==="all"||c.type===p,O=A==="all"||c.organizationId.toString()===A;return J&&pe&&O}),q=()=>{j(!1),k(null),z("details"),je(""),W("")},ze=()=>{H(!1),R(null),K("details"),W("")},me=_.length,ue=E.reduce((c,J)=>c+J.unitsCount,0);le.filter(c=>c.organizationId===w?.id&&c.name.toLowerCase().includes(T.toLowerCase())),Z.filter(c=>c.organizationId===w?.id&&(c.name.toLowerCase().includes(P.toLowerCase())||c.description.toLowerCase().includes(P.toLowerCase())));const ge=Y.filter(c=>c.locationId===D?.id&&(c.name.toLowerCase().includes(P.toLowerCase())||c.description.toLowerCase().includes(P.toLowerCase()))),Se=c=>{if(c===0)return"Root";const J=E.find(pe=>pe.id===c);return J?J.name:"Unknown"},x=c=>ie.filter(J=>J.parentOrgId===c),C=c=>E.some(J=>J.parentOrgId===c),I=c=>{const J=new Set(G);J.has(c)?J.delete(c):J.add(c),V(J)},M=(c,J=0)=>{const pe=x(c.id),O=G.has(c.id),ke=C(c.id);return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",style:{paddingLeft:`${J*24}px`},children:[ke&&e.jsx("button",{onClick:()=>I(c.id),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:O?e.jsx(We,{size:16}):e.jsx(qs,{size:16})}),!ke&&e.jsx("div",{className:"w-6"}),e.jsx("div",{className:"w-10 h-10 bg-ku-blue rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(He,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:c.name}),J>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Child of ",Se(c.parentOrgId)]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:c.code})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:c.type})}),e.jsx("td",{className:"px-6 py-4",children:c.parentOrgId===0?e.jsx("span",{className:"text-sm text-gray-500 italic",children:"Root Organization"}):e.jsx("span",{className:"text-sm text-gray-900",children:Se(c.parentOrgId)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{className:"text-purple-600",size:16}),e.jsx("span",{className:"font-medium",children:c.locationsCount}),e.jsx("span",{className:"text-sm text-gray-500",children:"locations"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${c.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>{k(c),j(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View Organization Details",children:e.jsx(Oe,{size:16})})})]},c.id),O&&pe.map(ne=>e.jsx(qt.Fragment,{children:M(ne,J+1)},ne.id))]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-ku-blue rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(He,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Organizations & Locations"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage organizational structure and locations"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>U(!u),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:u?"Hide Statistics":"Show Statistics",children:u?e.jsx(Ze,{size:20}):e.jsx(We,{size:20})})})]}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Organizations"}),e.jsx("p",{className:"text-3xl font-bold text-ku-blue mt-1",children:E.length})]}),e.jsx(He,{className:"text-ku-blue",size:32})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Locations"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:me})]}),e.jsx($s,{className:"text-purple-600",size:32})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Units/Programs"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-1",children:ue})]}),e.jsx(Ls,{className:"text-green-600",size:32})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Active Organizations"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:E.filter(c=>c.status==="Active").length})]}),e.jsx(He,{className:"text-blue-600",size:32})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{onClick:()=>{d("locations"),b("")},className:`py-4 px-1 border-b-2 transition-colors ${r==="locations"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{size:20}),e.jsx("span",{className:"font-medium",children:"Locations"})]})}),e.jsx("button",{onClick:()=>{d("organizations"),b("")},className:`py-4 px-1 border-b-2 transition-colors ${r==="organizations"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{size:20}),e.jsx("span",{className:"font-medium",children:"Organizations"})]})})]})}),e.jsxs("div",{className:"p-6",children:[r==="locations"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search locations by name, code, address, or organization...",value:o,onChange:c=>b(c.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:A,onChange:c=>f(c.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Organizations"}),E.map(c=>e.jsx("option",{value:c.id.toString(),children:c.code},c.id))]}),e.jsxs("select",{value:p,onChange:c=>L(c.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"Study Facility",children:"Study Facility"}),e.jsx("option",{value:"Participant Location",children:"Participant Location"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Organization"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Location Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Address"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:B.map(c=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-ku-blue rounded flex items-center justify-center",children:e.jsx(He,{className:"text-white",size:16})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:c.organizationCode}),e.jsx("div",{className:"text-xs text-gray-500",children:c.organizationName})]})]})}),e.jsx("td",{className:"px-6 py-4 font-medium",children:c.name}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${c.type==="Study Facility"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:c.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:c.locationCode})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:c.address}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${c.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>{R(c),H(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View Location Details",children:e.jsx(Oe,{size:16})})})]},c.id))})]})})})]}),r==="organizations"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search organizations by name, code, or type...",value:o,onChange:c=>b(c.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Organization Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Parent Organization"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Locations"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ie.filter(c=>c.parentOrgId===0).map(c=>M(c))})]})})})]})]})]}),$&&D&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:ze}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl",children:["View Location (",D?.name,")"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"View location details and associated units"})]}),e.jsx("button",{onClick:ze,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[y==="details"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm text-gray-600 mb-3",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Location Name"}),e.jsx("p",{className:"text-gray-900 font-medium",children:D.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Location Code"}),e.jsx("p",{className:"text-gray-900 font-mono bg-gray-100 px-3 py-1 rounded inline-block",children:D.locationCode})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Organization"}),e.jsx("p",{className:"text-gray-900",children:D.organizationName}),e.jsx("p",{className:"text-sm text-gray-500",children:D.organizationCode})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Type"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${D.type==="Study Facility"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:D.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Status"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${D.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.status})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm text-gray-600 mb-3",children:"Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Address Line 1"}),e.jsx("p",{className:"text-gray-900",children:D.address1})]}),D.address2&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Address Line 2"}),e.jsx("p",{className:"text-gray-900",children:D.address2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"City"}),e.jsx("p",{className:"text-gray-900",children:D.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"State"}),e.jsx("p",{className:"text-gray-900",children:D.state||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"ZIP Code"}),e.jsx("p",{className:"text-gray-900",children:D.zipCode||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm text-gray-600 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Contact Name"}),e.jsx("p",{className:"text-gray-900",children:D.contactName||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Contact Phone"}),e.jsx("p",{className:"text-gray-900",children:D.contactPhone||"Not specified"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Contact Email"}),e.jsx("p",{className:"text-gray-900",children:D.contactEmail||"Not specified"})]})]})]}),D.notes&&e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm text-gray-600 mb-3",children:"Additional Notes"}),e.jsx("p",{className:"text-gray-900",children:D.notes})]})]}),y==="units"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:"Location Units/Programs"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Units and programs assigned to this location"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Filter units...",value:P,onChange:c=>W(c.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),ge.length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(Ls,{className:"mx-auto text-gray-400 mb-2",size:48}),e.jsx("p",{className:"text-gray-500",children:"No units/programs assigned"})]}):e.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Unit Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Address"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ge.map(c=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"text-green-600",size:16}),c.name]})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:c.code})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:c.address}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:c.description}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-800",children:c.status})})]},c.id))})]}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:e.jsxs("span",{className:"text-xs text-gray-600",children:["Showing ",ge.length," unit(s)"]})})]})]}),e.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:ze,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})]}),S&&w&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:q}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl",children:["View Organization (",w?.name,")"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"View organization details"})]}),e.jsx("button",{onClick:q,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm text-gray-600 mb-3",children:"Organization Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Organization Name"}),e.jsx("p",{className:"text-gray-900 font-medium",children:w.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Code"}),e.jsx("p",{className:"text-gray-900 font-mono bg-gray-100 px-3 py-1 rounded inline-block",children:w.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Type"}),e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:w.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Status"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${w.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Parent Organization"}),w.parentOrgId===0?e.jsx("p",{className:"text-gray-500 italic",children:"Root Organization"}):e.jsx("p",{className:"text-gray-900",children:Se(w.parentOrgId)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Total Locations"}),e.jsx("p",{className:"text-gray-900 font-medium",children:w.locationsCount})]})]})]}),e.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:q,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})]})]})}function Wa({onReturnToApp:r}){const[d,o]=t.useState(!1),b=()=>{o(!0),setTimeout(()=>{o(!1),r&&r()},2e3)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:e.jsxs("svg",{viewBox:"0 0 200 40",className:"h-16 w-auto",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("text",{x:"10",y:"28",fontFamily:"Arial, sans-serif",fontSize:"24",fontWeight:"bold",fill:"#0051BA",children:"KUMC"}),e.jsx("text",{x:"10",y:"38",fontFamily:"Arial, sans-serif",fontSize:"8",fill:"#0051BA",children:"Medical Center"})]})})}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Participant Payment Portal"}),e.jsx("p",{className:"text-gray-600",children:"Clinical Research Study Management"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx(as,{className:"text-blue-600",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"SAML 2.0 Authentication"}),e.jsx(fs,{size:16,className:"text-blue-600"})]}),e.jsx("p",{className:"text-xs text-blue-700",children:"Secure Single Sign-On enabled"})]})]})}),e.jsx("button",{onClick:b,disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-4 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center gap-3 mb-6",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Authenticating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{size:20}),e.jsx("span",{children:"Sign In with KUMC SSO"})]})}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-600",children:[e.jsx(fs,{size:16,className:"text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Enterprise-grade security with SAML 2.0"})]}),e.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-600",children:[e.jsx(fs,{size:16,className:"text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Seamless integration with institutional credentials"})]}),e.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-600",children:[e.jsx(fs,{size:16,className:"text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"HIPAA and 21 CFR Part 11 compliant"})]})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:"SAML Service Provider"})})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"text-xs text-gray-600 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Protocol:"}),e.jsx("span",{children:"SAML 2.0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Binding:"}),e.jsx("span",{children:"HTTP-POST"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Entity ID:"}),e.jsx("span",{className:"font-mono",children:"kumc.edu/payment-portal"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Connected"]})]})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 inline-flex items-start gap-2 text-sm text-gray-600",children:[e.jsx(Qe,{size:16,className:"text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Need help signing in?"}),e.jsxs("p",{className:"text-xs",children:["Contact IT Support at"," ",e.jsx("a",{href:"mailto:support@kumc.edu",className:"text-blue-600 hover:underline",children:"support@kumc.edu"})]})]})]})}),e.jsxs("div",{className:"mt-8 text-center text-xs text-gray-500",children:[e.jsx("p",{children:"Â© 2026 University of Kansas Medical Center"}),e.jsxs("p",{className:"mt-1",children:[e.jsx("a",{href:"#",className:"hover:text-gray-700",children:"Privacy Policy"})," â€¢ ",e.jsx("a",{href:"#",className:"hover:text-gray-700",children:"Terms of Service"})]})]})]}),r&&e.jsx("button",{onClick:r,className:"fixed bottom-4 right-4 bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm opacity-50 hover:opacity-100 transition-all z-50 shadow-lg",children:"Return to App (Demo)"})]})}const Ga=[{id:0,kumcUsername:"****",firstName:"Jennifer",lastName:"Staley",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Global Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-27 08:15 AM"},{id:1,kumcUsername:"****",firstName:"Matt",lastName:"Woolley",email:"****@kumc.edu",department:"IT Administration",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Global Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-27 07:30 AM"},{id:2,kumcUsername:"****",firstName:"Lisa",lastName:"Brown",email:"****@kumc.edu",department:"IT Support",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Global Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 07:00 AM"},{id:3,kumcUsername:"****",firstName:"Patrick",lastName:"Cruz",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:4,kumcUsername:"****",firstName:"Kimmy",lastName:"Clifton",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:45 PM"},{id:5,kumcUsername:"****",firstName:"Tashanna",lastName:"Sawyer",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:20 AM"},{id:6,kumcUsername:"****",firstName:"Douglas",lastName:"Ross",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:15 PM"},{id:7,kumcUsername:"****",firstName:"Ted",lastName:"Noravong",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:50 AM"},{id:8,kumcUsername:"****",firstName:"Megan",lastName:"Hummelgaard",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 04:30 PM"},{id:9,kumcUsername:"****",firstName:"Michael",lastName:"Chen",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:["DPT-2025-019","DPT-2025-020"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-22 04:45 PM"},{id:10,kumcUsername:"****",firstName:"Amber",lastName:"Unrein",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["CHS-2026-001"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:15 AM"},{id:11,kumcUsername:"****",firstName:"Cristal",lastName:"Monge",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["NDR-2025-042"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:30 AM"},{id:12,kumcUsername:"****",firstName:"Emily",lastName:"Kelly",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["DPT-2025-019"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:13,kumcUsername:"****",firstName:"Michelle",lastName:"Truesdale",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["PNS-2026-008"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:20 PM"},{id:14,kumcUsername:"****",firstName:"Jenae",lastName:"Moore",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["CHS-2026-001"],assignedLocations:["West Campus"],status:"Active",lastLogin:"2026-01-27 07:15 AM"},{id:15,kumcUsername:"****",firstName:"Ankita",lastName:"Tiwari",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:00 AM"},{id:16,kumcUsername:"****",firstName:"Emma",lastName:"Kelly",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:45 PM"},{id:17,kumcUsername:"****",firstName:"Morgan",lastName:"Brucks",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:30 AM"},{id:18,kumcUsername:"****",firstName:"Grace",lastName:"Heenan",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:15 PM"},{id:19,kumcUsername:"****",firstName:"Cary",lastName:"Felzien",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 11:20 AM"},{id:20,kumcUsername:"****",firstName:"Tamara",lastName:"Rounds",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:00 AM"},{id:21,kumcUsername:"****",firstName:"Keri",lastName:"Cox",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 04:50 PM"},{id:22,kumcUsername:"****",firstName:"Julianna",lastName:"McKee",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:45 AM"},{id:23,kumcUsername:"****",firstName:"Macaria",lastName:"Velasquez",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 09:30 AM"},{id:24,kumcUsername:"****",firstName:"Nasim",lastName:"Nosratinia",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:15 PM"},{id:25,kumcUsername:"****",firstName:"Anna",lastName:"Rice",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 10:00 AM"},{id:26,kumcUsername:"****",firstName:"Annie",lastName:"Henderson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:45 AM"},{id:27,kumcUsername:"****",firstName:"Jade",lastName:"Robichaud",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:30 AM"},{id:28,kumcUsername:"****",firstName:"Anna",lastName:"Brashear",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 04:20 PM"},{id:29,kumcUsername:"****",firstName:"April",lastName:"Langhammer",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:15 AM"},{id:30,kumcUsername:"****",firstName:"Sarah",lastName:"Irvin",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:31,kumcUsername:"****",firstName:"Leo",lastName:"Leonard",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:00 PM"},{id:32,kumcUsername:"****",firstName:"Raechel",lastName:"Camones",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:45 PM"},{id:33,kumcUsername:"****",firstName:"Anne",lastName:"Nugent",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:30 AM"},{id:34,kumcUsername:"****",firstName:"Theresa",lastName:"Howard",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:30 PM"},{id:35,kumcUsername:"****",firstName:"Hannah",lastName:"Melton",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:36,kumcUsername:"****",firstName:"Amanda",lastName:"Thimmesch",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:00 AM"},{id:37,kumcUsername:"****",firstName:"Nicole",lastName:"Mathis",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:15 PM"},{id:38,kumcUsername:"****",firstName:"Annette",lastName:"Becker",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:15 AM"},{id:39,kumcUsername:"****",firstName:"Lety",lastName:"Sarmiento",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 04:00 PM"},{id:40,kumcUsername:"****",firstName:"Olivia",lastName:"Price",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:00 AM"},{id:41,kumcUsername:"****",firstName:"Krystal",lastName:"Pittman",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:30 PM"},{id:42,kumcUsername:"****",firstName:"Jill",lastName:"Torneden",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:45 PM"},{id:43,kumcUsername:"****",firstName:"Ali",lastName:"Russo",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:15 AM"},{id:44,kumcUsername:"****",firstName:"Shannon",lastName:"Fletcher",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:45 AM"},{id:45,kumcUsername:"****",firstName:"Chelsey",lastName:"Aulukh",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:30 AM"},{id:46,kumcUsername:"****",firstName:"Megan",lastName:"Gangwish",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:20 PM"},{id:47,kumcUsername:"****",firstName:"Elizabeth",lastName:"Dillon",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 11:50 AM"},{id:48,kumcUsername:"****",firstName:"Vianca",lastName:"Williams",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:45 AM"},{id:49,kumcUsername:"****",firstName:"Alyssa",lastName:"Bowker",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:00 PM"},{id:50,kumcUsername:"****",firstName:"Asuka",lastName:"Suzuki",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:00 AM"},{id:51,kumcUsername:"****",firstName:"Rachel",lastName:"Nikolov",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:15 AM"},{id:52,kumcUsername:"****",firstName:"Esha",lastName:"Garg",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 04:30 PM"},{id:53,kumcUsername:"****",firstName:"Terry",lastName:"Christenson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:45 AM"},{id:54,kumcUsername:"****",firstName:"Nicholas",lastName:"Levine",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:30 AM"},{id:55,kumcUsername:"****",firstName:"Jillian",lastName:"Case",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:30 AM"},{id:56,kumcUsername:"****",firstName:"Hafsah",lastName:"Diakhate",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:00 PM"},{id:57,kumcUsername:"****",firstName:"Jodi",lastName:"Claybaugh",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:45 PM"},{id:58,kumcUsername:"****",firstName:"Sravya",lastName:"Kaparthi",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:20 AM"},{id:59,kumcUsername:"****",firstName:"Tanner",lastName:"Wilson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 04:15 PM"},{id:60,kumcUsername:"****",firstName:"Katie",lastName:"Chavez",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:61,kumcUsername:"****",firstName:"Sara",lastName:"Baker",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:30 AM"},{id:62,kumcUsername:"****",firstName:"Lauryn",lastName:"Gorby",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:00 PM"},{id:63,kumcUsername:"****",firstName:"Bethany",lastName:"Forseth",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:64,kumcUsername:"****",firstName:"Marion",lastName:"Leaman",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:30 PM"},{id:65,kumcUsername:"****",firstName:"Rachael",lastName:"Rawlings",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:15 AM"},{id:66,kumcUsername:"****",firstName:"Megan",lastName:"Murray",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:00 AM"},{id:67,kumcUsername:"****",firstName:"Jessie",lastName:"Lamphier",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:15 PM"},{id:68,kumcUsername:"****",firstName:"Daniel",lastName:"Rivera",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:30 AM"},{id:69,kumcUsername:"****",firstName:"Rahul",lastName:"Chanolian",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:45 PM"},{id:70,kumcUsername:"****",firstName:"Kelsey",lastName:"Strube",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:00 AM"},{id:71,kumcUsername:"****",firstName:"Abigayle",lastName:"Joyce",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:00 AM"},{id:72,kumcUsername:"****",firstName:"Grace",lastName:"Bolamperti",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 04:45 PM"},{id:73,kumcUsername:"****",firstName:"Madelyn",lastName:"Arnautov",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:30 AM"},{id:74,kumcUsername:"****",firstName:"Becca",lastName:"Johnson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:45 PM"},{id:75,kumcUsername:"****",firstName:"Luigi",lastName:"Boccardi",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:15 AM"},{id:76,kumcUsername:"****",firstName:"Sarina",lastName:"Fay",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:15 AM"},{id:77,kumcUsername:"****",firstName:"Crystal",lastName:"Billings",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:00 PM"},{id:78,kumcUsername:"****",firstName:"Vanessa",lastName:"Verschelden",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:79,kumcUsername:"****",firstName:"Kelsi",lastName:"Palacios",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:30 AM"},{id:80,kumcUsername:"****",firstName:"Nancy",lastName:"Ziegler",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:00 AM"},{id:81,kumcUsername:"****",firstName:"Kristin",lastName:"Fravel",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:15 PM"},{id:82,kumcUsername:"****",firstName:"Daijah",lastName:"Jones",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:83,kumcUsername:"****",firstName:"Yolanda",lastName:"Murr",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:45 AM"},{id:84,kumcUsername:"****",firstName:"Betsy",lastName:"Sweiger",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:30 PM"},{id:85,kumcUsername:"****",firstName:"John",lastName:"Mclean",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:15 AM"},{id:86,kumcUsername:"****",firstName:"Jordan",lastName:"Elliott",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:00 PM"},{id:87,kumcUsername:"****",firstName:"Emilia",lastName:"Potts",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:45 AM"},{id:88,kumcUsername:"****",firstName:"Bailey",lastName:"Foster",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:15 AM"},{id:89,kumcUsername:"****",firstName:"Kate",lastName:"Canova",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:30 PM"},{id:90,kumcUsername:"****",firstName:"Reagan",lastName:"Smith",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:45 AM"},{id:91,kumcUsername:"****",firstName:"Ashley",lastName:"Barry",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:00 PM"},{id:92,kumcUsername:"****",firstName:"Wamda",lastName:"Ahmed",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:30 AM"},{id:93,kumcUsername:"****",firstName:"Rachel",lastName:"Heueisen",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:00 AM"},{id:94,kumcUsername:"****",firstName:"Linda",lastName:"d'Silva",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:15 PM"},{id:95,kumcUsername:"****",firstName:"Rachel",lastName:"Ruiz",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:96,kumcUsername:"****",firstName:"Ronal",lastName:"Castro",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:45 AM"},{id:97,kumcUsername:"****",firstName:"Robin",lastName:"Davis",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:30 AM"},{id:98,kumcUsername:"****",firstName:"Andrea",lastName:"Klempnauer",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:00 PM"},{id:99,kumcUsername:"****",firstName:"Victoria",lastName:"Dorman",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:00 AM"},{id:100,kumcUsername:"****",firstName:"Emily",lastName:"Work",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:30 AM"},{id:101,kumcUsername:"****",firstName:"Rachel",lastName:"Holden",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:45 PM"},{id:102,kumcUsername:"****",firstName:"Dan",lastName:"Le",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:15 AM"},{id:103,kumcUsername:"****",firstName:"Julie-Ann",lastName:"Dutton",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:30 PM"},{id:104,kumcUsername:"****",firstName:"Lucas",lastName:"Lemar",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:00 AM"},{id:105,kumcUsername:"****",firstName:"Nashwa",lastName:"Mohammad",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:00 AM"},{id:106,kumcUsername:"****",firstName:"Mya",lastName:"Milius",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 04:15 PM"},{id:107,kumcUsername:"****",firstName:"Laura",lastName:"Crabtree",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:108,kumcUsername:"****",firstName:"Makaila",lastName:"Pelter",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:30 PM"},{id:109,kumcUsername:"****",firstName:"Caitlin",lastName:"Payne",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:30 AM"},{id:110,kumcUsername:"****",firstName:"Stephanie",lastName:"Stauffer",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:15 AM"},{id:111,kumcUsername:"****",firstName:"Bria",lastName:"Bartsch",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:00 PM"},{id:112,kumcUsername:"****",firstName:"Max",lastName:"Hardenbrook",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:45 AM"},{id:113,kumcUsername:"****",firstName:"Grace",lastName:"Millington",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:00 PM"},{id:114,kumcUsername:"****",firstName:"Jacqueline",lastName:"Smart",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:15 AM"},{id:115,kumcUsername:"****",firstName:"Jeffery",lastName:"Honas",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:30 AM"},{id:116,kumcUsername:"****",firstName:"Mary",lastName:"Butler",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:15 PM"},{id:117,kumcUsername:"****",firstName:"Rafaela",lastName:"Nelson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:118,kumcUsername:"****",firstName:"Francisca Javiera",lastName:"Allendes",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:45 AM"},{id:119,kumcUsername:"****",firstName:"Mia",lastName:"Smith",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:15 AM"},{id:120,kumcUsername:"****",firstName:"Jonath0n",lastName:"Barnette",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:45 PM"},{id:121,kumcUsername:"****",firstName:"Joseph",lastName:"Kelly",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:30 AM"},{id:122,kumcUsername:"****",firstName:"Whitney",lastName:"Theis",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:00 AM"},{id:123,kumcUsername:"****",firstName:"Cameron",lastName:"Zoraghchi",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:30 PM"},{id:124,kumcUsername:"****",firstName:"KUMCRI_batch",lastName:"KUMCRI_batch",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:125,kumcUsername:"****",firstName:"Elena",lastName:"Garcia",email:"****@kumc.edu",department:"Neurology",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"",assignedStudies:[],assignedLocations:[],status:"Pending",lastLogin:""},{id:126,kumcUsername:"****",firstName:"John",lastName:"Williams",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["CHS-2026-001","NDR-2025-042"],assignedLocations:["Main Campus","West Campus"],status:"Active",lastLogin:"2026-01-23 09:15 AM"},{id:127,kumcUsername:"****",firstName:"Sarah",lastName:"Anderson",email:"****@kumc.edu",department:"Cardiology",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"System Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 08:30 AM"},{id:128,kumcUsername:"****",firstName:"Robert",lastName:"Taylor",email:"****@kumc.edu",department:"Pediatrics",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["PNS-2026-008"],assignedLocations:["Children's Hospital"],status:"Inactive",lastLogin:"2025-12-15 03:20 PM"},{id:129,kumcUsername:"****",firstName:"Jennifer",lastName:"Davis",email:"****@kumc.edu",department:"Reporting",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Report only",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 06:45 AM"}];function Ja(){const[r,d]=t.useState("users"),[o,b]=t.useState(""),[u,U]=t.useState(!1),[S,j]=t.useState(""),[w,k]=t.useState(!1),[h,z]=t.useState(null),[p,L]=t.useState(null),[A,f]=t.useState("details"),[$,H]=t.useState(!1),[D,R]=t.useState(null),[y,K]=t.useState(null),[T,je]=t.useState("details"),[P,W]=t.useState(!1),[G,V]=t.useState(null),[E,le]=t.useState(""),[Z,Y]=t.useState(""),[_,ie]=t.useState(!1),[B,q]=t.useState(!1),[ze,me]=t.useState(!1),[ue,ge]=t.useState(!1),[Se,x]=t.useState("idle"),[C,I]=t.useState(""),[M,c]=t.useState(null),[J,pe]=t.useState(""),[O,ke]=t.useState([]),ne=[{kumcUsername:"****",firstName:"Elena",lastName:"Garcia",email:"****@kumc.edu",department:"Neurology"},{kumcUsername:"****",firstName:"David",lastName:"Kim",email:"****@kumc.edu",department:"Radiology"},{kumcUsername:"****",firstName:"Amanda",lastName:"Martin",email:"****@kumc.edu",department:"Oncology"},{kumcUsername:"****",firstName:"James",lastName:"Thompson",email:"****@kumc.edu",department:"Surgery"},{kumcUsername:"****",firstName:"Maria",lastName:"Rodriguez",email:"****@kumc.edu",department:"Emergency Medicine"},{kumcUsername:"****",firstName:"Patrick",lastName:"Lee",email:"****@kumc.edu",department:"Pathology"},{kumcUsername:"****",firstName:"Susan",lastName:"Wilson",email:"****@kumc.edu",department:"Nursing"},{kumcUsername:"****",firstName:"Thomas",lastName:"Nguyen",email:"****@kumc.edu",department:"Laboratory Medicine"}],ye=[{id:0,kumcUsername:"****",firstName:"Elena",lastName:"Garcia",email:"****@kumc.edu",department:"Neurology",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"",assignedStudies:[],assignedLocations:[],status:"Pending",lastLogin:""},{id:1,kumcUsername:"****",firstName:"John",lastName:"Williams",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["CHS-2026-001","NDR-2025-042"],assignedLocations:["Main Campus","West Campus"],status:"Active",lastLogin:"2026-01-23 09:15 AM"},{id:2,kumcUsername:"****",firstName:"Sarah",lastName:"Anderson",email:"****@kumc.edu",department:"Cardiology",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"System Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 08:30 AM"},{id:3,kumcUsername:"****",firstName:"Michael",lastName:"Chen",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:["DPT-2025-019","DPT-2025-020"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-22 04:45 PM"},{id:4,kumcUsername:"****",firstName:"Lisa",lastName:"Brown",email:"****@kumc.edu",department:"IT Support",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Global Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 07:00 AM"},{id:5,kumcUsername:"****",firstName:"Robert",lastName:"Taylor",email:"****@kumc.edu",department:"Pediatrics",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["PNS-2026-008"],assignedLocations:["Children's Hospital"],status:"Inactive",lastLogin:"2025-12-15 03:20 PM"},{id:6,kumcUsername:"****",firstName:"Jennifer",lastName:"Davis",email:"****@kumc.edu",department:"Reporting",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Report only",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 06:45 AM"}],ee=Ga,Ue=[{code:"CHS-2026-001",name:"Cardiovascular Health Study 2026"},{code:"NDR-2025-042",name:"Neurological Disorders Research"},{code:"PNS-2026-008",name:"Pediatric Nutrition Study"},{code:"DPT-2025-019",name:"Diabetes Prevention Trial - Adult"},{code:"DPT-2025-020",name:"Diabetes Prevention Trial - Pediatric"},{code:"CIS-2025-055",name:"Cancer Immunotherapy Study"}],fe=["Main Campus","West Campus","East Campus","Children's Hospital","Cancer Center","Research Institute"],Ae=[{id:1,name:"Global Administrator",description:"Full system access with all permissions across all modules",userCount:3,permissions:["manage_users","manage_roles","manage_studies","manage_participants","manage_payments","manage_grants","manage_locations","view_reports","export_data","manage_settings","approve_payments","process_payments"],status:"Active"},{id:2,name:"System Administrator",description:"Technical system administration and configuration",userCount:1,permissions:["manage_users","manage_roles","manage_settings","view_reports","export_data","manage_locations"],status:"Active"},{id:3,name:"Study Coordinator",description:"Manages day-to-day study operations and participant interactions",userCount:117,permissions:["manage_participants","manage_visits","view_studies","view_payments","process_payments"],status:"Active"},{id:4,name:"Approver",description:"Reviews and approves participant payments and study activities",userCount:7,permissions:["approve_payments","view_participants","view_studies","view_payments","view_reports"],status:"Active"},{id:5,name:"Reader",description:"Read-only access to view study and participant information",userCount:1,permissions:["view_studies","view_participants","view_payments","view_grants","view_locations"],status:"Active"},{id:6,name:"Report only",description:"Access limited to viewing and exporting reports",userCount:1,permissions:["view_reports","export_data"],status:"Active"}],$e=[{id:"manage_users",name:"Manage Users",category:"User Management"},{id:"manage_roles",name:"Manage Roles",category:"User Management"},{id:"manage_studies",name:"Manage Studies",category:"Study Management"},{id:"view_studies",name:"View Studies",category:"Study Management"},{id:"manage_participants",name:"Manage Participants",category:"Participant Management"},{id:"view_participants",name:"View Participants",category:"Participant Management"},{id:"manage_visits",name:"Manage Visits",category:"Visit Management"},{id:"view_visits",name:"View Visits",category:"Visit Management"},{id:"manage_payments",name:"Manage Payments",category:"Payment Management"},{id:"process_payments",name:"Process Payments",category:"Payment Management"},{id:"view_payments",name:"View Payments",category:"Payment Management"},{id:"export_payment_data",name:"Export Payment Data",category:"Payment Management"},{id:"manage_grants",name:"Manage Grants",category:"Grant Management"},{id:"view_grants",name:"View Grants",category:"Grant Management"},{id:"manage_locations",name:"Manage Locations",category:"Location Management"},{id:"view_locations",name:"View Locations",category:"Location Management"},{id:"view_reports",name:"View Reports",category:"Reporting"},{id:"export_data",name:"Export Data",category:"Reporting"},{id:"manage_settings",name:"Manage System Settings",category:"System"},{id:"approve_payments",name:"Approve Payments",category:"Payment Management"}],Be=ee.filter(i=>{const he=i.kumcUsername.toLowerCase().includes(o.toLowerCase())||i.firstName.toLowerCase().includes(o.toLowerCase())||i.lastName.toLowerCase().includes(o.toLowerCase())||i.email.toLowerCase().includes(o.toLowerCase())||i.department.toLowerCase().includes(o.toLowerCase()),xe=!S||i.role===S;return he&&xe}),Ie=Ae.filter(i=>i.name.toLowerCase().includes(o.toLowerCase())||i.description.toLowerCase().includes(o.toLowerCase())),Q=p!==null&&h===null,Le=h!==null,De=w||h||p,ae=Le?h:Q?p:null,Me=y!==null&&D===null,n=D!==null,re=$||D||y,X=n?D:Me?y:null,de=()=>{k(!1),z(null),L(null),I(""),c(null),pe(""),ke([])},l=()=>{H(!1),R(null),K(null)},Ne=()=>{const i={};return $e.forEach(he=>{i[he.category]||(i[he.category]=[]),i[he.category].push(he)}),i};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(as,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Roles and Permissions"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage users, roles, and permissions"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>U(!u),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:u?"Hide Statistics":"Show Statistics",children:u?e.jsx(Ze,{size:20}):e.jsx(We,{size:20})}),r==="users"&&e.jsxs("button",{onClick:()=>{me(!0),x("idle")},className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2.5 rounded-lg hover:bg-green-700 font-medium shadow-sm transition-all",children:[e.jsx(et,{size:20}),"Refresh Users"]})]})]}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Total Users"}),e.jsx(is,{className:"text-blue-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:ye.length}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[ye.filter(i=>i.status==="Active").length," active"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Total Roles"}),e.jsx(as,{className:"text-green-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:Ae.length}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[Ae.filter(i=>i.status==="Active").length," active"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Permissions"}),e.jsx(Rs,{className:"text-purple-500",size:24})]}),e.jsx("p",{className:"text-3xl",children:$e.length}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"System-wide"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Active Sessions"}),e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),e.jsx("p",{className:"text-3xl",children:ye.filter(i=>i.status==="Active").length}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Logged in today"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{onClick:()=>{d("users"),b("")},className:`py-4 px-1 border-b-2 transition-colors ${r==="users"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{size:20}),e.jsx("span",{className:"font-medium",children:"Users"})]})}),e.jsx("button",{onClick:()=>{d("roles"),b("")},className:`py-4 px-1 border-b-2 transition-colors ${r==="roles"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(as,{size:20}),e.jsx("span",{className:"font-medium",children:"Roles & Permissions"})]})})]})}),e.jsxs("div",{className:"p-6",children:[r==="users"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by username, name, email, or department...",value:o,onChange:i=>b(i.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:S,onChange:i=>j(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white min-w-[200px]",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"Global Administrator",children:"Global Administrator"}),e.jsx("option",{value:"System Administrator",children:"System Administrator"}),e.jsx("option",{value:"Study Coordinator",children:"Study Coordinator"}),e.jsx("option",{value:"Approver",children:"Approver"}),e.jsx("option",{value:"Reader",children:"Reader"}),e.jsx("option",{value:"Report only",children:"Report only"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"KUMC Username"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Organization"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Be.map(i=>e.jsxs("tr",{className:`hover:bg-gray-50 ${i.status==="Pending"?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[i.status==="Pending"&&e.jsx(Qe,{className:"text-yellow-600",size:16}),e.jsx("span",{className:"font-medium font-mono text-sm",children:i.kumcUsername})]})}),e.jsxs("td",{className:"px-6 py-4",children:[i.firstName," ",i.lastName]}),e.jsx("td",{className:"px-6 py-4 text-sm",children:i.email}),e.jsx("td",{className:"px-6 py-4",children:i.department}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:i.organization})}),e.jsx("td",{className:"px-6 py-4",children:i.role?e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs",children:i.role}):e.jsx("span",{className:"text-gray-400 text-xs",children:"Not assigned"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${i.status==="Active"?"bg-green-100 text-green-800":i.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>L(i),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>z(i),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:e.jsx(ns,{size:16})}),e.jsx("button",{onClick:()=>{L(i),f("role")},className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Assign Role",children:e.jsx(as,{size:16})})]})})]},i.id))})]})})})]}),r==="roles"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by role name or description...",value:o,onChange:i=>b(i.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Role Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Ie.map(i=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(as,{className:"text-purple-600",size:20})}),e.jsx("span",{className:"font-medium text-gray-900",children:i.name})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-md",children:i.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${i.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>K(i),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>{K(i),je("permissions")},className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"View Permissions",children:e.jsx(Rs,{size:16})})]})})]},i.id))})]})})})]})]})]}),ze&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>{ue||(me(!1),x("idle"))}}),e.jsx("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Refresh Users from IDP"}),!ue&&e.jsx("button",{onClick:()=>{me(!1),x("idle")},className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(ce,{size:20})})]}),Se==="idle"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-600 mb-6",children:'This will connect to the external Identity Provider (IDP) system and query for new users. Any new users will be added to the system with a "Pending" status.'}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{ge(!0),setTimeout(()=>{ge(!1),x("success")},2e3)},className:"flex-1 bg-green-600 text-white px-4 py-2.5 rounded-lg hover:bg-green-700 font-medium",children:"Start Refresh"}),e.jsx("button",{onClick:()=>{me(!1),x("idle")},className:"flex-1 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]}),ue&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(et,{className:"animate-spin mx-auto mb-4 text-green-600",size:48}),e.jsx("p",{className:"text-gray-600",children:"Connecting to IDP system..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we query for new users"})]}),Se==="success"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ls,{className:"text-green-600",size:32})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Refresh Successful!"}),e.jsx("p",{className:"text-gray-600 mb-1",children:"Found 1 new user from IDP system"}),e.jsx("p",{className:"text-sm text-gray-500",children:'New user has been added with "Pending" status'})]}),e.jsx("button",{onClick:()=>{me(!1),x("idle"),v.success("User list refreshed from IDP")},className:"w-full bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 font-medium",children:"Close"})]}),Se==="error"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ce,{className:"text-red-600",size:32})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Refresh Failed"}),e.jsx("p",{className:"text-gray-600 mb-1",children:"Could not connect to IDP system"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please try again later or contact IT support"})]}),e.jsx("button",{onClick:()=>{me(!1),x("idle")},className:"w-full bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 font-medium",children:"Close"})]})]})})]}),De&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:de}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full max-w-2xl bg-white shadow-2xl overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl",children:Q?"View User":Le?"Edit User":"Add New User"}),ae&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ae.kumcUsername})]}),e.jsx("button",{onClick:de,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:24})})]}),ae?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-b border-gray-200 px-6 bg-gray-50",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{onClick:()=>f("details"),className:`py-3 px-1 border-b-2 transition-colors ${A==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(as,{size:18}),e.jsx("span",{className:"font-medium",children:"Details"})]})}),e.jsx("button",{onClick:()=>f("role"),className:`py-3 px-1 border-b-2 transition-colors ${A==="role"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{size:18}),e.jsx("span",{className:"font-medium",children:"Role"})]})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[A==="details"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"User Information"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"KUMC Username:"}),e.jsx("span",{className:"text-sm font-mono font-medium",children:ae?.kumcUsername||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"Name:"}),e.jsxs("span",{className:"text-sm font-medium",children:[ae?.firstName||""," ",ae?.lastName||""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"Email:"}),e.jsx("span",{className:"text-sm",children:ae?.email||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"Department:"}),e.jsx("span",{className:"text-sm",children:ae?.department||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"Status:"}),e.jsx("span",{className:`text-sm px-2 py-0.5 rounded-full ${ae?.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ae?.status||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"Last Login:"}),e.jsx("span",{className:"text-sm",children:ae?.lastLogin||"N/A"})]})]})}),ae&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Assigned Locations"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ae.assignedLocations.length>0?ae.assignedLocations.map((i,he)=>e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm flex items-center gap-2",children:[i,!Q&&e.jsx("button",{className:"text-green-600 hover:text-green-800",children:e.jsx(ce,{size:14})})]},he)):e.jsx("span",{className:"text-sm text-gray-400 py-1",children:"Access to all locations"})}),!Q&&e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search and add locations...",value:Z,onChange:i=>Y(i.target.value),onFocus:()=>q(!0),onBlur:()=>setTimeout(()=>q(!1),200),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),B&&Z&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[fe.filter(i=>i.toLowerCase().includes(Z.toLowerCase())&&!ae.assignedLocations.includes(i)).map(i=>e.jsx("button",{onClick:()=>{v.success(`Added location: ${i}`),Y(""),q(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:e.jsx("div",{className:"text-sm",children:i})},i)),fe.filter(i=>i.toLowerCase().includes(Z.toLowerCase())&&!ae.assignedLocations.includes(i)).length===0&&e.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No locations found"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Studies (via Assigned Locations)"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Studies accessible through assigned locations"}),ae.assignedStudies.length>0?e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Study Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Study Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ae.assignedStudies.map((i,he)=>{const xe=Ue.find(g=>g.code===i);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:i}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:xe?.name||"Unknown Study"})]},he)})})]})}):e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 text-center",children:e.jsx("p",{className:"text-sm text-gray-400",children:"Access to all studies"})})]})]})]}),A==="role"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg",children:"Role Assignment"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Current: ",ae.role]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Note:"})," ",Q?"This role is currently assigned to this user.":"Select one role for this user. The user will inherit all permissions from the selected role."]})}),e.jsx("div",{className:"space-y-2",children:Ae.map(i=>{const he=ae.role===i.name;return e.jsxs("label",{className:`flex items-center justify-between p-4 border rounded-lg ${Q?"":"cursor-pointer hover:bg-gray-50"} ${he?"border-purple-300 bg-purple-50":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("input",{type:"radio",name:"user-role",defaultChecked:he,disabled:Q,className:"w-4 h-4 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:i.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:i.description}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[i.permissions.slice(0,3).map((xe,g)=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-xs",children:xe.replace(/_/g," ")},g)),i.permissions.length>3&&e.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",i.permissions.length-3," more"]})]})]})]}),he&&e.jsx(ls,{className:"text-purple-600 flex-shrink-0 ml-3",size:20})]},i.id)})})]})]})]}):e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Search IDP User"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:C,onChange:i=>I(i.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C&&!M&&e.jsxs("div",{className:"mt-3 border border-gray-300 rounded-lg max-h-64 overflow-y-auto",children:[ne.filter(i=>i.firstName.toLowerCase().includes(C.toLowerCase())||i.lastName.toLowerCase().includes(C.toLowerCase())||i.kumcUsername.toLowerCase().includes(C.toLowerCase())).map(i=>e.jsxs("button",{onClick:()=>{c(i),I("")},className:"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"font-medium",children:[i.firstName," ",i.lastName]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[i.kumcUsername," â€¢ ",i.email]}),e.jsx("div",{className:"text-xs text-gray-500",children:i.department})]},i.kumcUsername)),ne.filter(i=>i.firstName.toLowerCase().includes(C.toLowerCase())||i.lastName.toLowerCase().includes(C.toLowerCase())||i.kumcUsername.toLowerCase().includes(C.toLowerCase())).length===0&&e.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No users found"})]}),M&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Selected User"}),e.jsx("button",{onClick:()=>c(null),className:"text-sm text-blue-600 hover:text-blue-700",children:"Change"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"KUMC Username:"}),e.jsx("span",{className:"text-sm font-mono font-medium",children:M.kumcUsername})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"Name:"}),e.jsxs("span",{className:"text-sm font-medium",children:[M.firstName," ",M.lastName]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"Email:"}),e.jsx("span",{className:"text-sm",children:M.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 w-32",children:"Department:"}),e.jsx("span",{className:"text-sm",children:M.department})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Assign Role"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Select one role for this user:"}),e.jsx("div",{className:"space-y-2",children:Ae.map(i=>e.jsxs("label",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50 ${J===i.name?"border-purple-300 bg-purple-50":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("input",{type:"radio",name:"add-user-role",checked:J===i.name,onChange:()=>pe(i.name),className:"w-4 h-4 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:i.name}),e.jsx("p",{className:"text-xs text-gray-500",children:i.description})]})]}),J===i.name&&e.jsx(ls,{className:"text-purple-600 flex-shrink-0",size:16})]},i.id))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Assign Locations"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:O.length>0?O.map((i,he)=>e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm flex items-center gap-2",children:[i,e.jsx("button",{onClick:()=>ke(O.filter(xe=>xe!==i)),className:"text-green-600 hover:text-green-800",children:e.jsx(ce,{size:14})})]},he)):e.jsx("span",{className:"text-sm text-gray-400 py-1",children:"Access to all locations (no restrictions)"})}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search and add locations...",value:Z,onChange:i=>Y(i.target.value),onFocus:()=>q(!0),onBlur:()=>setTimeout(()=>q(!1),200),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),B&&Z&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[fe.filter(i=>i.toLowerCase().includes(Z.toLowerCase())&&!O.includes(i)).map(i=>e.jsx("button",{onClick:()=>{ke([...O,i]),Y(""),q(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:e.jsx("div",{className:"text-sm",children:i})},i)),fe.filter(i=>i.toLowerCase().includes(Z.toLowerCase())&&!O.includes(i)).length===0&&e.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No locations found"})]})]})]})]})]})}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:de,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:Q?"Close":"Cancel"}),!Q&&e.jsx("button",{onClick:()=>{v.success(Le?"User updated successfully":"User added successfully"),de()},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:Le?"Save Changes":"Add User"})]})})]})]}),re&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:l}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full max-w-3xl bg-white shadow-2xl overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl",children:"View Role"}),X&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:X.name})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:24})})]}),X&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-b border-gray-200 px-6 bg-gray-50",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{onClick:()=>je("details"),className:`py-3 px-1 border-b-2 transition-colors ${T==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(as,{size:18}),e.jsx("span",{className:"font-medium",children:"Details"})]})}),e.jsx("button",{onClick:()=>je("permissions"),className:`py-3 px-1 border-b-2 transition-colors ${T==="permissions"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{size:18}),e.jsx("span",{className:"font-medium",children:"Permissions"})]})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[T==="details"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Role Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Role Name"}),e.jsx("p",{className:"py-2 text-gray-900",children:X?.name})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Description"}),e.jsx("p",{className:"py-2 text-gray-900",children:X?.description})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Status"}),e.jsx("p",{className:"py-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${X.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:X.status})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg border-b pb-2 mb-4",children:"Users with this Role"}),ye.filter(i=>i.role===X.name).length>0?e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Username"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Email"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Department"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ye.filter(i=>i.role===X.name).map(i=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:i.kumcUsername}),e.jsxs("td",{className:"px-4 py-3 text-sm",children:[i.firstName," ",i.lastName]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:i.email}),e.jsx("td",{className:"px-4 py-3 text-sm",children:i.department}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})})]},i.id))})]})}):e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 text-center",children:[e.jsx(is,{className:"mx-auto text-gray-300 mb-2",size:48}),e.jsx("p",{className:"text-sm text-gray-400",children:"No users assigned to this role"})]})]})]}),T==="permissions"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg",children:"Manage Permissions"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[X.permissions.length," of ",$e.length," selected"]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Note:"})," These permissions are currently assigned to this role."]})}),e.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:Object.entries(Ne()).map(([i,he],xe)=>e.jsxs("div",{className:xe>0?"border-t border-gray-200":"",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:e.jsx("h4",{className:"font-medium text-gray-900",children:i})}),e.jsx("div",{className:"p-4 space-y-3",children:he.map(g=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded",children:[e.jsx("input",{type:"checkbox",checked:X.permissions.includes(g.id),disabled:!0,className:"w-4 h-4 text-blue-600 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Permission ID: ",g.id]})]})]},g.id))})]},i))})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{onClick:l,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})})})]})]})]}),P&&G&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>W(!1)}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:"Assign Role"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[G.firstName," ",G.lastName]})]}),e.jsx("button",{onClick:()=>W(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select one role for this user:"}),e.jsx("div",{className:"space-y-2",children:Ae.map(i=>{const he=G.role===i.name;return e.jsxs("label",{className:`flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50 ${he?"border-purple-300 bg-purple-50":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",name:"user-role",defaultChecked:he,className:"w-4 h-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:i.name}),e.jsx("p",{className:"text-xs text-gray-500",children:i.description})]})]}),he&&e.jsx(ls,{className:"text-purple-600",size:16})]},i.id)})})]}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-3",children:[e.jsx("button",{onClick:()=>W(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{v.success("Role updated successfully"),W(!1)},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})]})]})}function Vs({isViewMode:r,isEditMode:d,activeTab:o,setActiveTab:b,onClose:u,viewingPayment:U,editingPayment:S}){const j=r?U:S,[w,k]=t.useState(j?.recipientType||"Participant"),[h,z]=t.useState(j?.participantName||""),[p,L]=t.useState(j?.requestType||"Payment"),[A,f]=t.useState(j?.study||""),[$,H]=t.useState(""),[D,R]=t.useState(j?.type||""),[y,K]=t.useState(j?.amount||0),[T,je]=t.useState(0),[P,W]=t.useState(.67),[G,V]=t.useState(0),[E,le]=t.useState(0),[Z,Y]=t.useState(0),[_,ie]=t.useState(!1),[B,q]=t.useState(!1),[ze,me]=t.useState(""),[ue,ge]=t.useState(null),[Se,x]=t.useState(!1),[C,I]=t.useState(j?.requester||""),M=["Amber Unrein","Cristal Monge","Emily Kelly","Michelle Truesdale","Jenae Moore","Ankita Tiwari","Emma Kelly","Morgan Brucks","Grace Heenan","Cary Felzien","Tamara Rounds","Keri Cox","Julianna McKee","Macaria Velasquez","Nasim Nosratinia","Anna Rice","Annie Henderson","Jade Robichaud","Anna Brashear","April Langhammer","Sarah Irvin","Leo Leonard","Raechel Camones","Anne Nugent","Theresa Howard","Hannah Melton","Amanda Thimmesch","Nicole Mathis","Annette Becker","Lety Sarmiento","Olivia Price","Krystal Pittman","Jill Torneden","Ali Russo","Shannon Fletcher","Chelsey Aulukh","Megan Gangwish","Elizabeth Dillon","Vianca Williams","Alyssa Bowker","Asuka Suzuki","Rachel Nikolov","Esha Garg","Terry Christenson","Nicholas Levine","Jillian Case","Hafsah Diakhate","Jodi Claybaugh","Sravya Kaparthi","Tanner Wilson","Katie Chavez","Sara Baker","Lauryn Gorby","Bethany Forseth","Marion Leaman","Rachael Rawlings","Megan Murray","Jessie Lamphier","Daniel Rivera","Rahul Chanolian","Kelsey Strube","Abigayle Joyce","Grace Bolamperti","Madelyn Arnautov","Becca Johnson","Luigi Boccardi","Sarina Fay","Crystal Billings","Vanessa Verschelden","Kelsi Palacios","Nancy Ziegler","Kristin Fravel","Daijah Jones","Yolanda Murr","Betsy Sweiger","John Mclean","Jordan Elliott","Emilia Potts","Bailey Foster","Kate Canova","Reagan Smith","Ashley Barry","Wamda Ahmed","Rachel Heueisen","Linda d'Silva","Rachel Ruiz","Ronal Castro","Robin Davis","Andrea Klempnauer","Victoria Dorman","Emily Work","Rachel Holden","Dan Le","Julie-Ann Dutton","Lucas Lemar","Nashwa Mohammad","Mya Milius","Laura Crabtree","Makaila Pelter","Caitlin Payne","Stephanie Stauffer","Bria Bartsch","Max Hardenbrook","Grace Millington","Jacqueline Smart","Jeffery Honas","Mary Butler","Rafaela Nelson","Francisca Javiera Allendes","Mia Smith","Jonath0n Barnette","Joseph Kelly","Whitney Theis","Cameron Zoraghchi","KUMCRI_batch KUMCRI_batch"],c=[{id:"P-2026-001",name:"John Smith",studies:["CHS-2026-001","PNS-2026-008"]},{id:"P-2025-156",name:"Sarah Johnson",studies:["NDR-2025-042","DPT-2025-019"]},{id:"P-2026-045",name:"Michael Brown",studies:["DPT-2025-019"]},{id:"P-2026-089",name:"Emily Davis",studies:["PNS-2026-008","CHS-2026-001"]},{id:"P-2025-178",name:"Linda Martinez",studies:["DPT-2025-019"]},{id:"P-2026-012",name:"Jennifer Taylor",studies:["CHS-2026-001"]},{id:"P-2025-234",name:"Robert Wilson",studies:["NDR-2025-042"]},{id:"P-2026-078",name:"Patricia Moore",studies:["CHS-2026-001","PNS-2026-008"]}],J=[{id:"CHS-2026-001",name:"Cardiovascular Health Study"},{id:"NDR-2025-042",name:"Neurological Disorders Research"},{id:"DPT-2025-019",name:"Diabetes Prevention Trial"},{id:"PNS-2026-008",name:"Pediatric Nutrition Study"}],pe=c.filter(m=>m.name.toLowerCase().includes(ze.toLowerCase())||m.id.toLowerCase().includes(ze.toLowerCase())),O=ue?J.filter(m=>ue.studies.includes(m.id)):J,[ke,ne]=t.useState(!1),[ye,ee]=t.useState(!1),[Ue,fe]=t.useState(j?.description||""),[Ae,$e]=t.useState(!1),[Be,Ie]=t.useState([]),[Q,Le]=t.useState(!1),[De,ae]=t.useState(null),[Me,n]=t.useState([{id:"1",description:Ue,amount:y,type:D}]),[re,X]=t.useState(!1),[de,l]=t.useState(""),[Ne,i]=t.useState(0),[he,xe]=t.useState(""),g=T*P;t.useEffect(()=>{const m=D==="Travel"&&T>0?g:y,te=m*(G/100),Te=m+te;le(te),Y(Te)},[y,T,P,G,D,g]);const s=A?(m=>({"CHS-2026-001":[{id:"PS1",visitId:"V1",visitName:"Screening Visit",amount:0,description:"No payment for screening"},{id:"PS2",visitId:"V2",visitName:"Baseline Assessment",amount:75,description:"Baseline visit completion"},{id:"PS3",visitId:"V3",visitName:"Week 4 Follow-up",amount:50,description:"Follow-up visit stipend"},{id:"PS4",visitId:"V4",visitName:"Month 3 Assessment",amount:100,description:"Month 3 assessment payment"},{id:"PS5",visitId:"V5",visitName:"Month 6 Assessment",amount:100,description:"Month 6 assessment payment"},{id:"PS6",visitId:"V6",visitName:"Final Visit",amount:150,description:"Study completion bonus"}],"NDR-2025-042":[{id:"PS1",visitId:"V1",visitName:"Initial Screening",amount:0,description:"No payment for screening"},{id:"PS2",visitId:"V2",visitName:"Neurological Baseline",amount:125,description:"Extensive baseline testing"},{id:"PS3",visitId:"V3",visitName:"Week 2 Check",amount:50,description:"Quick follow-up"},{id:"PS4",visitId:"V4",visitName:"Month 1 Assessment",amount:100,description:"Month 1 comprehensive"},{id:"PS5",visitId:"V5",visitName:"Study Completion",amount:200,description:"Final completion payment"}],"DPT-2025-019":[{id:"PS1",visitId:"V1",visitName:"Screening & Consent",amount:25,description:"Initial consent visit"},{id:"PS2",visitId:"V2",visitName:"Baseline Labs",amount:75,description:"Lab work completion"},{id:"PS3",visitId:"V3",visitName:"Monthly Check-in",amount:30,description:"Monthly stipend"},{id:"PS4",visitId:"V4",visitName:"6-Month Evaluation",amount:150,description:"Six month completion"}],"PNS-2026-008":[{id:"PS1",visitId:"V1",visitName:"Enrollment Visit",amount:50,description:"Enrollment payment"},{id:"PS2",visitId:"V2",visitName:"Week 2 Assessment",amount:75,description:"Week 2 stipend"},{id:"PS3",visitId:"V3",visitName:"Week 4 Assessment",amount:75,description:"Week 4 stipend"},{id:"PS4",visitId:"V4",visitName:"Final Assessment",amount:100,description:"Study completion"}]})[m]||[])(A):[],N=m=>{if(!m)return;const te=Array.from(m).map(Te=>({id:Math.random().toString(36).substr(2,9),name:Te.name,size:Te.size,uploadDate:new Date().toLocaleDateString(),notes:""}));Ie(Te=>[...Te,...te]),v.success(`${te.length} file(s) uploaded successfully`)},F=m=>{m.preventDefault(),Le(!0)},se=m=>{m.preventDefault(),Le(!1)},Re=m=>{m.preventDefault(),Le(!1),N(m.dataTransfer.files)},qe=m=>{Ie(te=>te.filter(Te=>Te.id!==m)),v.success("File removed")},ms=(m,te)=>{Ie(Te=>Te.map(es=>es.id===m?{...es,notes:te}:es))},xs=m=>{if(m===0)return"0 Bytes";const te=1024,Te=["Bytes","KB","MB","GB"],es=Math.floor(Math.log(m)/Math.log(te));return Math.round(m/Math.pow(te,es)*100)/100+" "+Te[es]},zs=()=>{if(!de||Ne<=0){v.error("Please enter description and amount");return}const m={id:Math.random().toString(36).substr(2,9),description:de,amount:Ne,type:he};n(te=>[...te,m]),l(""),i(0),xe(""),X(!1),v.success("Reimbursement line item added")},vs=m=>{if(Me.length===1){v.error("Cannot remove the last reimbursement item");return}n(te=>te.filter(Te=>Te.id!==m)),v.success("Reimbursement line item removed")},js=(m,te,Te)=>{n(es=>es.map(ws=>ws.id===m?{...ws,[te]:Te}:ws))},Cs=()=>Me.reduce((m,te)=>m+(Number(te.amount)||0),0);return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:u}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:[e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl",children:r?"View Payment":d?"Edit Payment":"New Payment Request"}),e.jsx("p",{className:"text-sm text-gray-500",children:r?"View payment request details":d?"Update payment information":"Submit a new payment or reimbursement request"})]}),e.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]}),e.jsx("div",{className:"px-6",children:e.jsxs("div",{className:"flex gap-1 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>b("details"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${o==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Details"}),e.jsx("button",{onClick:()=>b("verification"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${o==="verification"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Verification & Documents"}),(r||d)&&e.jsx("button",{onClick:()=>b("history"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${o==="history"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Audit History"})]})})]}),e.jsxs("form",{className:"p-6 space-y-6",children:[o==="details"&&e.jsxs(e.Fragment,{children:[(r||d)&&j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg",children:[e.jsxs("button",{type:"button",onClick:()=>$e(!Ae),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Request Summary"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[p==="Reimbursement"?`${D} Reimbursement`:"Payment"," â€¢ ",j.participantName," â€¢ ",j.study]})]}),e.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${Ae?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Ae&&e.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Participant"}),e.jsx("p",{className:"text-gray-900 font-medium",children:j.participantName}),e.jsx("p",{className:"text-sm text-gray-500",children:j.participantId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Study"}),e.jsx("p",{className:"text-gray-900 font-medium",children:j.study})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Recipient Type"}),e.jsx("p",{className:"text-gray-900",children:w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Request Type"}),e.jsx("p",{className:"text-gray-900",children:p})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Status"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${j.status==="New"||j.status==="Pending Approval"?"bg-orange-100 text-orange-800":j.status==="On Hold"?"bg-yellow-100 text-yellow-800":j.status==="Approved"?"bg-green-100 text-green-800":j.status==="Payment Complete"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:j.status})]}),p==="Reimbursement"&&D&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Reimbursement Type"}),e.jsx("p",{className:"text-gray-900",children:D})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Date"}),e.jsx("p",{className:"text-gray-900",children:j.date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Requester"}),e.jsx("p",{className:"text-gray-900",children:j.requester})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg",children:"Payment Details"}),d&&p==="Reimbursement"&&e.jsx("button",{type:"button",onClick:()=>X(!re),className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:re?"Cancel":"+ Add Reimbursement"})]}),p==="Reimbursement"&&d?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-200 border-b-2 border-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Amount"}),Me.length>1&&e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[Me.map(m=>e.jsxs("tr",{className:"bg-white hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"text",value:m.description,onChange:te=>js(m.id,"description",te.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Description..."})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("select",{value:m.type,onChange:te=>js(m.id,"type",te.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Travel",children:"Travel"}),e.jsx("option",{value:"Parking",children:"Parking"}),e.jsx("option",{value:"Meal",children:"Meal"}),e.jsx("option",{value:"Other",children:"Other"})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"$"}),e.jsx("input",{type:"number",step:"0.01",value:m.amount,onChange:te=>js(m.id,"amount",parseFloat(te.target.value)||0),className:"w-24 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00"}),m.type==="Travel"&&e.jsx("button",{type:"button",onClick:()=>ie(!_),className:"text-xs text-blue-600 hover:underline whitespace-nowrap",children:_?"Hide":"Calc"})]})}),Me.length>1&&e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>vs(m.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded",title:"Remove reimbursement",children:e.jsx(ys,{size:16})})})]},m.id)),e.jsxs("tr",{className:"bg-gray-100 font-medium",children:[e.jsx("td",{className:"px-4 py-3 text-right",colSpan:2,children:e.jsx("span",{className:"text-sm text-gray-700",children:"Subtotal:"})}),e.jsx("td",{className:"px-4 py-3 text-left",colSpan:Me.length>1?2:1,children:e.jsxs("span",{className:"text-sm text-gray-900",children:["$",Cs().toFixed(2)]})})]})]})]})}):r?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-200 border-b-2 border-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:e.jsxs("tr",{className:"bg-white",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Ue||j?.description||"No description provided"}),e.jsx("td",{className:"px-4 py-3",children:j?.type?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:j.type}):e.jsx("span",{className:"text-gray-500 text-sm",children:"N/A"})}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:["$",j?.amount?.toFixed(2)||"0.00"]})]})})]})}):null,re&&d&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Add New Reimbursement Line Item"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:de,onChange:m=>l(m.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter description..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Type"}),e.jsxs("select",{value:he,onChange:m=>xe(m.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Travel",children:"Travel"}),e.jsx("option",{value:"Parking",children:"Parking"}),e.jsx("option",{value:"Meal",children:"Meal"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",value:Ne,onChange:m=>i(parseFloat(m.target.value)||0),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{type:"button",onClick:zs,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Item"}),e.jsx("button",{type:"button",onClick:()=>X(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("label",{className:"block text-sm text-gray-600 mb-2",children:["Receipts (",Be.length,")"]}),r?Be.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"No receipts attached"}):null:e.jsxs("div",{onDragOver:F,onDragLeave:se,onDrop:Re,className:`border-2 border-dashed rounded-lg p-4 text-center transition-colors ${Q?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"}`,children:[e.jsx(cs,{className:"mx-auto mb-2 text-gray-400",size:24}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Drag and drop files here, or"," ",e.jsxs("label",{className:"text-blue-600 hover:underline cursor-pointer",children:["browse",e.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:m=>N(m.target.files)})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, JPG, PNG up to 10MB each"})]}),Be.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:Be.map(m=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-2",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:m.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[xs(m.size)," â€¢ ",m.uploadDate]}),De===m.id?e.jsx("input",{type:"text",value:m.notes,onChange:te=>ms(m.id,te.target.value),onBlur:()=>ae(null),placeholder:"Add notes...",className:"mt-1 w-full text-xs px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0}):e.jsx("p",{onClick:()=>!r&&ae(m.id),className:`text-xs mt-1 ${m.notes?"text-gray-600":"text-gray-400 italic"} ${!r&&"cursor-pointer hover:text-gray-800"}`,children:m.notes||"Click to add notes..."})]}),!r&&e.jsx("button",{onClick:()=>qe(m.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove file",children:e.jsx(ys,{size:14})})]})},m.id))})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Tax Calculation"}),e.jsx("p",{className:"text-gray-900",children:G>0?e.jsxs("span",{children:[G,"% = $",E.toFixed(2)]}):e.jsx("span",{className:"text-gray-500",children:"No tax applied"})})]}),d&&e.jsxs("button",{type:"button",onClick:()=>q(!B),className:"px-3 py-1.5 text-sm text-blue-600 hover:bg-gray-100 rounded-lg",children:[B?"Hide":"Show"," Tax Calculator"]})]})})]}),_&&!r&&e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg mb-4",children:"Mileage Calculator"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Miles Driven"}),e.jsx("input",{type:"number",step:"1",placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:T,onChange:m=>je(parseFloat(m.target.value)||0)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter total miles driven"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Rate per Mile"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",step:"0.01",placeholder:"0.67",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:P,onChange:m=>W(parseFloat(m.target.value)||.67)})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"IRS standard rate (2024)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Calculated Amount"}),e.jsxs("div",{className:"w-full px-4 py-2 bg-blue-50 border border-blue-300 rounded-lg text-blue-900 font-medium text-lg",children:["$",g.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[T," miles Ã— $",P,"/mile"]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Note:"})," The calculated amount ($",g.toFixed(2),") will automatically update the payment amount above."]})})]}),B&&!r&&e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg mb-4",children:"Tax Calculation"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Base Amount"}),e.jsxs("div",{className:"w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900 font-medium",children:["$",D==="Travel"&&T>0?g.toFixed(2):y.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:D==="Travel"&&T>0?"From mileage calculation":"From amount field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Tax Rate (%)"}),e.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:G,onChange:m=>V(parseFloat(m.target.value)||0)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter 0 if not taxable"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Tax Amount"}),e.jsxs("div",{className:"w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900 font-medium",children:["$",E.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[G,"% of base amount"]})]})]})]}),e.jsx("div",{className:"bg-gray-100 border-2 border-gray-400 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl mb-2",children:"Total Amount"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:["Base Amount: $",D==="Travel"&&T>0?g.toFixed(2):y.toFixed(2)]}),e.jsxs("p",{children:["Tax Amount: $",E.toFixed(2)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-4xl text-gray-900 font-bold",children:["$",Z.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total Payment"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:u,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:r?"Close":"Cancel"}),!r&&e.jsx("button",{type:"submit",onClick:m=>{m.preventDefault(),u(),v.success("Payment updated successfully!")},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Update Payment"})]})]}),!r&&!d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white border-l-4 border-blue-600 rounded-lg p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"1"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Participant Information"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Select recipient and associated study"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Requester ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:C,onChange:m=>I(m.target.value),children:[e.jsx("option",{value:"",children:"Select Requester..."}),M.map(m=>e.jsx("option",{value:m,children:m},m))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Person submitting this payment request"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Recipient Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:w,onChange:m=>{k(m.target.value),m.target.value==="Third-Party/Other"&&(z(""),f(""))},children:[e.jsx("option",{value:"Participant",children:"Participant"}),e.jsx("option",{value:"Caregiver",children:"Caregiver"}),e.jsx("option",{value:"Third-Party/Other",children:"Third-Party/Other"})]})]}),w==="Participant"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-2 relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Participant ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by name or ID...",value:ze,onChange:m=>{me(m.target.value),x(!0)},onFocus:()=>x(!0)})]}),Se&&pe.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:pe.map(m=>e.jsxs("button",{type:"button",onClick:()=>{ge(m),me(`${m.name} (${m.id})`),x(!1)},className:"w-full text-left px-4 py-2 hover:bg-blue-50 border-b border-gray-200 last:border-b-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.name}),e.jsx("p",{className:"text-xs text-gray-500",children:m.id})]},m.id))})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Study or Program ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:A,onChange:m=>f(m.target.value),disabled:!ue,children:[e.jsx("option",{value:"",children:"Select Study or Program"}),O.map(m=>e.jsxs("option",{value:m.id,children:[m.id," - ",m.name]},m.id))]}),ue&&O.length===0&&e.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[e.jsx("span",{children:"âš ï¸"})," No studies found for this participant"]})]})]}):w==="Caregiver"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Caregiver Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter caregiver name",value:h,onChange:m=>z(m.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Associated Participant ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"",children:[e.jsx("option",{value:"",children:"Select Participant"}),e.jsx("option",{value:"P-2026-001",children:"John Smith (P-2026-001)"}),e.jsx("option",{value:"P-2025-156",children:"Sarah Johnson (P-2025-156)"}),e.jsx("option",{value:"P-2026-045",children:"Michael Brown (P-2026-045)"}),e.jsx("option",{value:"P-2026-089",children:"Emily Davis (P-2026-089)"})]})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Study or Program ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:A,onChange:m=>f(m.target.value),children:[e.jsx("option",{value:"",children:"Select Study or Program"}),e.jsx("option",{value:"CHS-2026-001",children:"CHS-2026-001 - Cardiovascular Health Study"}),e.jsx("option",{value:"NDR-2025-042",children:"NDR-2025-042 - Neurological Disorders Research"}),e.jsx("option",{value:"DPT-2025-019",children:"DPT-2025-019 - Diabetes Prevention Trial"}),e.jsx("option",{value:"PNS-2026-008",children:"PNS-2026-008 - Pediatric Nutrition Study"})]})]})]}):e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Recipient Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter recipient name",value:h,onChange:m=>z(m.target.value)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Request Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:p,onChange:m=>{L(m.target.value),m.target.value==="Payment"&&(R(""),H(""))},children:[e.jsx("option",{value:"Payment",children:"Payment"}),e.jsx("option",{value:"Reimbursement",children:"Reimbursement"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p==="Payment"?"Standard participant payment (stipend, compensation, etc.)":"Reimbursement for expenses (travel, parking, meals, etc.)"})]}),p==="Payment"&&w==="Participant"&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Payment Schedule ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:$,onChange:m=>{H(m.target.value);const te=s.find(Te=>Te.id===m.target.value);te&&(K(te.amount),fe(te.description))},disabled:!A,children:[e.jsx("option",{value:"",children:"Select Payment Schedule..."}),s.map(m=>e.jsxs("option",{value:m.id,children:[m.visitName," - $",m.amount.toFixed(2)]},m.id))]}),!A&&e.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"âš ï¸ Please select a study first"}),A&&s.length===0&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"âš ï¸ No payment schedules found for this study"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:u,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",onClick:m=>{if(m.preventDefault(),!C){v.error("Please select a requester");return}u(),v.success("Payment request created successfully!")},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Payment Request"})]})]})]}),o==="verification"&&e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"â„¹ï¸ Verification and documentation features will be available here."})})}),o==="history"&&(r||d)&&e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-600",children:"ðŸ“‹ Audit trail and history will be displayed here."})})})]})]})]})}function _a(){const[r,d]=t.useState(""),[o,b]=t.useState("all"),[u,U]=t.useState("all"),[S,j]=t.useState(""),[w,k]=t.useState(""),[h,z]=t.useState(!1),[p,L]=t.useState(!1),[A,f]=t.useState(!1),[$,H]=t.useState(!1),[D,R]=t.useState(null),[y,K]=t.useState(null),[T,je]=t.useState(null),[P,W]=t.useState(null),[G,V]=t.useState("details"),[E,le]=t.useState("myRequests"),[Z,Y]=t.useState(null),[_,ie]=t.useState(null),[B,q]=t.useState([]),[ze,me]=t.useState(!1),[ue,ge]=t.useState(!1),[Se,x]=t.useState(!1),[C,I]=t.useState(null),M="Dr. Sarah Chen",c=[{id:1,requestId:"REQ-2026-001",participantId:"P-2026-001",participantName:"John Smith",study:"CHS-2026-001",requestType:"Reimbursement",amount:125,type:"Travel",date:"2026-01-03",status:"New",description:"Mileage reimbursement - 50 miles",receipt:!0,requester:"Dr. Sarah Chen",approver:null,priority:"high",daysOld:0},{id:2,requestId:"REQ-2026-002",participantId:"P-2025-156",participantName:"Sarah Johnson",study:"NDR-2025-042",requestType:"Reimbursement",amount:75,type:"Parking",date:"2026-01-02",status:"Approved",description:"Parking fee at medical center",receipt:!0,requester:"Dr. Sarah Chen",approver:"Patrick Cruz",priority:"normal",daysOld:1},{id:3,requestId:"REQ-2026-003",participantId:"P-2026-045",participantName:"Michael Brown",study:"DPT-2025-019",requestType:"Payment",amount:50,type:"",date:"2026-01-04",status:"Pending Approval",description:"Visit completion stipend",receipt:!1,requester:"Dr. Sarah Chen",approver:"Dr. Sarah Chen",priority:"normal",daysOld:0},{id:4,requestId:"REQ-2026-004",participantId:"P-2026-089",participantName:"Emily Davis",study:"PNS-2026-008",requestType:"Reimbursement",amount:100,type:"Travel",date:"2026-01-05",status:"New",description:"Public transportation costs",receipt:!0,requester:"Dr. Sarah Chen",approver:null,priority:"normal",daysOld:0},{id:5,requestId:"REQ-2025-005",participantId:"P-2025-234",participantName:"Robert Wilson",study:"CIS-2025-055",requestType:"Payment",amount:200,type:"",date:"2025-12-28",status:"Payment Complete",description:"Monthly participation stipend",receipt:!1,requester:"Dr. Sarah Chen",approver:"Kimmy Clifton",priority:"normal",daysOld:30},{id:6,requestId:"REQ-2026-006",participantId:"P-2025-178",participantName:"Linda Martinez",study:"DPT-2025-019",requestType:"Reimbursement",amount:35,type:"Meal",date:"2026-01-03",status:"Approved",description:"Meal allowance during extended visit",receipt:!0,requester:"Dr. Sarah Chen",approver:"Tashanna Sawyer",priority:"low",daysOld:0},{id:7,requestId:"REQ-2026-007",participantId:"P-2026-012",participantName:"Jennifer Taylor",study:"CHS-2026-001",requestType:"Reimbursement",amount:150,type:"Travel",date:"2026-01-04",status:"Rejected",description:"Taxi service to clinic",receipt:!1,requester:"Dr. Sarah Chen",approver:"Douglas Ross",priority:"normal",daysOld:0},{id:8,requestId:"REQ-2025-008",participantId:"P-2025-298",participantName:"David Anderson",study:"ATE-2025-031",requestType:"Payment",amount:300,type:"",date:"2025-12-30",status:"Payment Complete",description:"Final study completion payment",receipt:!1,requester:"Dr. Sarah Chen",approver:"Jennifer Staley",priority:"normal",daysOld:28},{id:9,requestId:"REQ-2026-009",participantId:"P-2026-078",participantName:"Patricia Moore",study:"CHS-2026-001",requestType:"Payment",amount:125,type:"",date:"2026-01-03",status:"On Hold",description:"Awaiting additional documentation",receipt:!1,requester:"Dr. Sarah Chen",approver:"Ted Noravong",priority:"high",daysOld:0},{id:10,requestId:"REQ-2026-010",participantId:"P-2026-099",participantName:"James Wilson",study:"CHS-2026-001",requestType:"Reimbursement",amount:85,type:"Travel",date:"2026-01-02",status:"New",description:"Bus fare for clinic visits",receipt:!0,requester:"Megan Hummelgaard",approver:null,priority:"normal",daysOld:1}],pe=(()=>{switch(E){case"unassigned":return c.filter(n=>n.status==="New"&&n.approver===null);case"myQueue":return c.filter(n=>n.status==="Pending Approval"&&n.approver===M);case"teamQueue":return c.filter(n=>n.status==="Pending Approval");case"needsReview":return c.filter(n=>n.status==="Rejected"||n.status==="On Hold");case"approved":return c.filter(n=>n.status==="Approved");case"myRequests":return c.filter(n=>n.requester===M);default:return c}})(),O=pe.filter(n=>{const re=n.participantName.toLowerCase().includes(r.toLowerCase())||n.participantId.toLowerCase().includes(r.toLowerCase())||n.study.toLowerCase().includes(r.toLowerCase())||n.requestId.toLowerCase().includes(r.toLowerCase()),X=o==="all"||n.requestType===o,de=u==="all"||n.type===u,l=new Date(n.date),Ne=!S||l>=new Date(S),i=!w||l<=new Date(w);return re&&X&&de&&Ne&&i}),ke=c.filter(n=>n.status==="New"&&n.approver===null).length,ne=c.filter(n=>n.status==="Pending Approval"&&n.approver===M).length,ye=c.filter(n=>n.status==="Pending Approval").length,ee=c.filter(n=>n.status==="Rejected"||n.status==="On Hold").length,Ue=c.filter(n=>n.status==="Approved").length,fe=()=>{z(!1),R(null),je(null),W(null),V("details")},Ae=n=>{v.success("Request claimed successfully",{description:`${n.requestId} assigned to you`}),Y(null)},$e=(n,re)=>{v.success("Request assigned successfully",{description:`${n.requestId} assigned to ${re}`}),ie(null)},Be=()=>{B.length===O.length?q([]):q(O.map(n=>n.id))},Ie=n=>{B.includes(n)?q(B.filter(re=>re!==n)):q([...B,n])},Q=()=>{const n=B.length;v.success(`${n} request(s) claimed successfully`,{description:`Assigned to ${M}`}),q([]),me(!1)},Le=n=>{const re=B.length;v.success(`${re} request(s) assigned successfully`,{description:`Assigned to ${n}`}),q([]),me(!1)},De=()=>{const n=B.length,re=O.filter(X=>B.includes(X.id)).reduce((X,de)=>X+de.amount,0);v.success(`${n} request(s) approved successfully!`,{description:`Total amount: $${re.toFixed(2)}`}),q([]),ge(!1)},ae=()=>{const n=B.length,re=O.filter(X=>B.includes(X.id)).reduce((X,de)=>X+de.amount,0);v.success(`${n} request(s) auto-approved successfully!`,{description:`Total amount: $${re.toFixed(2)} - Moved to Approved queue`}),q([]),x(!1)},Me=()=>{v.success("Payments exported to Excel successfully")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(Ee,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Payment Request Queue"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Review and approve participant payment requests"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>H(!$),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:$?"Hide Key Performance Indicators":"Show Key Performance Indicators",children:$?e.jsx(Ze,{size:20}):e.jsx(We,{size:20})}),e.jsx("button",{onClick:Me,className:"flex items-center gap-2 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50 font-medium transition-all",title:"Export Payments to Excel",children:e.jsx(Ve,{size:20})})]})]}),$&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Unassigned"}),e.jsx(Ts,{className:"text-orange-500",size:24})]}),e.jsx("p",{className:"text-3xl font-bold",children:ke}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Awaiting assignment"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"My Queue"}),e.jsx(ks,{className:"text-blue-500",size:24})]}),e.jsx("p",{className:"text-3xl font-bold",children:ne}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Assigned to me"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Team Queue"}),e.jsx(is,{className:"text-purple-500",size:24})]}),e.jsx("p",{className:"text-3xl font-bold",children:ye}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"In review"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Needs Review"}),e.jsx(Qe,{className:"text-red-500",size:24})]}),e.jsx("p",{className:"text-3xl font-bold",children:ee}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Rejected / On Hold"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Approved"}),e.jsx(ds,{className:"text-green-500",size:24})]}),e.jsx("p",{className:"text-3xl font-bold",children:Ue}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ready for payment"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex overflow-x-auto",children:[e.jsxs("button",{onClick:()=>le("myRequests"),className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${E==="myRequests"?"border-ku-blue text-ku-blue bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(ns,{size:18}),"My Requests"]}),e.jsx("div",{className:"w-px bg-gray-300 my-3"}),e.jsxs("button",{onClick:()=>le("unassigned"),className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${E==="unassigned"?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(Ts,{size:18}),"Unassigned Queue",ke>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-orange-100 text-orange-800 text-xs rounded-full font-semibold",children:ke})]}),e.jsxs("button",{onClick:()=>le("myQueue"),className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${E==="myQueue"?"border-ku-blue text-ku-blue":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(ks,{size:18}),"My Review Queue",ne>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full font-semibold",children:ne})]}),e.jsxs("button",{onClick:()=>le("teamQueue"),className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${E==="teamQueue"?"border-purple-500 text-purple-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(is,{size:18}),"Team Queue",ye>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-purple-100 text-purple-800 text-xs rounded-full font-semibold",children:ye})]}),e.jsxs("button",{onClick:()=>le("needsReview"),className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${E==="needsReview"?"border-red-500 text-red-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(Qe,{size:18}),"Needs Review",ee>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded-full font-semibold",children:ee})]}),e.jsxs("button",{onClick:()=>le("approved"),className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ${E==="approved"?"border-green-500 text-green-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(ds,{size:18}),"Approved",Ue>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-800 text-xs rounded-full font-semibold",children:Ue})]})]})}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by participant, ID, request ID, or study...",value:r,onChange:n=>d(n.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{size:20,className:"text-gray-400"}),e.jsxs("select",{value:o,onChange:n=>b(n.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"Payment",children:"Payment"}),e.jsx("option",{value:"Reimbursement",children:"Reimbursement"})]}),e.jsxs("select",{value:u,onChange:n=>U(n.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Reimbursement Types"}),e.jsx("option",{value:"Travel",children:"Travel"}),e.jsx("option",{value:"Parking",children:"Parking"}),e.jsx("option",{value:"Meal",children:"Meal"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"dateFrom",className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),e.jsx("input",{id:"dateFrom",type:"date",value:S,onChange:n=>j(n.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"dateTo",className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),e.jsx("input",{id:"dateTo",type:"date",value:w,onChange:n=>k(n.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}),B.length>0&&e.jsxs("div",{className:"px-6 py-3 bg-blue-50 border-b border-blue-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[B.length," request(s) selected"]}),e.jsx("button",{onClick:()=>q([]),className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Clear selection"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[E==="unassigned"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-4 py-2 bg-ku-blue text-white rounded-lg hover:bg-ku-blue-dark font-medium",children:[e.jsx(ks,{size:16}),"Bulk Claim"]}),e.jsxs("button",{onClick:()=>me(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:[e.jsx(is,{size:16}),"Bulk Assign"]}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:[e.jsx(Bs,{size:16}),"Auto Approve"]})]}),E==="myQueue"&&e.jsxs("button",{onClick:()=>ge(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:[e.jsx(ds,{size:16}),"Bulk Approve"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[(E==="unassigned"||E==="myQueue")&&e.jsx("th",{className:"px-4 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:B.length===O.length&&O.length>0,onChange:Be,className:"w-4 h-4 text-blue-600 rounded"})}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Priority"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Request ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Participant"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Requester"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Study"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Age"}),E!=="unassigned"&&e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Approver"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:O.map(n=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[(E==="unassigned"||E==="myQueue")&&e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:B.includes(n.id),onChange:()=>Ie(n.id),className:"w-4 h-4 text-blue-600 rounded"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${n.priority==="high"?"bg-red-100 text-red-800":n.priority==="normal"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[n.priority==="high"?"ðŸ”´":n.priority==="normal"?"ðŸ”µ":"âšª"," ",n.priority.toUpperCase()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.requestId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:n.participantName}),e.jsx("p",{className:"text-xs text-gray-500",children:n.participantId})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.requester}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${n.requestType==="Payment"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:n.requestType})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.study}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:["$",n.amount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.status==="New"?"bg-gray-100 text-gray-800":n.status==="Pending Approval"?"bg-yellow-100 text-yellow-800":n.status==="Approved"?"bg-green-100 text-green-800":n.status==="Payment Complete"?"bg-blue-100 text-blue-800":n.status==="Rejected"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:n.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`${n.daysOld>3?"text-red-600 font-semibold":"text-gray-600"}`,children:n.daysOld===0?"Today":n.daysOld===1?"1 day":`${n.daysOld} days`})}),E!=="unassigned"&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.approver||e.jsx("span",{className:"text-gray-400",children:"Not Assigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[E==="unassigned"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Y(n),className:"px-3 py-1.5 bg-ku-blue text-white text-xs rounded hover:bg-ku-blue-dark font-medium",title:"Claim this request",children:"Claim"}),e.jsx("button",{onClick:()=>ie(n),className:"px-3 py-1.5 bg-gray-100 text-gray-700 text-xs rounded hover:bg-gray-200 font-medium",title:"Assign to colleague",children:"Assign"})]}),E==="myQueue"&&e.jsx("button",{onClick:()=>W(n),className:"px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700 font-medium",title:"Review & Approve/Reject",children:"Review"}),E==="myRequests"&&n.status==="New"&&e.jsxs("button",{onClick:()=>R(n),className:"px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 font-medium",title:"Edit Request",children:[e.jsx(ns,{size:14,className:"inline mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>je(n),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View Details",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>I(n),className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Workflow History",children:e.jsx(st,{size:16})})]})})]},n.id))})]})}),O.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No requests in this queue"}),e.jsx("p",{className:"text-sm mt-1",children:"Check other queues or adjust your filters"})]}),O.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:e.jsxs("p",{className:"text-gray-600",children:["Showing ",O.length," of ",pe.length," requests"]})})]}),h&&e.jsx(Vs,{isViewMode:!1,isEditMode:!1,activeTab:G,setActiveTab:V,onClose:fe}),T&&e.jsx(Vs,{isViewMode:!0,isEditMode:!1,activeTab:G,setActiveTab:V,onClose:fe,viewingPayment:T}),D&&e.jsx(Vs,{isViewMode:!1,isEditMode:!0,activeTab:G,setActiveTab:V,onClose:fe,editingPayment:D}),Z&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>Y(null)}),e.jsx("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ks,{className:"text-ku-blue",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Claim Request"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Assign this request to yourself"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Request ID:"})," ",e.jsx("span",{className:"font-medium",children:Z.requestId})]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Participant:"})," ",e.jsx("span",{className:"font-medium",children:Z.participantName})]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Amount:"})," ",e.jsxs("span",{className:"font-medium",children:["$",Z.amount.toFixed(2)]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Type:"})," ",e.jsx("span",{className:"font-medium",children:Z.requestType})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-sm text-blue-800",children:"â„¹ï¸ This request will be moved to your review queue and you will be responsible for approving or rejecting it."})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Y(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>Ae(Z),className:"flex-1 px-6 py-3 bg-ku-blue text-white rounded-lg hover:bg-ku-blue-dark font-medium",children:"Claim Request"})]})]})})]}),_&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>ie(null)}),e.jsx("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(is,{className:"text-purple-600",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Assign Request"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Assign this request to a colleague"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Request ID:"})," ",e.jsx("span",{className:"font-medium",children:_.requestId})]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Participant:"})," ",e.jsx("span",{className:"font-medium",children:_.participantName})]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Amount:"})," ",e.jsxs("span",{className:"font-medium",children:["$",_.amount.toFixed(2)]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Type:"})," ",e.jsx("span",{className:"font-medium",children:_.requestType})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to:"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select approver..."}),e.jsx("option",{value:"Patrick Cruz",children:"Patrick Cruz"}),e.jsx("option",{value:"Kimmy Clifton",children:"Kimmy Clifton"}),e.jsx("option",{value:"Tashanna Sawyer",children:"Tashanna Sawyer"}),e.jsx("option",{value:"Douglas Ross",children:"Douglas Ross"}),e.jsx("option",{value:"Jennifer Staley",children:"Jennifer Staley"}),e.jsx("option",{value:"Ted Noravong",children:"Ted Noravong"}),e.jsx("option",{value:"Megan Hummelgaard",children:"Megan Hummelgaard"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>ie(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>$e(_,"Dr. Michael Torres"),className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:"Assign"})]})]})})]}),P&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>W(null)}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold",children:["Review Payment Request (",P.participantName,")"]}),e.jsx("p",{className:"text-sm text-gray-600",children:P.requestId})]}),e.jsx("button",{onClick:()=>W(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Request Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Participant"}),e.jsx("p",{className:"font-medium",children:P.participantName}),e.jsx("p",{className:"text-xs text-gray-500",children:P.participantId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Study"}),e.jsx("p",{className:"font-medium",children:P.study})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Request Type"}),e.jsx("p",{className:"font-medium",children:P.requestType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Amount"}),e.jsxs("p",{className:"font-medium text-lg",children:["$",P.amount.toFixed(2)]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-gray-600",children:"Description"}),e.jsx("p",{className:"font-medium",children:P.description})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Requester"}),e.jsx("p",{className:"font-medium",children:P.requester})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Date Submitted"}),e.jsx("p",{className:"font-medium",children:P.date})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Review Notes / Reason ",P.status==="Pending Approval"&&"*"]}),e.jsx("textarea",{rows:4,placeholder:"Enter your review notes or reason for approval/rejection...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the requester and audit trail"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>W(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e.jsxs("button",{onClick:()=>{v.error("Request rejected",{description:`${P.requestId} has been rejected`}),W(null)},className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(tt,{size:18}),"Reject"]}),e.jsxs("button",{onClick:()=>{v.success("Request approved successfully!",{description:`${P.requestId} for $${P.amount.toFixed(2)}`}),W(null)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(ds,{size:18}),"Approve"]})]})]})]})]}),ze&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>me(!1)}),e.jsx("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(is,{className:"text-purple-600",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Bulk Assign Requests"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Assign ",B.length," request(s) to a colleague"]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Requests:"}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:O.filter(n=>B.includes(n.id)).map(n=>e.jsxs("div",{className:"text-sm text-gray-600 flex justify-between",children:[e.jsx("span",{children:n.requestId}),e.jsxs("span",{className:"font-medium",children:["$",n.amount.toFixed(2)]})]},n.id))}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-300 flex justify-between font-semibold",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",O.filter(n=>B.includes(n.id)).reduce((n,re)=>n+re.amount,0).toFixed(2)]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to:"}),e.jsxs("select",{id:"bulkAssignee",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select approver..."}),e.jsx("option",{value:"Patrick Cruz",children:"Patrick Cruz"}),e.jsx("option",{value:"Kimmy Clifton",children:"Kimmy Clifton"}),e.jsx("option",{value:"Tashanna Sawyer",children:"Tashanna Sawyer"}),e.jsx("option",{value:"Douglas Ross",children:"Douglas Ross"}),e.jsx("option",{value:"Jennifer Staley",children:"Jennifer Staley"}),e.jsx("option",{value:"Ted Noravong",children:"Ted Noravong"}),e.jsx("option",{value:"Megan Hummelgaard",children:"Megan Hummelgaard"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>me(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>{const n=document.getElementById("bulkAssignee")?.value;n?Le(n):v.error("Please select an approver")},className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:"Assign All"})]})]})})]}),ue&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>ge(!1)}),e.jsx("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ds,{className:"text-green-600",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Bulk Approve Requests"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Approve ",B.length," request(s)"]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Requests:"}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:O.filter(n=>B.includes(n.id)).map(n=>e.jsxs("div",{className:"text-sm text-gray-600 flex justify-between",children:[e.jsxs("span",{children:[n.requestId," - ",n.participantName]}),e.jsxs("span",{className:"font-medium",children:["$",n.amount.toFixed(2)]})]},n.id))}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-300 flex justify-between font-semibold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{className:"text-green-600 text-lg",children:["$",O.filter(n=>B.includes(n.id)).reduce((n,re)=>n+re.amount,0).toFixed(2)]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:["âš ï¸ This will approve all ",B.length," selected request(s). This action cannot be undone."]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>ge(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e.jsxs("button",{onClick:De,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(ds,{size:18}),"Approve All"]})]})]})})]}),Se&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>x(!1)}),e.jsx("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Bs,{className:"text-green-600",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Auto Approve Requests"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Automatically approve ",B.length," request(s)"]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Requests:"}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:O.filter(n=>B.includes(n.id)).map(n=>e.jsxs("div",{className:"text-sm text-gray-600 flex justify-between",children:[e.jsxs("span",{children:[n.requestId," - ",n.participantName]}),e.jsxs("span",{className:"font-medium",children:["$",n.amount.toFixed(2)]})]},n.id))}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-300 flex justify-between font-semibold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{className:"text-green-600 text-lg",children:["$",O.filter(n=>B.includes(n.id)).reduce((n,re)=>n+re.amount,0).toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"text-sm text-blue-800 mb-2",children:["â„¹ï¸ ",e.jsx("strong",{children:"Auto Approval Details:"})]}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 ml-4",children:[e.jsxs("li",{children:["â€¢ All requests will be moved to the ",e.jsx("strong",{children:"Approved"})," queue"]}),e.jsxs("li",{children:["â€¢ Approval reason will be: ",e.jsxs("strong",{children:['"Auto approved by ',M,'"']})]}),e.jsx("li",{children:"â€¢ This action bypasses the standard review process"})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:["âš ï¸ This will auto-approve all ",B.length," selected request(s) without manual review. This action cannot be undone."]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),e.jsxs("button",{onClick:ae,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(Bs,{size:18}),"Auto Approve All"]})]})]})})]}),C&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>I(null)}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(st,{className:"text-purple-600",size:20})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold",children:["Workflow History (",C.requestId,")"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[C.participantName," - ",C.study]})]})]}),e.jsx("button",{onClick:()=>I(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(ce,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Request Type"}),e.jsx("p",{className:"font-medium",children:C.requestType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Amount"}),e.jsxs("p",{className:"font-medium text-lg",children:["$",C.amount.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Current Status"}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${C.status==="New"?"bg-gray-100 text-gray-800":C.status==="Pending Approval"?"bg-yellow-100 text-yellow-800":C.status==="Approved"?"bg-green-100 text-green-800":C.status==="Payment Complete"?"bg-blue-100 text-blue-800":C.status==="Rejected"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:C.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Priority"}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C.priority==="high"?"bg-red-100 text-red-800":C.priority==="normal"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[C.priority==="high"?"ðŸ”´":C.priority==="normal"?"ðŸ”µ":"âšª"," ",C.priority.toUpperCase()]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Workflow Timeline"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-5 top-8 bottom-0 w-0.5 bg-gray-200"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center z-10",children:e.jsx(Xe,{className:"text-blue-600",size:18})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Request Created"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",C.requester]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[C.date," 09:15 AM"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Payment request submitted for approval"})]})]}),C.approver&&e.jsxs("div",{className:"relative flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center z-10",children:e.jsx(ks,{className:"text-purple-600",size:18})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Request Assigned"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["to ",C.approver]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[C.date," 10:32 AM"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Request assigned for review and approval"})]})]}),C.status==="Pending Approval"&&e.jsxs("div",{className:"relative flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center z-10",children:e.jsx(Ts,{className:"text-yellow-600",size:18})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Status Changed to Pending Approval"}),e.jsx("p",{className:"text-sm text-gray-600",children:"by System"})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[C.date," 10:33 AM"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Awaiting approver review"})]})]}),C.status==="Approved"&&e.jsxs("div",{className:"relative flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center z-10",children:e.jsx(ds,{className:"text-green-600",size:18})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Request Approved"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",C.approver]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[C.date," 02:18 PM"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Request approved for payment processing"}),e.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Note:"})," All documentation verified and complete"]})]})]}),C.status==="Rejected"&&e.jsxs("div",{className:"relative flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center z-10",children:e.jsx(tt,{className:"text-red-600",size:18})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Request Rejected"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",C.approver]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[C.date," 03:45 PM"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Request rejected and returned"}),e.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700",children:[e.jsx("span",{className:"font-medium",children:"Reason:"})," Missing required receipt documentation"]})]})]}),C.status==="On Hold"&&e.jsxs("div",{className:"relative flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center z-10",children:e.jsx(Qe,{className:"text-orange-600",size:18})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Request Placed On Hold"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",C.approver]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[C.date," 11:20 AM"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Request on hold pending additional information"}),e.jsxs("div",{className:"mt-2 p-2 bg-orange-50 rounded text-xs text-orange-700",children:[e.jsx("span",{className:"font-medium",children:"Note:"})," ",C.description]})]})]}),C.status==="Payment Complete"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center z-10",children:e.jsx(ds,{className:"text-green-600",size:18})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Request Approved"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",C.approver]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[C.date," 01:15 PM"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Request approved for payment processing"})]})]}),e.jsxs("div",{className:"relative flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center z-10",children:e.jsx(Ee,{className:"text-blue-600",size:18})}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Payment Processed"}),e.jsx("p",{className:"text-sm text-gray-600",children:"by Finance Department"})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[C.date," 04:30 PM"]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Payment of $",C.amount.toFixed(2)," processed successfully"]}),e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-xs text-blue-700",children:[e.jsx("span",{className:"font-medium",children:"Transaction ID:"})," TXN-",C.id,"-2026"]})]})]})]})]})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4",children:e.jsx("button",{onClick:()=>I(null),className:"w-full px-6 py-2.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Close"})})]})]})]})}function _e(...r){return ga(ya(r))}const Ya=ba("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 hover:shadow-md",destructive:"bg-destructive text-white shadow-sm hover:bg-destructive/90 hover:shadow-md focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border border-gray-300 bg-background text-foreground hover:bg-accent hover:text-accent-foreground hover:border-gray-400 dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Je({className:r,variant:d,size:o,asChild:b=!1,...u}){const U=b?Ht:"button";return e.jsx(U,{"data-slot":"button",className:_e(Ya({variant:d,size:o,className:r})),...u})}function ot({className:r,...d}){return e.jsx("div",{"data-slot":"card",className:_e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...d})}function Ye({className:r,type:d,...o}){return e.jsx("input",{type:d,"data-slot":"input",className:_e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...o})}function Ke({className:r,...d}){return e.jsx(Wt,{"data-slot":"label",className:_e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...d})}function us({...r}){return e.jsx(Gt,{"data-slot":"select",...r})}function ps({...r}){return e.jsx(Yt,{"data-slot":"select-value",...r})}function hs({className:r,size:d="default",children:o,...b}){return e.jsxs(Jt,{"data-slot":"select-trigger","data-size":d,className:_e("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...b,children:[o,e.jsx(_t,{asChild:!0,children:e.jsx(We,{className:"size-4 opacity-50"})})]})}function gs({className:r,children:d,position:o="popper",...b}){return e.jsx(Qt,{children:e.jsxs(Xt,{"data-slot":"select-content",className:_e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:o,...b,children:[e.jsx(Qa,{}),e.jsx(Zt,{className:_e("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:d}),e.jsx(Xa,{})]})})}function ts({className:r,children:d,...o}){return e.jsxs(ea,{"data-slot":"select-item",className:_e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...o,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(sa,{children:e.jsx(ls,{className:"size-4"})})}),e.jsx(ta,{children:d})]})}function Qa({className:r,...d}){return e.jsx(aa,{"data-slot":"select-scroll-up-button",className:_e("flex cursor-default items-center justify-center py-1",r),...d,children:e.jsx(Ze,{className:"size-4"})})}function Xa({className:r,...d}){return e.jsx(ra,{"data-slot":"select-scroll-down-button",className:_e("flex cursor-default items-center justify-center py-1",r),...d,children:e.jsx(We,{className:"size-4"})})}function Za({className:r,...d}){return e.jsx("textarea",{"data-slot":"textarea",className:_e("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...d})}function er({className:r,value:d,...o}){return e.jsx(ia,{"data-slot":"progress",className:_e("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",r),...o,children:e.jsx(na,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(d||0)}%)`}})})}const sr=["Amber Unrein","Cristal Monge","Emily Kelly","Michelle Truesdale","Jenae Moore","Ankita Tiwari","Emma Kelly","Morgan Brucks","Grace Heenan","Cary Felzien","Tamara Rounds","Keri Cox","Julianna McKee","Macaria Velasquez","Nasim Nosratinia","Anna Rice","Annie Henderson","Jade Robichaud","Anna Brashear","April Langhammer","Sarah Irvin","Leo Leonard","Raechel Camones","Anne Nugent","Theresa Howard","Hannah Melton","Amanda Thimmesch","Nicole Mathis","Annette Becker","Lety Sarmiento","Olivia Price","Krystal Pittman","Jill Torneden","Ali Russo","Shannon Fletcher","Chelsey Aulukh","Megan Gangwish","Elizabeth Dillon","Vianca Williams","Alyssa Bowker","Asuka Suzuki","Rachel Nikolov","Esha Garg","Terry Christenson","Nicholas Levine","Jillian Case","Hafsah Diakhate","Jodi Claybaugh","Sravya Kaparthi","Tanner Wilson","Katie Chavez","Sara Baker","Lauryn Gorby","Bethany Forseth","Marion Leaman","Rachael Rawlings","Megan Murray","Jessie Lamphier","Daniel Rivera","Rahul Chanolian","Kelsey Strube","Abigayle Joyce","Grace Bolamperti","Madelyn Arnautov","Becca Johnson","Luigi Boccardi","Sarina Fay","Crystal Billings","Vanessa Verschelden","Kelsi Palacios","Nancy Ziegler","Kristin Fravel","Daijah Jones","Yolanda Murr","Betsy Sweiger","John Mclean","Jordan Elliott","Emilia Potts","Bailey Foster","Kate Canova","Reagan Smith","Ashley Barry","Wamda Ahmed","Rachel Heueisen","Linda d'Silva","Rachel Ruiz","Ronal Castro","Robin Davis","Andrea Klempnauer","Victoria Dorman","Emily Work","Rachel Holden","Dan Le","Julie-Ann Dutton","Lucas Lemar","Nashwa Mohammad","Mya Milius","Laura Crabtree","Makaila Pelter","Caitlin Payne","Stephanie Stauffer","Bria Bartsch","Max Hardenbrook","Grace Millington","Jacqueline Smart","Jeffery Honas","Mary Butler","Rafaela Nelson","Francisca Javiera Allendes","Mia Smith","Jonath0n Barnette","Joseph Kelly","Whitney Theis","Cameron Zoraghchi","KUMCRI_batch"];function tr({files:r,onFilesChange:d,itemId:o}){const[b,u]=t.useState(!1),U=p=>{if(p===0)return"0 Bytes";const L=1024,A=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(p)/Math.log(L));return Math.round(p/Math.pow(L,f)*100)/100+" "+A[f]},S=p=>{if(!p)return;const L=Array.from(p).map(A=>({id:Math.random().toString(36).substr(2,9),name:A.name,size:A.size,uploadDate:new Date().toLocaleDateString()}));d([...r,...L])},j=p=>{p.preventDefault(),u(!0)},w=p=>{p.preventDefault(),u(!1)},k=p=>{p.preventDefault(),u(!1),S(p.dataTransfer.files)},h=p=>{d(r.filter(L=>L.id!==p))},z=p=>{const L=p.split(".").pop()?.toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(L||"")?e.jsx(la,{className:"h-4 w-4 text-blue-500"}):e.jsx(Ps,{className:"h-4 w-4 text-gray-500"})};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{onDragOver:j,onDragLeave:w,onDrop:k,className:`border-2 border-dashed rounded-lg p-4 transition-all cursor-pointer ${b?"border-ku-blue bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:e.jsxs("label",{className:"cursor-pointer block",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf",className:"hidden",onChange:p=>S(p.target.files)}),e.jsxs("div",{className:"text-center",children:[e.jsx(cs,{className:`h-6 w-6 mx-auto mb-2 ${b?"text-ku-blue":"text-gray-400"}`}),e.jsx("p",{className:"text-sm text-gray-600",children:b?e.jsx("span",{className:"font-medium text-ku-blue",children:"Drop files here"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-medium text-ku-blue",children:"Click to upload"})," or drag and drop"]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG, GIF (multiple files allowed)"})]})]})}),r.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-700",children:[r.length," file(s) uploaded:"]}),r.map(p=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded px-2 py-1.5 text-xs group hover:bg-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[z(p.name),e.jsx("span",{className:"truncate font-medium",children:p.name}),e.jsxs("span",{className:"text-gray-500 text-xs whitespace-nowrap",children:["(",U(p.size),")"]})]}),e.jsx("button",{type:"button",onClick:()=>h(p.id),className:"ml-2 p-1 text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove file",children:e.jsx(ce,{className:"h-3 w-3"})})]},p.id))]})]})}function ar({onBack:r}){const[d,o]=t.useState(1),[b,u]=t.useState("Participant"),[U,S]=t.useState(""),[j,w]=t.useState(null),[k,h]=t.useState(!1),[z,p]=t.useState(""),[L,A]=t.useState(""),[f,$]=t.useState(""),[H,D]=t.useState(""),[R,y]=t.useState("Payment"),[K,T]=t.useState(""),[je,P]=t.useState(""),[W,G]=t.useState(""),[V,E]=t.useState([]),[le,Z]=t.useState(""),[Y,_]=t.useState(""),[ie,B]=t.useState(""),[q,ze]=t.useState(null),[me,ue]=t.useState(!1),[ge,Se]=t.useState(0),[x,C]=t.useState(.67),[I,M]=t.useState(""),[c,J]=t.useState(!1),[pe,O]=t.useState({}),[ke,ne]=t.useState(!1),ye=[{id:"P-2026-001",name:"John Smith",studies:["CHS-2026-001","PNS-2026-008"],address:"123 Main St, Kansas City, KS 66101",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2025-156",name:"Sarah Johnson",studies:["NDR-2025-042","DPT-2025-019"],address:"456 Oak Ave, Overland Park, KS 66062",withholdTax:"yes",participantStatus:"Active",status:"Registered"},{id:"P-2026-045",name:"Michael Brown",studies:["DPT-2025-019"],address:"789 Elm Street, Lenexa, KS 66215",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2026-089",name:"Emily Davis",studies:["PNS-2026-008","CHS-2026-001"],address:"321 Pine Rd, Kansas City, MO 64110",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2025-178",name:"Linda Martinez",studies:["DPT-2025-019","NDR-2025-042","CHS-2026-001"],address:"987 Cedar Ln, Olathe, KS 66061",withholdTax:"no",participantStatus:"Inactive",status:"Registered"},{id:"P-2026-012",name:"Jennifer Taylor",studies:["CHS-2026-001"],address:"258 Walnut St, Kansas City, KS 66102",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2025-234",name:"Robert Wilson",studies:["NDR-2025-042"],address:"654 Maple Dr, Shawnee, KS 66203",withholdTax:"yes",participantStatus:"Active",status:"Registered"},{id:"P-2026-078",name:"Patricia Moore",studies:["CHS-2026-001","PNS-2026-008"],address:"147 Birch Ave, Prairie Village, KS 66208",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2026-150",name:"Thomas Garcia",studies:["SDA-2026-003","CHS-2026-001"],address:"741 Spruce St, Kansas City, KS 66112",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2026-151",name:"Jessica White",studies:["SDA-2026-003"],address:"852 Ash Blvd, Overland Park, KS 66085",withholdTax:"no",participantStatus:"Active",status:"Registered"}],ee=[{id:"CHS-2026-001",name:"Cardiovascular Health Study",status:"Active",locations:["Main Research Center - Building A","Outpatient Clinic - West Campus"]},{id:"NDR-2025-042",name:"Neurological Disorders Research",status:"Active",locations:["Outpatient Clinic - West Campus","Virtual/Remote Participation"]},{id:"DPT-2025-019",name:"Diabetes Prevention Trial",status:"Study completed",locations:["Main Research Center - Building A","Corp","Remote"]},{id:"PNS-2026-008",name:"Pediatric Nutrition Study",status:"Active",locations:["Westwood","Home Visit - Johnson County Area"]},{id:"SDA-2026-003",name:"Sleep Disorder Analysis",status:"Study start",locations:["Outpatient Clinic - West Campus"]}],Ue={"Main Research Center - Building A":"3901 Rainbow Blvd, Kansas City, KS 66160","Outpatient Clinic - West Campus":"4000 Cambridge St, Kansas City, KS 66160",Westwood:"5520 College Blvd, Overland Park, KS 66211",Corp:"4330 Shawnee Mission Pkwy, Fairway, KS 66205"},fe=["Drive/Mileage","Tolls/Parking","Flight","Hotel/Accommodations","Rental Car","Public Transit","Taxi/Rideshare","Meals/Food","Other reimbursement"],Ae=ye.filter(s=>{const N=s.name.toLowerCase().includes(U.toLowerCase())||s.id.toLowerCase().includes(U.toLowerCase()),F=s.participantStatus==="Active"&&s.status==="Registered";return N&&F}),$e=j?ee.filter(s=>j.studies.includes(s.id)):ee,Ie=H?(s=>({"CHS-2026-001":[{id:"PS1",visitId:"V1",visitName:"Screening Visit",amount:0,description:"No payment for screening"},{id:"PS2",visitId:"V2",visitName:"Baseline Assessment",amount:75,description:"Baseline visit completion"},{id:"PS3",visitId:"V3",visitName:"Week 4 Follow-up",amount:50,description:"Follow-up visit stipend"},{id:"PS4",visitId:"V4",visitName:"Month 3 Assessment",amount:100,description:"Month 3 assessment payment"},{id:"PS5",visitId:"V5",visitName:"Month 6 Assessment",amount:100,description:"Month 6 assessment payment"},{id:"PS6",visitId:"V6",visitName:"Final Visit",amount:150,description:"Study completion bonus"}],"NDR-2025-042":[{id:"PS1",visitId:"V1",visitName:"Initial Screening",amount:0,description:"No payment for screening"},{id:"PS2",visitId:"V2",visitName:"Neurological Baseline",amount:125,description:"Extensive baseline testing"},{id:"PS3",visitId:"V3",visitName:"Week 2 Check",amount:50,description:"Quick follow-up"},{id:"PS4",visitId:"V4",visitName:"Month 1 Assessment",amount:100,description:"Month 1 comprehensive"},{id:"PS5",visitId:"V5",visitName:"Study Completion",amount:200,description:"Final completion payment"}],"DPT-2025-019":[{id:"PS1",visitId:"V1",visitName:"Screening & Consent",amount:25,description:"Initial consent visit"},{id:"PS2",visitId:"V2",visitName:"Baseline Labs",amount:75,description:"Lab work completion"},{id:"PS3",visitId:"V3",visitName:"Monthly Check-in",amount:30,description:"Monthly stipend"},{id:"PS4",visitId:"V4",visitName:"6-Month Evaluation",amount:150,description:"Six month completion"}],"PNS-2026-008":[{id:"PS1",visitId:"V1",visitName:"Enrollment Visit",amount:50,description:"Enrollment payment"},{id:"PS2",visitId:"V2",visitName:"Week 2 Assessment",amount:75,description:"Week 2 stipend"},{id:"PS3",visitId:"V3",visitName:"Week 4 Assessment",amount:75,description:"Week 4 stipend"},{id:"PS4",visitId:"V4",visitName:"Final Assessment",amount:100,description:"Study completion"}]})[s]||[])(H):[],Q=[{number:1,title:"Request Information",icon:da},{number:2,title:"Line Items & Receipts",icon:at},{number:3,title:"Review and Confirm",icon:oa},{number:4,title:"Confirmation",icon:ls}];t.useEffect(()=>{if(R==="Payment"&&j?.withholdTax==="yes"&&V.length>0){const N=V.filter(Re=>Re.type!=="Tax Withholding").reduce((Re,qe)=>Re+qe.amount,0),F=N*.1,se=V.find(Re=>Re.type==="Tax Withholding");se?se.amount!==-F&&E(V.map(Re=>Re.type==="Tax Withholding"?{...Re,amount:-F,description:`Federal Tax Withholding (10% of $${N.toFixed(2)})`}:Re)):E([...V,{id:"TAX-WITHHOLDING",description:`Federal Tax Withholding (10% of $${N.toFixed(2)})`,amount:-F,type:"Tax Withholding",receipts:[]}])}else j?.withholdTax!=="yes"&&V.some(N=>N.type==="Tax Withholding")&&E(V.filter(N=>N.type!=="Tax Withholding"))},[V,j,R]);const Le=()=>{if(d===1){if(b==="Participant"&&!j){v.error("Please select a participant");return}if(b==="Caregiver"){if(!z){v.error("Please enter caregiver name");return}if(!L){v.error("Please enter associated participant ID");return}}if(b==="Third-Party/Other"&&!f){v.error("Please enter third-party/other name");return}if(!H){v.error("Please select a study");return}}if(d===2){if(V.length===0){v.error("Please add at least one line item");return}for(const s of V){if(!s.description){v.error("All line items must have a description");return}if(s.type!=="Tax Withholding"&&s.amount<=0){v.error("All line items must have a valid amount");return}if(R==="Reimbursement"&&!s.type){v.error("All reimbursement items must have a type");return}}}d<4&&o(d+1)},De=()=>{d>1&&o(d-1)},ae=s=>{w(s),S(`${s.id} - ${s.name}`),h(!1),H&&!s.studies.includes(H)&&D("")},Me=()=>{if(!le){v.error("Please enter a description");return}if(!Y||parseFloat(Y)<=0){v.error("Please enter a valid amount");return}if(R==="Reimbursement"&&!ie){v.error("Please select a reimbursement type");return}if(q&&q!=="new")E(V.map(s=>s.id===q?{...s,description:le,amount:parseFloat(Y),type:R==="Payment"?"Payment":ie}:s)),v.success("Line item updated"),ze(null);else{const s={id:`LI-${Date.now()}`,description:le,amount:parseFloat(Y),type:R==="Payment"?"Payment":ie,receipts:[]};E([...V,s]),v.success("Line item added"),ze(null)}Z(""),_(""),B(""),T("")},n=s=>{ze(s.id),Z(s.description),_(s.amount.toString()),B(s.type)},re=s=>{if(V.find(F=>F.id===s)?.type==="Tax Withholding"){v.error("Cannot remove tax withholding line item");return}if(V.length===1){v.error("Cannot remove the last line item");return}E(V.filter(F=>F.id!==s)),v.success("Line item removed")},X=()=>{ze(null),Z(""),_(""),B("")},de=(s,N)=>{const F=(s+N).split("").reduce((se,Re)=>(se<<5)-se+Re.charCodeAt(0),0);return Math.abs(F%30)+5},l=()=>{if(!j||!I){v.error("Please ensure participant and study location are selected");return}const s=j.address,N=Ue[I];if(!N){v.error("Study location address not found");return}const F=de(s,N);Se(F);const se=F*x;_(se.toFixed(2)),v.success(`Calculated ${F} miles Ã— $${x}/mile = $${se.toFixed(2)}`)},Ne=()=>V.reduce((s,N)=>s+N.amount,0),i=()=>{v.success("Payment request submitted for approval"),o(4)},he=()=>(d-1)/(Q.length-1)*100,xe=s=>{O(N=>({...N,[s]:!N[s]}))},g=s=>{if(s===1)return b==="Participant"&&j?`${j.name} â€¢ ${H} â€¢ ${R}`:b==="Caregiver"&&z?`${z} (Caregiver) â€¢ ${H} â€¢ ${R}`:b==="Third-Party/Other"&&f?`${f} â€¢ ${H} â€¢ ${R}`:"Incomplete";if(s===2){const N=V.reduce((F,se)=>F+se.receipts.length,0);return`${V.length} item(s) â€¢ $${Ne().toFixed(2)} â€¢ ${N} receipt(s)`}return""},be=()=>{ne(!1),r&&r()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(Ee,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Create Payment Request"}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Step ",d," of ",d===4?"Confirmation":"3",": ",Q[d-1].title]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:r&&d<4&&e.jsxs(Je,{variant:"outline",onClick:()=>ne(!0),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"Cancel Request"]})})]}),e.jsxs(ot,{className:"p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx(er,{value:he(),className:"h-2"})}),e.jsx("div",{className:"flex items-start justify-between gap-2",children:Q.map((s,N)=>{const F=s.icon,se=d===s.number,Re=d>s.number,qe=Re&&d!==s.number;return e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:"flex flex-col items-center w-full",children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[qe&&e.jsx("button",{onClick:()=>xe(s.number),className:"p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",title:pe[s.number]?"Collapse":"Expand",children:pe[s.number]?e.jsx(Ze,{className:"h-4 w-4 text-gray-600"}):e.jsx(We,{className:"h-4 w-4 text-gray-600"})}),!qe&&e.jsx("div",{className:"w-6"}),e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors flex-shrink-0 ${se?"bg-ku-blue text-white":Re?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:Re?e.jsx(ls,{className:"h-5 w-5"}):e.jsx(F,{className:"h-5 w-5"})}),e.jsxs("div",{className:"text-left flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:`text-sm font-semibold truncate ${se?"text-ku-blue":"text-gray-700"}`,children:[s.number<4?`${s.number}. `:"",s.title]}),R==="Payment"&&j?.withholdTax==="yes"&&s.number<=3&&e.jsx("span",{className:"flex-shrink-0 px-1.5 py-0.5 bg-orange-100 text-orange-800 text-[10px] font-semibold rounded",children:"TAX"})]}),Re&&pe[s.number]&&e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:g(s.number)})]})]})}),N<Q.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 mt-5 ${Re?"bg-green-600":"bg-gray-200"}`})]},s.number)})})]}),e.jsxs(ot,{className:"p-6 min-h-[500px]",children:[d===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Request Information"}),e.jsx("p",{className:"text-gray-600",children:"Provide basic details about the payment request."})]})}),R==="Payment"&&j?.withholdTax==="yes"&&e.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(As,{className:"h-5 w-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-orange-900",children:"Tax Withholding Active"}),e.jsx("p",{className:"text-sm text-orange-800 mt-1",children:"This participant has elected to withhold federal taxes. A 10% tax withholding line item will be automatically added to deduct from the total payment amount."})]})]})}),e.jsxs("div",{className:"space-y-6 max-w-4xl",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{htmlFor:"recipientType",children:"Recipient Type *"}),e.jsxs(us,{value:b,onValueChange:s=>{u(s),w(null),S(""),p(""),A(""),$("")},children:[e.jsx(hs,{id:"recipientType",children:e.jsx(ps,{})}),e.jsxs(gs,{children:[e.jsx(ts,{value:"Participant",children:"Participant"}),e.jsx(ts,{value:"Caregiver",children:"Caregiver"}),e.jsx(ts,{value:"Third-Party/Other",children:"Third-Party/Other"})]})]})]}),b==="Participant"&&e.jsxs("div",{className:"space-y-2 relative",children:[e.jsx(Ke,{htmlFor:"participant",children:"Search Participant *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx(Ye,{id:"participant",value:U,onChange:s=>{S(s.target.value),h(!0)},onFocus:()=>h(!0),placeholder:"Search by ID or name...",className:"pl-10"})]}),k&&Ae.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Ae.map(s=>e.jsxs("button",{type:"button",onClick:()=>ae(s),className:"w-full px-4 py-2 text-left hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"font-medium",children:s.id}),e.jsx("div",{className:"text-sm text-gray-600",children:s.name})]},s.id))})]}),b==="Caregiver"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{htmlFor:"caregiverName",children:"Caregiver Name *"}),e.jsx(Ye,{id:"caregiverName",value:z,onChange:s=>p(s.target.value),placeholder:"Enter caregiver's name..."})]}),b==="Third-Party/Other"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{htmlFor:"thirdPartyName",children:"Third-Party/Other Name *"}),e.jsx(Ye,{id:"thirdPartyName",value:f,onChange:s=>$(s.target.value),placeholder:"Enter name..."})]}),b==="Participant"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{htmlFor:"participantName",children:"Participant Name"}),e.jsx(Ye,{id:"participantName",value:j?j.name:"",readOnly:!0,disabled:!0,placeholder:"Select participant first...",className:"bg-gray-100"})]}),b==="Caregiver"&&e.jsxs("div",{className:"space-y-2 relative",children:[e.jsx(Ke,{htmlFor:"associatedParticipant",children:"Associated Participant *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx(Ye,{id:"associatedParticipant",value:L,onChange:s=>{A(s.target.value),h(!0)},onFocus:()=>h(!0),placeholder:"Search participant...",className:"pl-10"})]}),k&&Ae.length>0&&L&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ye.filter(s=>s.name.toLowerCase().includes(L.toLowerCase())||s.id.toLowerCase().includes(L.toLowerCase())).map(s=>e.jsxs("button",{type:"button",onClick:()=>{w(s),A(`${s.id} - ${s.name}`),h(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"font-medium",children:s.id}),e.jsx("div",{className:"text-sm text-gray-600",children:s.name})]},s.id))})]}),b==="Third-Party/Other"&&e.jsx("div",{className:"space-y-2"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{htmlFor:"study",children:"Study *"}),e.jsxs(us,{value:H,onValueChange:D,children:[e.jsx(hs,{id:"study",children:e.jsx(ps,{placeholder:"Select study"})}),e.jsx(gs,{children:$e.map(s=>e.jsxs(ts,{value:s.id,disabled:s.status==="Study start"||s.status==="Study completed"||s.status==="Canceled/withdrawn",className:s.status!=="Active"?"text-gray-400":"",children:[s.id," - ",s.name,s.status!=="Active"?` (${s.status})`:""]},s.id))})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{htmlFor:"requestType",children:"Request Type *"}),e.jsxs(us,{value:R,onValueChange:s=>{y(s),T(""),E([])},children:[e.jsx(hs,{id:"requestType",children:e.jsx(ps,{})}),e.jsxs(gs,{children:[e.jsx(ts,{value:"Payment",children:"Payment (from schedule)"}),e.jsx(ts,{value:"Reimbursement",children:"Reimbursement (expense)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{htmlFor:"requesterLabel",children:"Requester"}),e.jsxs(us,{value:W,onValueChange:G,children:[e.jsx(hs,{id:"requesterLabel",children:e.jsx(ps,{placeholder:"Select requester (optional)"})}),e.jsx(gs,{className:"max-h-60",children:sr.map(s=>e.jsx(ts,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{htmlFor:"requestDate",children:"Request Date"}),e.jsx(Ye,{id:"requestDate",value:new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),disabled:!0,className:"bg-gray-50"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ke,{htmlFor:"notes",children:"Request Notes"}),e.jsx(Za,{id:"notes",value:je,onChange:s=>P(s.target.value),placeholder:"Add any additional notes or context for this request...",rows:4})]})})]})]}),d===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Line Items & Receipts"}),e.jsx("p",{className:"text-gray-600 mt-1",children:R==="Payment"?"Add payment line items for scheduled visits and upload receipts as needed.":"Add reimbursement expenses and upload supporting receipts."})]}),(R==="Reimbursement"||R==="Payment")&&e.jsxs(Je,{onClick:()=>{q||(ze("new"),Z(""),_(""),B(R==="Payment"?"Payment":""))},className:"bg-ku-blue hover:bg-ku-blue-dark",disabled:q!==null,children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Add Line Item"]})]}),R==="Payment"&&j?.withholdTax==="yes"&&e.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(As,{className:"h-5 w-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-orange-900",children:"Tax Withholding Active"}),e.jsx("p",{className:"text-sm text-orange-800 mt-1",children:"A 10% federal tax withholding line item will be automatically added at the end of your line items to deduct from the total payment amount."})]})]})}),q&&e.jsxs("div",{className:"bg-blue-50 border border-ku-blue rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold",children:q==="new"?"Add New Line Item":"Edit Line Item"}),e.jsx(Je,{type:"button",variant:"ghost",size:"sm",onClick:X,children:e.jsx(ce,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[R==="Reimbursement"&&e.jsxs("div",{className:"col-span-3",children:[e.jsx(Ke,{children:"Type *"}),e.jsxs(us,{value:ie,onValueChange:s=>{B(s),ue(s==="Drive/Mileage")},children:[e.jsx(hs,{children:e.jsx(ps,{placeholder:"Select type"})}),e.jsx(gs,{children:fe.map(s=>e.jsx(ts,{value:s,children:s},s))})]})]}),R==="Payment"&&e.jsxs("div",{className:"col-span-3",children:[e.jsx(Ke,{children:"Visit *"}),e.jsxs(us,{value:K,onValueChange:s=>{T(s);const N=Ie.find(F=>F.id===s);N&&(Z(N.description),_(N.amount.toString()))},children:[e.jsx(hs,{children:e.jsx(ps,{placeholder:"Select visit"})}),e.jsx(gs,{children:Ie.map(s=>e.jsxs(ts,{value:s.id,children:[s.visitName," - $",s.amount]},s.id))})]})]}),e.jsxs("div",{className:"col-span-5",children:[e.jsx(Ke,{children:"Description *"}),e.jsx(Ye,{value:le,onChange:s=>Z(s.target.value),placeholder:"Enter description...",readOnly:R==="Payment",className:R==="Payment"?"bg-gray-50":""})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(Ke,{children:"Amount *"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Ye,{type:"number",step:"0.01",value:Y,onChange:s=>_(s.target.value),placeholder:"0.00",className:ie==="Drive/Mileage"||R==="Payment"?"bg-gray-50":"",readOnly:ie==="Drive/Mileage"||R==="Payment"}),ie==="Drive/Mileage"&&e.jsx("button",{type:"button",onClick:()=>ue(!me),className:"text-xs text-blue-600 hover:underline whitespace-nowrap",children:me?"Hide":"Calc"})]})]}),e.jsx("div",{className:"col-span-1 flex items-end",children:e.jsx(Je,{type:"button",onClick:Me,className:"bg-ku-blue hover:bg-ku-blue-dark w-full",size:"sm",children:e.jsx(Xe,{className:"h-4 w-4"})})})]}),me&&ie==="Drive/Mileage"&&e.jsxs("div",{className:"mt-4 bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Mileage Calculator"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ke,{htmlFor:"studyLocation",children:"Study Location *"}),e.jsxs(us,{value:I,onValueChange:M,children:[e.jsx(hs,{id:"studyLocation",children:e.jsx(ps,{placeholder:"Select location"})}),e.jsx(gs,{children:H&&ee.find(s=>s.id===H)?.locations.map(s=>e.jsx(ts,{value:s,children:s},s))})]}),I&&Ue[I]&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ue[I]})]}),e.jsxs("div",{children:[e.jsx(Ke,{children:"Participant Address"}),e.jsx("div",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm text-gray-900",children:j?.address||"No participant selected"})]}),e.jsxs("div",{children:[e.jsx(Ke,{children:"Estimated Miles"}),e.jsx(Ye,{type:"number",step:"1",value:ge,onChange:s=>{const N=parseFloat(s.target.value)||0;Se(N);const F=N*x;_(F.toFixed(2))},placeholder:"0"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Manual entry or auto-calculate"})]}),e.jsxs("div",{children:[e.jsx(Ke,{children:"Mileage Rate"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(Ye,{type:"number",step:"0.01",value:x,onChange:s=>{const N=parseFloat(s.target.value)||.67;C(N);const F=ge*N;_(F.toFixed(2))},className:"pl-7",placeholder:"0.67"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"IRS standard rate (2024)"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx(Je,{type:"button",onClick:l,className:"bg-green-600 hover:bg-green-700",size:"sm",children:"Auto-Calculate Distance"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Calculated Amount"}),e.jsxs("p",{className:"text-xl font-bold text-ku-blue",children:["$",(ge*x).toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[ge," miles Ã— $",x,"/mile"]})]})]}),e.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Note:"}),' Click "Auto-Calculate Distance" to estimate miles between participant address and study location, or manually enter the miles driven.']})})]})]}),V.length>0?e.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-200 border-b-2 border-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700 w-32",children:"Request Type"}),e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700 w-28",children:"Type"}),e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700",children:"Description"}),e.jsx("th",{className:"px-3 py-3 text-right text-sm font-medium text-gray-700 w-28",children:"Amount"}),e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700 w-48",children:"Notes"}),e.jsx("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700 w-64",children:"Receipts"}),e.jsx("th",{className:"px-3 py-3 text-center text-sm font-medium text-gray-700 w-24",children:"Actions"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[V.map(s=>{const N=s.type==="Tax Withholding";return e.jsxs("tr",{className:N?"bg-orange-50 hover:bg-orange-100":"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-3 text-sm text-gray-900",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${N?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:N?"Tax":R})}),e.jsxs("td",{className:"px-3 py-3 text-sm text-gray-900",children:[s.type&&e.jsx("span",{className:`px-2 py-1 text-xs rounded ${N?"bg-orange-200 text-orange-900 font-semibold":"bg-gray-200 text-gray-700"}`,children:s.type}),!s.type&&e.jsx("span",{className:"text-gray-400",children:"â€”"})]}),e.jsxs("td",{className:"px-3 py-3 text-sm text-gray-900",children:[N&&e.jsx(Ts,{className:"h-4 w-4 inline mr-1 text-orange-600"}),s.description]}),e.jsxs("td",{className:`px-3 py-3 text-sm text-right font-medium ${N?"text-orange-900 font-bold":"text-gray-900"}`,children:[N&&s.amount>0?"-":"","$",Math.abs(s.amount).toFixed(2)]}),e.jsx("td",{className:"px-3 py-3",children:N?e.jsx("span",{className:"text-xs text-gray-400 italic",children:"Auto-calculated"}):e.jsx(Ye,{type:"text",value:s.notes||"",onChange:F=>{E(V.map(se=>se.id===s.id?{...se,notes:F.target.value}:se))},placeholder:"Add notes...",className:"text-xs"})}),e.jsx("td",{className:"px-3 py-3",children:N?e.jsx("span",{className:"text-xs text-gray-400 italic",children:"No receipt needed"}):e.jsx(tr,{files:s.receipts,onFilesChange:F=>{E(V.map(se=>se.id===s.id?{...se,receipts:F}:se))},itemId:s.id})}),!N&&e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[R==="Reimbursement"&&e.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>n(s),children:"Edit"}),e.jsx(Je,{type:"button",variant:"ghost",size:"sm",onClick:()=>re(s.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ys,{className:"h-4 w-4"})})]})}),N&&R==="Reimbursement"&&e.jsx("td",{className:"px-3 py-3"})]},s.id)}),e.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[e.jsx("td",{className:"px-3 py-3 text-sm text-gray-900",colSpan:4,children:"Total Amount"}),e.jsxs("td",{className:"px-3 py-3 text-sm text-gray-900 text-right",children:["$",Ne().toFixed(2)]}),e.jsx("td",{className:"px-3 py-3"}),e.jsx("td",{className:"px-3 py-3"}),R==="Reimbursement"&&e.jsx("td",{})]})]})]})}):e.jsxs("div",{className:"text-center py-12 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx(at,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),e.jsx("p",{children:"No line items added yet"}),e.jsx("p",{className:"text-sm mt-1",children:'Click "Add Line Item" to get started'})]})]}),d===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Review and Confirm"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Review all details before submitting for approval."})]}),R==="Payment"&&j?.withholdTax==="yes"&&e.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(As,{className:"h-5 w-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-orange-900",children:"Tax Withholding Applied"}),e.jsx("p",{className:"text-sm text-orange-800 mt-1",children:"A 10% federal tax withholding has been deducted from the total payment amount as per participant's tax election."})]})]})}),e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Request Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Recipient Type"}),e.jsx("p",{className:"font-medium",children:b})]}),j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Participant ID"}),e.jsx("p",{className:"font-medium",children:j.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Participant Name"}),e.jsx("p",{className:"font-medium",children:j.name})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Study"}),e.jsx("p",{className:"font-medium",children:H})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Request Type"}),e.jsx("p",{className:"font-medium",children:R})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Requester"}),e.jsx("p",{className:"font-medium",children:W||e.jsx("span",{className:"text-gray-400",children:"Not specified"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Request Date"}),e.jsx("p",{className:"font-medium",children:new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]}),je&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-gray-600",children:"Notes"}),e.jsx("p",{className:"font-medium",children:je})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-100 px-4 py-3 border-b border-gray-300",children:e.jsxs("h3",{className:"font-semibold",children:["Line Items (",V.length,")"]})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-200 border-b border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Description"}),R==="Reimbursement"&&e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Notes"}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",children:"Receipts"}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:"Amount"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[V.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:s.description}),R==="Reimbursement"&&e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:s.type}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:s.notes||e.jsx("span",{className:"text-gray-400",children:"â€”"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-center",children:s.receipts.length>0?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:[e.jsx(Ps,{className:"h-3 w-3"}),s.receipts.length]}):e.jsx("span",{className:"text-gray-400",children:"â€”"})}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-medium",children:["$",s.amount.toFixed(2)]})]},s.id)),e.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",colSpan:R==="Reimbursement"?4:3,children:"Total Amount"}),e.jsxs("td",{className:"px-4 py-3 text-sm text-ku-blue text-right text-lg",children:["$",Ne().toFixed(2)]})]})]})]})]})]}),d===4&&e.jsxs("div",{className:"space-y-6 text-center py-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(ls,{className:"h-10 w-10 text-green-600"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Request Successfully Submitted!"}),e.jsx("p",{className:"text-gray-600",children:"Your payment request has been submitted for approval."})]}),e.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-lg p-6 max-w-2xl mx-auto text-left",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Request ID"}),e.jsxs("p",{className:"font-semibold text-lg",children:["REQ-",Math.floor(Math.random()*9e3)+1e3]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Submitted Date"}),e.jsx("p",{className:"font-semibold",children:new Date().toLocaleDateString()})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Approval Workflow"}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-ku-blue text-white flex items-center justify-center text-sm font-semibold",children:"1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Study Coordinator Review"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Dr. Sarah Chen â€¢ Expected: 1-2 business days"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-semibold",children:"2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Finance Department Approval"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Pending coordinator review"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-semibold",children:"3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Payment Processing"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Pending finance approval"})]})]})]})]})]}),e.jsx("div",{className:"flex items-center justify-center gap-3 pt-4",children:e.jsx(Je,{onClick:()=>{r&&r()},className:"bg-ku-blue hover:bg-ku-blue-dark",children:"Return to Payments"})})]})]}),d<4&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(Je,{variant:"outline",onClick:De,disabled:d===1,children:[e.jsx(ct,{className:"h-4 w-4 mr-2"}),"Previous"]}),d<3?e.jsxs(Je,{onClick:Le,className:"bg-ku-blue hover:bg-ku-blue-dark",children:["Next",e.jsx(qs,{className:"h-4 w-4 ml-2"})]}):e.jsxs(Je,{onClick:i,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Submit for Approval"]})]}),ke&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:e.jsx(As,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cancel Payment Request?"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to cancel this payment request? All entered information will be lost and cannot be recovered."})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6",children:[e.jsx(Je,{variant:"outline",onClick:()=>ne(!1),children:"Continue Editing"}),e.jsx(Je,{onClick:be,className:"bg-red-600 hover:bg-red-700 text-white",children:"Yes, Cancel Request"})]})]})})]})}function rr(){const[r,d]=t.useState("batches"),[o,b]=t.useState(""),[u,U]=t.useState("all"),[S,j]=t.useState(""),[w,k]=t.useState(""),[h,z]=t.useState(null),[p,L]=t.useState("batchDate"),[A,f]=t.useState("desc"),[$,H]=t.useState(""),[D,R]=t.useState("all"),[y,K]=t.useState("all"),[T,je]=t.useState("transactionDate"),[P,W]=t.useState("desc"),[G,V]=t.useState(!1),E=[{id:1,batchId:"BATCH-2026-02-04-001",batchDate:"2026-02-04T08:30:00",totalTransactions:15,totalAmount:3250,status:"Completed",createdDate:"2026-02-04 08:00 AM",createdBy:"System Auto-Batch",processedDate:"2026-02-04 02:30 PM",processedBy:"Patrick Cruz",notes:"Regular daily batch processed successfully."},{id:2,batchId:"BATCH-2026-02-04-002",batchDate:"2026-02-04T14:15:00",totalTransactions:8,totalAmount:1890,status:"In Process",createdDate:"2026-02-04 02:00 PM",createdBy:"System Auto-Batch",processedDate:null,processedBy:null,notes:"Afternoon batch - processing payment adjustments."},{id:3,batchId:"BATCH-2026-02-03-001",batchDate:"2026-02-03T09:00:00",totalTransactions:12,totalAmount:2890,status:"Completed",createdDate:"2026-02-03 08:00 AM",createdBy:"System Auto-Batch",processedDate:"2026-02-03 03:45 PM",processedBy:"Kimmy Clifton",notes:""},{id:4,batchId:"BATCH-2026-02-03-002",batchDate:"2026-02-03T16:30:00",totalTransactions:6,totalAmount:1240,status:"Completed",createdDate:"2026-02-03 04:00 PM",createdBy:"Tashanna Sawyer",processedDate:"2026-02-03 05:15 PM",processedBy:"Tashanna Sawyer",notes:"Late afternoon batch - urgent payments."},{id:5,batchId:"BATCH-2026-02-02-001",batchDate:"2026-02-02T08:30:00",totalTransactions:8,totalAmount:1675,status:"Completed",createdDate:"2026-02-02 08:00 AM",createdBy:"System Auto-Batch",processedDate:"2026-02-02 03:15 PM",processedBy:"Kimmy Clifton",notes:""},{id:6,batchId:"BATCH-2026-02-01-001",batchDate:"2026-02-01T09:15:00",totalTransactions:20,totalAmount:4120,status:"Completed",createdDate:"2026-02-01 08:00 AM",createdBy:"System Auto-Batch",processedDate:"2026-02-01 04:45 PM",processedBy:"Patrick Cruz",notes:"End of month batch - higher volume than usual."},{id:7,batchId:"BATCH-2026-02-01-002",batchDate:"2026-02-01T15:00:00",totalTransactions:14,totalAmount:2950,status:"Completed",createdDate:"2026-02-01 02:30 PM",createdBy:"Patrick Cruz",processedDate:"2026-02-01 06:20 PM",processedBy:"Patrick Cruz",notes:"Second batch for end of month processing."},{id:8,batchId:"BATCH-2026-01-31-001",batchDate:"2026-01-31T08:45:00",totalTransactions:18,totalAmount:3980,status:"Completed",createdDate:"2026-01-31 08:00 AM",createdBy:"System Auto-Batch",processedDate:"2026-01-31 02:20 PM",processedBy:"Tashanna Sawyer",notes:""},{id:9,batchId:"BATCH-2026-01-31-002",batchDate:"2026-01-31T13:30:00",totalTransactions:10,totalAmount:2100,status:"Completed",createdDate:"2026-01-31 01:00 PM",createdBy:"System Auto-Batch",processedDate:"2026-01-31 04:45 PM",processedBy:"Jennifer Staley",notes:"Additional batch for month-end close."},{id:10,batchId:"BATCH-2026-01-30-001",batchDate:"2026-01-30T10:00:00",totalTransactions:10,totalAmount:2340,status:"Pending",createdDate:"2026-01-30 08:00 AM",createdBy:"System Auto-Batch",processedDate:null,processedBy:null,notes:""}],le=[{id:1,paymentId:"PAY-2026-001",requestId:"REQ-2026-002",participantId:"P-2025-156",participantName:"Sarah Johnson",study:"NDR-2025-042",disbursementCurrency:"USD",amountInDisbursementCurrency:75,transactionDate:"2026-01-15",transactionType:"Reimbursement",transactionSubType:"Parking",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Visit 1",paymentMethod:"Bank Transfer",approver:"Patrick Cruz",approveDate:"2026-01-10",approvalNotes:"All documentation verified and complete"},{id:2,paymentId:"PAY-2026-002",requestId:"REQ-2026-006",participantId:"P-2025-178",participantName:"Linda Martinez",study:"DPT-2025-019",disbursementCurrency:"USD",amountInDisbursementCurrency:35,transactionDate:"2026-01-14",transactionType:"Reimbursement",transactionSubType:"Meal",paymentType:"Check",paymentSubtype:"Paper Check",milestone:"Visit 2",paymentMethod:"Mail Check",approver:"Tashanna Sawyer",approveDate:"2026-01-08",approvalNotes:"Meal receipts reviewed and approved"},{id:3,paymentId:"PAY-2025-045",requestId:"REQ-2025-005",participantId:"P-2025-234",participantName:"Robert Wilson",study:"CIS-2025-055",disbursementCurrency:"USD",amountInDisbursementCurrency:200,transactionDate:"2026-01-05",transactionType:"Payment",transactionSubType:"Stipend",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Monthly Participation",paymentMethod:"Bank Transfer",approver:"Kimmy Clifton",approveDate:"2025-12-30",approvalNotes:"Monthly participation payment approved"},{id:4,paymentId:"PAY-2025-046",requestId:"REQ-2025-008",participantId:"P-2025-298",participantName:"David Anderson",study:"ATE-2025-031",disbursementCurrency:"USD",amountInDisbursementCurrency:300,transactionDate:"2026-01-08",transactionType:"Payment",transactionSubType:"Completion Bonus",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Study Completion",paymentMethod:"Bank Transfer",approver:"Jennifer Staley",approveDate:"2026-01-02",approvalNotes:"Final study completion payment - all milestones met"},{id:5,paymentId:"PAY-2026-003",requestId:"REQ-2025-087",participantId:"P-2025-089",participantName:"Maria Garcia",study:"CHS-2026-001",disbursementCurrency:"USD",amountInDisbursementCurrency:150,transactionDate:"2026-01-12",transactionType:"Reimbursement",transactionSubType:"Travel",paymentType:"Prepaid Card",paymentSubtype:"Visa Gift Card",milestone:"Visit 3",paymentMethod:"Prepaid Card",approver:"Dr. Sarah Chen",approveDate:"2026-01-06",approvalNotes:"Mileage reimbursement approved - 60 miles @ $2.50/mile"},{id:6,paymentId:"PAY-2026-004",requestId:"REQ-2025-123",participantId:"P-2025-045",participantName:"Thomas Lee",study:"PNS-2026-008",disbursementCurrency:"USD",amountInDisbursementCurrency:100,transactionDate:"2026-01-18",transactionType:"Payment",transactionSubType:"Stipend",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Baseline Visit",paymentMethod:"Bank Transfer",approver:"Douglas Ross",approveDate:"2026-01-14",approvalNotes:"Baseline visit compensation approved"},{id:7,paymentId:"PAY-2026-005",requestId:"REQ-2025-156",participantId:"P-2025-201",participantName:"Angela White",study:"DPT-2025-019",disbursementCurrency:"USD",amountInDisbursementCurrency:50,transactionDate:"2026-01-20",transactionType:"Reimbursement",transactionSubType:"Parking",paymentType:"Check",paymentSubtype:"Paper Check",milestone:"Visit 1",paymentMethod:"Mail Check",approver:"Ted Noravong",approveDate:"2026-01-16",approvalNotes:"Parking fees verified and approved"},{id:8,paymentId:"PAY-2026-006",requestId:"REQ-2026-034",participantId:"P-2026-012",participantName:"Christopher Brown",study:"NDR-2025-042",disbursementCurrency:"USD",amountInDisbursementCurrency:250,transactionDate:"2026-01-22",transactionType:"Payment",transactionSubType:"Incentive",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"6-Month Follow-up",paymentMethod:"Bank Transfer",approver:"Megan Hummelgaard",approveDate:"2026-01-19",approvalNotes:"Follow-up visit incentive approved"}],Z=x=>{p===x?f(A==="asc"?"desc":"asc"):(L(x),f("asc"))},Y=x=>{T===x?W(P==="asc"?"desc":"asc"):(je(x),W("asc"))},_=E.filter(x=>{const C=x.batchId.toLowerCase().includes(o.toLowerCase()),I=u==="all"||x.status===u,M=new Date(x.batchDate),c=!S||M>=new Date(S),J=!w||M<=new Date(w);return C&&I&&c&&J}).sort((x,C)=>{let I=x[p],M=C[p];return I==null?1:M==null?-1:(p==="batchDate"?(I=new Date(I).getTime(),M=new Date(M).getTime()):(I=String(I).toLowerCase(),M=String(M).toLowerCase()),A==="asc"?I<M?-1:I>M?1:0:I>M?-1:I<M?1:0)}),ie=le.filter(x=>{const C=x.participantName.toLowerCase().includes($.toLowerCase())||x.participantId.toLowerCase().includes($.toLowerCase())||x.study.toLowerCase().includes($.toLowerCase())||x.paymentId.toLowerCase().includes($.toLowerCase())||x.requestId.toLowerCase().includes($.toLowerCase()),I=D==="all"||x.paymentMethod===D,M=y==="all"||x.paymentType===y;return C&&I&&M}).sort((x,C)=>{let I=x[T],M=C[T];return I==null?1:M==null?-1:(T==="transactionDate"||T==="approveDate"?(I=new Date(I).getTime(),M=new Date(M).getTime()):T==="amountInDisbursementCurrency"||(I=String(I).toLowerCase(),M=String(M).toLowerCase()),P==="asc"?I<M?-1:I>M?1:0:I>M?-1:I<M?1:0)}),B=le.length,q=le.reduce((x,C)=>x+C.amountInDisbursementCurrency,0),ze=q/B,me=le.filter(x=>x.transactionDate>="2026-01-01").length,ue=x=>{switch(x){case"Completed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";case"Pending":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},ge=x=>{v.success("Batch Export Started",{description:`Downloading ${x.batchId}...`,duration:2e3})},Se=()=>{v.success("Completed Payments exported to Excel successfully")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(Ve,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Payment Batches"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Manage and review payment batches"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:r==="transactions"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>V(!G),className:"p-2.5 text-gray-600 hover:bg-gray-50 rounded-lg transition-all",title:G?"Hide Key Performance Indicators":"Show Key Performance Indicators",children:G?e.jsx(Ze,{size:20}):e.jsx(We,{size:20})}),e.jsx("button",{onClick:Se,className:"flex items-center gap-2 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50 font-medium transition-all",title:"Export to Excel",children:e.jsx(Ve,{size:20})})]})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>d("batches"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r==="batches"?"border-[#0051BA] text-[#0051BA]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Payment Batch"}),e.jsx("button",{onClick:()=>d("transactions"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r==="transactions"?"border-[#0051BA] text-[#0051BA]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Batch Transactions"})]})}),r==="batches"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",value:o,onChange:x=>b(x.target.value),placeholder:"Search by Batch ID...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{size:20,className:"text-gray-400"}),e.jsxs("select",{value:u,onChange:x=>U(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Process",children:"In Process"}),e.jsx("option",{value:"Completed",children:"Completed"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"date",value:S,onChange:x=>j(x.target.value),placeholder:"Date From",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"date",value:w,onChange:x=>k(x.target.value),placeholder:"Date To",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Z("batchId"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Batch ID",p==="batchId"?A==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Z("batchDate"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Batch Date",p==="batchDate"?A==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Z("totalTransactions"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Total Transactions",p==="totalTransactions"?A==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Z("totalAmount"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Total Amount",p==="totalAmount"?A==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Z("status"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Status",p==="status"?A==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:_.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No batches found matching your filters."})}):_.map(x=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>z(x),className:"text-[#0051BA] hover:text-[#003d8f] font-medium",children:x.batchId})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(x.batchDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.batchDate).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:x.totalTransactions}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:["$",x.totalAmount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ue(x.status)}`,children:x.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>z(x),className:"p-2 text-[#0051BA] hover:bg-blue-50 rounded-lg transition-colors",title:"View Batch",children:e.jsx(Oe,{size:18})}),e.jsx("button",{onClick:()=>ge(x),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Download Batch",children:e.jsx(rs,{size:18})})]})})]},x.id))})]})})})]}),r==="transactions"&&e.jsxs(e.Fragment,{children:[G&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Total Payments"}),e.jsx(Ee,{className:"text-green-500",size:24})]}),e.jsx("p",{className:"text-3xl font-bold",children:B}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All time"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Total Amount"}),e.jsx(Ee,{className:"text-blue-500",size:24})]}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",q.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All payments"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Average Payment"}),e.jsx(Ee,{className:"text-purple-500",size:24})]}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",ze.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Per transaction"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"This Month"}),e.jsx(Ee,{className:"text-orange-500",size:24})]}),e.jsx("p",{className:"text-3xl font-bold",children:me}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"January 2026"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by participant, payment ID, request ID, or study...",value:$,onChange:x=>H(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0051BA]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{size:20,className:"text-gray-400"}),e.jsxs("select",{value:D,onChange:x=>R(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0051BA]",children:[e.jsx("option",{value:"all",children:"All Payment Methods"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Mail Check",children:"Mail Check"}),e.jsx("option",{value:"Prepaid Card",children:"Prepaid Card"})]}),e.jsxs("select",{value:y,onChange:x=>K(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0051BA]",children:[e.jsx("option",{value:"all",children:"All Payment Types"}),e.jsx("option",{value:"Direct Deposit",children:"Direct Deposit"}),e.jsx("option",{value:"Check",children:"Check"}),e.jsx("option",{value:"Prepaid Card",children:"Prepaid Card"})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("paymentId"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Payment ID",T==="paymentId"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("requestId"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Request ID",T==="requestId"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("participantName"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Participant",T==="participantName"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("study"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Study",T==="study"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Disbursement Currency"}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("amountInDisbursementCurrency"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Amount",T==="amountInDisbursementCurrency"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("transactionDate"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Transaction Date",T==="transactionDate"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("transactionType"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Transaction Type",T==="transactionType"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Transaction SubType"}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("paymentType"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Payment Type",T==="paymentType"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Payment Subtype"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Milestone"}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("paymentMethod"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Payment Method",T==="paymentMethod"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("approver"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Approver",T==="approver"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:()=>Y("approveDate"),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:["Approve Date",T==="approveDate"?P==="asc"?e.jsx(ve,{size:14}):e.jsx(Ce,{size:14}):e.jsx(we,{size:14,className:"opacity-40"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Approval Notes"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ie.map(x=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#0051BA]",children:x.paymentId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.requestId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:x.participantName}),e.jsx("p",{className:"text-xs text-gray-500",children:x.participantId})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.study}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:x.disbursementCurrency}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["$",x.amountInDisbursementCurrency.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.transactionDate}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.transactionType}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.transactionSubType}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${x.paymentType==="Direct Deposit"?"bg-blue-100 text-blue-800":x.paymentType==="Check"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:x.paymentType})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.paymentSubtype}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.milestone}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.approver}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:x.approveDate}),e.jsx("td",{className:"px-6 py-4 max-w-xs",children:e.jsx("p",{className:"text-sm text-gray-600 truncate",title:x.approvalNotes,children:x.approvalNotes})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-[#0051BA] hover:bg-blue-50 rounded",title:"View Details",children:e.jsx(Oe,{size:16})}),e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Download Receipt",children:e.jsx(rs,{size:16})})]})})]},x.id))})]})}),ie.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No completed payments found"}),e.jsx("p",{className:"text-sm mt-1",children:"Adjust your filters to see more results"})]}),ie.length>0&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing ",ie.length," of ",le.length," payments"]}),e.jsxs("p",{className:"text-gray-600 font-medium",children:["Total: $",ie.reduce((x,C)=>x+C.amountInDisbursementCurrency,0).toFixed(2)]})]})]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:e.jsxs("div",{className:"bg-white h-full w-full max-w-2xl shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:h.batchId}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ue(h.status)}`,children:h.status})]}),e.jsx("button",{onClick:()=>z(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ce,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Batch Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Batch ID"}),e.jsx("p",{className:"mt-1 text-gray-900",children:h.batchId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Batch Date"}),e.jsx("p",{className:"mt-1 text-gray-900",children:new Date(h.batchDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ue(h.status)}`,children:h.status})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Amount"}),e.jsxs("p",{className:"mt-1 text-gray-900 font-semibold",children:["$",h.totalAmount.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Total Transactions"}),e.jsx("p",{className:"mt-1 text-gray-900",children:h.totalTransactions})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Processing Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created Date"}),e.jsx("p",{className:"mt-1 text-gray-900",children:h.createdDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created By"}),e.jsx("p",{className:"mt-1 text-gray-900",children:h.createdBy})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Processed Date"}),e.jsx("p",{className:"mt-1 text-gray-900",children:h.processedDate||"Not yet processed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Processed By"}),e.jsx("p",{className:"mt-1 text-gray-900",children:h.processedBy||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes / Comments"}),e.jsx("textarea",{value:h.notes,readOnly:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 resize-none",placeholder:"No notes available for this batch."})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>ge(h),className:"px-4 py-2 bg-[#0051BA] text-white rounded-lg hover:bg-[#003d8f] transition-colors flex items-center gap-2",children:[e.jsx(rs,{size:18}),"Download Batch"]}),e.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})})]})}function ir(){const[r,d]=t.useState(""),[o,b]=t.useState("all"),[u,U]=t.useState("all"),[S,j]=t.useState(!1),w=[{id:1,paymentId:"PAY-2026-001",requestId:"REQ-2026-002",participantId:"P-2025-156",participantName:"Sarah Johnson",study:"NDR-2025-042",disbursementCurrency:"USD",amountInDisbursementCurrency:75,transactionDate:"2026-01-15",transactionType:"Reimbursement",transactionSubType:"Parking",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Visit 1",paymentMethod:"Bank Transfer",approver:"Patrick Cruz",approveDate:"2026-01-10",approvalNotes:"All documentation verified and complete"},{id:2,paymentId:"PAY-2026-002",requestId:"REQ-2026-006",participantId:"P-2025-178",participantName:"Linda Martinez",study:"DPT-2025-019",disbursementCurrency:"USD",amountInDisbursementCurrency:35,transactionDate:"2026-01-14",transactionType:"Reimbursement",transactionSubType:"Meal",paymentType:"Check",paymentSubtype:"Paper Check",milestone:"Visit 2",paymentMethod:"Mail Check",approver:"Tashanna Sawyer",approveDate:"2026-01-08",approvalNotes:"Meal receipts reviewed and approved"},{id:3,paymentId:"PAY-2025-045",requestId:"REQ-2025-005",participantId:"P-2025-234",participantName:"Robert Wilson",study:"CIS-2025-055",disbursementCurrency:"USD",amountInDisbursementCurrency:200,transactionDate:"2026-01-05",transactionType:"Payment",transactionSubType:"Stipend",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Monthly Participation",paymentMethod:"Bank Transfer",approver:"Kimmy Clifton",approveDate:"2025-12-30",approvalNotes:"Monthly participation payment approved"},{id:4,paymentId:"PAY-2025-046",requestId:"REQ-2025-008",participantId:"P-2025-298",participantName:"David Anderson",study:"ATE-2025-031",disbursementCurrency:"USD",amountInDisbursementCurrency:300,transactionDate:"2026-01-08",transactionType:"Payment",transactionSubType:"Completion Bonus",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Study Completion",paymentMethod:"Bank Transfer",approver:"Jennifer Staley",approveDate:"2026-01-02",approvalNotes:"Final study completion payment - all milestones met"},{id:5,paymentId:"PAY-2026-003",requestId:"REQ-2025-087",participantId:"P-2025-089",participantName:"Maria Garcia",study:"CHS-2026-001",disbursementCurrency:"USD",amountInDisbursementCurrency:150,transactionDate:"2026-01-12",transactionType:"Reimbursement",transactionSubType:"Travel",paymentType:"Prepaid Card",paymentSubtype:"Visa Gift Card",milestone:"Visit 3",paymentMethod:"Prepaid Card",approver:"Dr. Sarah Chen",approveDate:"2026-01-06",approvalNotes:"Mileage reimbursement approved - 60 miles @ $2.50/mile"},{id:6,paymentId:"PAY-2026-004",requestId:"REQ-2025-123",participantId:"P-2025-045",participantName:"Thomas Lee",study:"PNS-2026-008",disbursementCurrency:"USD",amountInDisbursementCurrency:100,transactionDate:"2026-01-18",transactionType:"Payment",transactionSubType:"Stipend",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Baseline Visit",paymentMethod:"Bank Transfer",approver:"Douglas Ross",approveDate:"2026-01-14",approvalNotes:"Baseline visit compensation approved"},{id:7,paymentId:"PAY-2026-005",requestId:"REQ-2025-156",participantId:"P-2025-201",participantName:"Angela White",study:"DPT-2025-019",disbursementCurrency:"USD",amountInDisbursementCurrency:50,transactionDate:"2026-01-20",transactionType:"Reimbursement",transactionSubType:"Parking",paymentType:"Check",paymentSubtype:"Paper Check",milestone:"Visit 1",paymentMethod:"Mail Check",approver:"Ted Noravong",approveDate:"2026-01-16",approvalNotes:"Parking fees verified and approved"},{id:8,paymentId:"PAY-2026-006",requestId:"REQ-2026-034",participantId:"P-2026-012",participantName:"Christopher Brown",study:"NDR-2025-042",disbursementCurrency:"USD",amountInDisbursementCurrency:250,transactionDate:"2026-01-22",transactionType:"Payment",transactionSubType:"Incentive",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"6-Month Follow-up",paymentMethod:"Bank Transfer",approver:"Megan Hummelgaard",approveDate:"2026-01-19",approvalNotes:"Follow-up visit incentive approved"}],k=w.filter(f=>{const $=f.participantName.toLowerCase().includes(r.toLowerCase())||f.participantId.toLowerCase().includes(r.toLowerCase())||f.study.toLowerCase().includes(r.toLowerCase())||f.paymentId.toLowerCase().includes(r.toLowerCase())||f.requestId.toLowerCase().includes(r.toLowerCase()),H=o==="all"||f.paymentMethod===o,D=u==="all"||f.paymentType===u;return $&&H&&D}),h=w.length,z=w.reduce((f,$)=>f+$.amountInDisbursementCurrency,0),p=z/h,L=w.filter(f=>f.transactionDate>="2026-01-01").length,A=()=>{v.success("Completed Payments exported to Excel successfully")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(Ee,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Completed Payments"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"View all processed and completed payments"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(!S),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:S?"Hide Key Performance Indicators":"Show Key Performance Indicators",children:S?e.jsx(Ze,{size:20}):e.jsx(We,{size:20})}),e.jsx("button",{onClick:A,className:"flex items-center gap-2 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50 font-medium transition-all",title:"Export to Excel",children:e.jsx(Ve,{size:20})})]})]}),S&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Total Payments"}),e.jsx(Ee,{className:"text-green-500",size:24})]}),e.jsx("p",{className:"text-3xl font-bold",children:h}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All time"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Total Amount"}),e.jsx(Ee,{className:"text-blue-500",size:24})]}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",z.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All payments"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"Average Payment"}),e.jsx(Ee,{className:"text-purple-500",size:24})]}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",p.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Per transaction"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-gray-600",children:"This Month"}),e.jsx(Ee,{className:"text-orange-500",size:24})]}),e.jsx("p",{className:"text-3xl font-bold",children:L}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"January 2026"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by participant, payment ID, request ID, or study...",value:r,onChange:f=>d(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{size:20,className:"text-gray-400"}),e.jsxs("select",{value:o,onChange:f=>b(f.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Payment Methods"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Mail Check",children:"Mail Check"}),e.jsx("option",{value:"Prepaid Card",children:"Prepaid Card"})]}),e.jsxs("select",{value:u,onChange:f=>U(f.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Payment Types"}),e.jsx("option",{value:"Direct Deposit",children:"Direct Deposit"}),e.jsx("option",{value:"Check",children:"Check"}),e.jsx("option",{value:"Prepaid Card",children:"Prepaid Card"})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Payment ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Request ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Participant"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Study"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Disbursement Currency"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Transaction Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Transaction Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Transaction SubType"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Payment Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Payment Subtype"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Milestone"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Payment Method"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Approver"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Approve Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Approval Notes"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:k.map(f=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:f.paymentId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.requestId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:f.participantName}),e.jsx("p",{className:"text-xs text-gray-500",children:f.participantId})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.study}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:f.disbursementCurrency}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["$",f.amountInDisbursementCurrency.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.transactionDate}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.transactionType}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.transactionSubType}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${f.paymentType==="Direct Deposit"?"bg-blue-100 text-blue-800":f.paymentType==="Check"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:f.paymentType})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.paymentSubtype}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.milestone}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.paymentMethod}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.approver}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.approveDate}),e.jsx("td",{className:"px-6 py-4 max-w-xs",children:e.jsx("p",{className:"text-sm text-gray-600 truncate",title:f.approvalNotes,children:f.approvalNotes})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View Details",children:e.jsx(Oe,{size:16})}),e.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Download Receipt",children:e.jsx(rs,{size:16})})]})})]},f.id))})]})}),k.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"No completed payments found"}),e.jsx("p",{className:"text-sm mt-1",children:"Adjust your filters to see more results"})]}),k.length>0&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing ",k.length," of ",w.length," payments"]}),e.jsxs("p",{className:"text-gray-600 font-medium",children:["Total: $",k.reduce((f,$)=>f+$.amountInDisbursementCurrency,0).toFixed(2)]})]})]})]})}function nr({reportType:r="general"}){const[d,o]=t.useState("study-expense"),b=()=>{if(r==="reports-financial")return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl mb-2",children:"Financial Reporting"}),e.jsx("p",{className:"text-gray-600",children:"Generate comprehensive financial reports for studies, participants, and expenses."})]}),e.jsxs("div",{className:"w-64",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Report Type"}),e.jsxs("select",{value:d,onChange:u=>o(u.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"study-expense",children:"Study to Expense"}),e.jsx("option",{value:"participant-expense",children:"Participant to Expense"}),e.jsx("option",{value:"itemized",children:"Itemized Reports"}),e.jsx("option",{value:"rollup",children:"Roll-up Reports"})]})]})]}),d==="study-expense"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[e.jsx("h3",{className:"text-lg mb-2",children:"Study to Expense Report"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"View expense breakdown by study with detailed financial analysis."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Study"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"All Studies"}),e.jsx("option",{children:"CHS-2026-001"}),e.jsx("option",{children:"NDR-2025-042"}),e.jsx("option",{children:"DPT-2025-019"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(rs,{size:16}),"Generate Report"]})]}),d==="participant-expense"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[e.jsx("h3",{className:"text-lg mb-2",children:"Participant to Expense Report"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"View expense breakdown by participant with payment history."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Participant"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"All Participants"}),e.jsx("option",{children:"John Smith"}),e.jsx("option",{children:"Sarah Johnson"}),e.jsx("option",{children:"Michael Brown"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(rs,{size:16}),"Generate Report"]})]}),d==="itemized"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[e.jsx("h3",{className:"text-lg mb-2",children:"Itemized Reports"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Detailed itemized expense reports by Site, Study, Participant, and Reimbursement type."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Report By"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"Site"}),e.jsx("option",{children:"Study"}),e.jsx("option",{children:"Participant"}),e.jsx("option",{children:"Reimbursement"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Filter"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"KUMC Main"}),e.jsx("option",{children:"KUMC West"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(rs,{size:16}),"Generate Itemized Report"]})]}),d==="rollup"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[e.jsx("h3",{className:"text-lg mb-2",children:"Roll-up Reports"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Aggregated roll-up reports by Site, Study, Participant, and Reimbursement type."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Roll-up By"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"Site"}),e.jsx("option",{children:"Study"}),e.jsx("option",{children:"Participant"}),e.jsx("option",{children:"Reimbursement"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Period"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"Monthly"}),e.jsx("option",{children:"Quarterly"}),e.jsx("option",{children:"Yearly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(rs,{size:16}),"Generate Roll-up Report"]})]})]})});switch(r){case"reports-1099":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl mb-2",children:"1099 Tax Report"}),e.jsx("p",{className:"text-gray-600 mb-1",children:"Extract data for 1099 tax compliance reporting."}),e.jsx("p",{className:"text-sm text-blue-600 mb-4",children:"Note: This report is for Calendar Year reporting purposes."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Tax Year"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"2026"}),e.jsx("option",{children:"2025"}),e.jsx("option",{children:"2024"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Threshold Amount"}),e.jsx("input",{type:"number",placeholder:"$600",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(rs,{size:16}),"Generate 1099 Extract"]})]})});case"reports-reconciliation":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl mb-4",children:"Reconciliation Report"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Study to Accounting alignment for expenses and accounting records."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Study"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"All Studies"}),e.jsx("option",{children:"CHS-2026-001"}),e.jsx("option",{children:"NDR-2025-042"}),e.jsx("option",{children:"DPT-2025-019"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Accounting Period"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"Current Month"}),e.jsx("option",{children:"Last Month"}),e.jsx("option",{children:"Current Quarter"}),e.jsx("option",{children:"Last Quarter"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Fiscal Year"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"FY 2026"}),e.jsx("option",{children:"FY 2025"}),e.jsx("option",{children:"FY 2024"}),e.jsx("option",{children:"FY 2023"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Fiscal Month"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"July"}),e.jsx("option",{children:"August"}),e.jsx("option",{children:"September"}),e.jsx("option",{children:"October"}),e.jsx("option",{children:"November"}),e.jsx("option",{children:"December"}),e.jsx("option",{children:"January"}),e.jsx("option",{children:"February"}),e.jsx("option",{children:"March"}),e.jsx("option",{children:"April"}),e.jsx("option",{children:"May"}),e.jsx("option",{children:"June"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"Reconciled"}),e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"Discrepancy"})]})]})]}),e.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[e.jsx(rs,{size:16}),"Generate Reconciliation Report"]})]})});default:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl mb-4",children:"Reports Overview"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Select a report type from the sidebar to generate financial reports, tax documents, and reconciliation data."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx(Ps,{className:"text-blue-600 mb-3",size:32}),e.jsx("h3",{className:"text-lg mb-2",children:"Financial Reporting"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Study, participant, itemized and roll-up reports"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx(Ms,{className:"text-green-600 mb-3",size:32}),e.jsx("h3",{className:"text-lg mb-2",children:"1099 Tax Report"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Extract for 1099 tax compliance"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx(bs,{className:"text-purple-600 mb-3",size:32}),e.jsx("h3",{className:"text-lg mb-2",children:"Reconciliation"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Study to accounting alignment"})]})]})]})})}};return e.jsx("div",{className:"space-y-6",children:b()})}function lr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-ku-blue rounded-lg shadow-md p-8 text-white",children:[e.jsx("h1",{className:"text-3xl mb-2",children:"Help & Support"}),e.jsx("p",{className:"text-blue-100",children:"Find answers, tutorials, and get support for the Participant Payment Portal"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(ca,{className:"text-blue-600",size:24})}),e.jsx("h3",{className:"text-lg mb-2",children:"User Guide"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Comprehensive documentation on how to use all features of the portal"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Guide â†’"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(ma,{className:"text-purple-600",size:24})}),e.jsx("h3",{className:"text-lg mb-2",children:"Video Tutorials"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Step-by-step video guides for common tasks and workflows"}),e.jsx("button",{className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"Watch Videos â†’"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Ps,{className:"text-green-600",size:24})}),e.jsx("h3",{className:"text-lg mb-2",children:"FAQs"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Frequently asked questions and quick answers to common issues"}),e.jsx("button",{className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Browse FAQs â†’"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl",children:"Common Topics"})}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[e.jsxs("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[e.jsx("h3",{className:"font-medium mb-2",children:"How do I enroll a new participant?"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Learn the step-by-step process for enrolling participants in your studies."})]}),e.jsxs("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Managing participant payments and reimbursements"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Understand how to process payments, approve requests, and track reimbursements."})]}),e.jsxs("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Scheduling and managing study visits"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Tips for efficiently scheduling visits and managing your calendar."})]}),e.jsxs("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Bulk uploading data from Excel files"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Learn how to use the bulk upload feature for studies, participants, and visits."})]}),e.jsxs("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Exporting data and generating reports"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"How to export your data in various formats for analysis and reporting."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl",children:"Contact Support"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"Can't find what you're looking for? Our support team is here to help."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(xa,{className:"text-blue-600",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-1",children:"Live Chat"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Available Mon-Fri, 9am-5pm CST"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"Start Chat â†’"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ua,{className:"text-purple-600",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-1",children:"Email Support"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Response within 24 hours"}),e.jsx("a",{href:"mailto:support@ppp.kumc.edu",className:"text-sm text-purple-600 hover:text-purple-800",children:"support@ppp.kumc.edu"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(pa,{className:"text-green-600",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-1",children:"Phone Support"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Mon-Fri, 9am-5pm CST"}),e.jsx("a",{href:"tel:+1-555-123-4567",className:"text-sm text-green-600 hover:text-green-800",children:"+1 (555) 123-4567"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl mb-4",children:"System Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"Application Version:"}),e.jsx("span",{className:"font-medium",children:"2.1.0"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),e.jsx("span",{className:"font-medium",children:"January 5, 2026"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"Database Version:"}),e.jsx("span",{className:"font-medium",children:"1.8.3"})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"Environment:"}),e.jsx("span",{className:"font-medium",children:"Production"})]})]})]})]})}function dr(){const[r,d]=t.useState("studies"),[o,b]=t.useState(!1),[u,U]=t.useState(!1),[S,j]=t.useState("Admin"),w=()=>U(!0),k=()=>{U(!1),d("studies")},h=p=>{j(p),v.success(`Role changed to ${p}`,{description:`You now have ${p==="Admin"?"full system access":p==="Study Coordinator"?"access to assigned studies":"view-only access"}.`,duration:3e3})};if(u)return e.jsxs(e.Fragment,{children:[e.jsx(rt,{position:"top-right",richColors:!0}),e.jsx(Wa,{onReturnToApp:k})]});const z=()=>{if(r.startsWith("reports"))return e.jsx(nr,{reportType:r});switch(r){case"dashboard":return e.jsx(lt,{});case"studies":return e.jsx($a,{currentUserRole:S});case"funding":return e.jsx(Fa,{});case"organizations":return e.jsx(Ha,{});case"security":return e.jsx(Ja,{});case"participants":return e.jsx(qa,{});case"payments":return e.jsx(_a,{});case"payments-wizard":return e.jsx(ar,{onBack:()=>d("payments")});case"payment-batches":return e.jsx(rr,{});case"completed-payments":return e.jsx(ir,{});case"help":return e.jsx(lr,{});case"sso":return w(),null;default:return e.jsx(lt,{})}};return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(rt,{position:"top-right",richColors:!0}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx(Ta,{currentPage:r,onNavigate:d,isSidebarCollapsed:o,onToggleSidebar:()=>b(!o),currentUserRole:S,onRoleChange:h}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx(Aa,{currentPage:r,onNavigate:d,isCollapsed:o,onToggleCollapse:()=>b(!o)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:z()})]})]})]})}ha.createRoot(document.getElementById("root")).render(e.jsx(dr,{}));
